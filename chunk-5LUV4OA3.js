import{a as $e}from"./chunk-6PDOYBIO.js";import{e as it,f as nt,g as lt,h as Ze,j as rt,l as pt,m as dt}from"./chunk-H65D7TEK.js";import{b as st,c as ft,d as _t,e as ct}from"./chunk-BY7XD2LG.js";import{a as He}from"./chunk-24EAKDH7.js";import{Aa as Yo,Ib as Ge,Mc as tt,Nc as at,ab as mo,bc as Ee,fc as Qe,h as Qo,nb as Jo,pc as et,qc as ot,ra as Ko,rc as De,za as co}from"./chunk-SVTJHYCA.js";import{c as Zo,d as Ho,e as $o,h as qo,t as _o}from"./chunk-BG3JJFTQ.js";import{D as je,r as We,w as Xo,x as ye}from"./chunk-SRMT2IEJ.js";import{$ as w,$a as s,$b as g,Ab as Y,Ac as Lo,Bb as V,C as po,Ca as N,Eb as C,Eh as be,Ei as oe,F as Co,Fa as I,Fb as $,Fd as Ro,Ga as Eo,Gb as A,Gh as xe,Ha as Do,Hb as ze,Hh as Wo,Kb as B,Kh as jo,L as so,La as D,Lb as L,M as bo,Mb as P,Na as S,Nh as Ae,P as xo,Qb as Vo,Ra as le,Rb as re,Rh as Te,Sa as fo,Sb as X,T as Ao,Ta as _,Tb as Bo,U as To,Va as c,Wh as Se,Wi as te,X as So,Xa as fe,Ya as j,Yh as Go,Za as G,_a as m,_b as u,a as Be,aa as h,ab as f,ac as ve,ba as yo,bb as E,d as ho,da as Fo,ec as Ne,fa as No,fb as Re,gb as Ue,jb as x,jh as U,ka as me,lh as zo,mb as b,na as Pe,p as go,pb as r,pf as he,q as Le,qb as ko,qe as Oe,rb as Mo,rc as J,rd as W,s as lo,sb as Io,sh as ge,tb as Q,td as Po,th as Ce,ub as z,v as ro,vb as O,wa as p,wf as Uo,xh as pe,yd as we,zb as R,zc as ue,zh as Oo,zi as ee}from"./chunk-KNVD5TB7.js";import{a as se,b as no}from"./chunk-66YHNWRR.js";function Z(e){return e.status==="approved"}function qe(e){return e.status!=="not started"}function mt(e){return e?.name}function Ke(e){return e?.name}function vt(e){return e?.id}function Ye(e,n){return e.name.toLowerCase().indexOf(n.toLowerCase())>-1}function ae(e,n){return n?.id??e}function _e(e){return e.columns.reduce((n,o)=>n.concat(o.nodes),[])}function ut(e,n){return n.filter(o=>ce(o,e.id))}function Xe(){return{id:`blankId${(Math.random()*1e3).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",blank:!0}}function wt(){return{id:`spaceId${(Math.random()*1e3).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",space:!0}}function ce(e,n){return e.targets.includes(n)}function gt(e){let n={columns:[],errors:!1};if(!e.length)return n;let o=yt(e),a=Ft(e);if(!o.length||!a.length)return console.warn("Err: Not possible to build graph because root or final nodes aren't present!"),n.errors=!0,n;let t=Nt(o,e);if(!t.length)return console.warn("Err: Not possible to build graph!"),n.errors=!0,n;let i=Et(t),l=Dt(i),d=Mt(l),v=It(d),T=Vt(v),y=Bt(T),k=Lt(y),M=Pt(k);return n.columns=Ut(M),n}function Ct(e){let n=_e(e),o={};return e.columns.forEach((a,t)=>{a.nodes.forEach((i,l)=>{let d=ut(i,n),v=d.length?d.every(de=>Z(de)):!1,T=!d.length&&!i.space,y=!i.targets.length&&!i.space,k=d.length>1,M=t===0&&a.nodes.length>1&&l===0,F=t===e.columns.length-1&&a.nodes.length>1&&l===0;o[i.id]={parents:d,isRoot:T,isFinal:y,parallelStart:i.targets.length>1,parallelEnd:k,columnIndex:t,nodeIndex:l,canAddNodeBefore:!qe(i)&&!v,canAddNodeBeforeAll:T&&M,canAddNodeAfter:!Z(i),canAddNodeAfterAll:!Z(i)&&(y&&F||k&&i.blank),canAddParallel:!Z(i),isVerticalLineBeforeSolid:i.space&&e.columns[t-1]?.allNodesApproved,isVerticalLineAfterSolid:i.space&&a.allNodesApproved,firstOfMultipleRootNodes:M,firstOfMultipleFinalNodes:F,rootNodesApproved:t===0&&a.allNodesApproved}})}),e.columns.forEach(a=>{a.nodes.forEach((t,i)=>{let l=o[t.id];l.isLastInParallel=o[t.targets[0]]?.parallelEnd,l.isFirstInParallel=o[l.parents[0]?.id]?.parallelStart;let d=a.index,v=d?e.columns[d-1]:void 0,T=d?e.columns[d+1]:void 0,y=v?.nodes[i],k=T?.nodes[i];l.renderAddNodeAfterButton=l.canAddNodeAfter&&(l.isFinal||l.parallelStart||l.isLastInParallel||k?.blank);let M=T?.nodes;if(l.parallelStart&&M){let de=M.filter(ne=>t.targets.includes(ne.id)),io=M.findIndex(ne=>ne.id===de[0].id),ie=M.findIndex(ne=>ne.id===de[de.length-1].id);for(let ne=io+1;ne<=ie;ne++)o[M[ne].id].renderVerticalLineBefore=!0}let F=v?.nodes;if(l.parallelEnd&&F){let de=F.findIndex(ie=>ie.id===l.parents[0].id),io=F.findIndex(ie=>ie.id===l.parents[l.parents.length-1].id);for(let ie=de+1;ie<=io;ie++)o[F[ie].id].renderVerticalLineAfter=!0}l.renderVerticalLineBefore=l.renderVerticalLineBefore?!0:i>0&&!y,l.renderVerticalLineAfter=l.renderVerticalLineAfter?!0:i>0&&!k})}),o}function yt(e){return e.filter(n=>e.every(o=>!ce(o,n.id)))}function Ft(e){return e.filter(n=>!n.targets.length)}function Nt(e,n){let o=[],a=[];for(let t=0;t<e.length;t++)for(a.push([e[t]]);a.length;){let i=a.pop(),l;if(i&&(l=i[i.length-1]),!l)return[];l.targets.length?l.targets.forEach(d=>{let v=n.find(y=>y.id===d);if(!v)return;let T=[...i,v];a.push(T)}):o.push(i)}return o}function Et(e){let n=[];return e.forEach(o=>{let a=o.length-1;for(let t=o.length-1;t>0&&o[t].blank;--t)a=t-1;o[a].targets=[],n.push(o.slice(0,a+1))}),n}function Dt(e){let n=[],o=e.map(t=>t.length),a=Math.max(...o);return e.forEach(t=>{if(t.length===a){n.push(t);return}t.forEach((i,l)=>{let d=kt(i,n);if(d.length&&d[0].id!==t[l+1]?.id){t.splice(l+1,0,...d);return}let v=e.map(y=>y.indexOf(i)),T=Math.max(...v);if(l<T){d=ht(T-l,t[l-1].status),d[d.length-1].targets=[i.id],t[l-1].targets=[d[0].id],t.splice(l,0,...d);return}if(l===T&&l===t.length-1){d=ht(a-t.length,t[l].status),t[l].targets=[d[0].id],t.splice(l+1,0,...d);return}}),n.push(t)}),n}function kt(e,n){let o=[],a=n.find(t=>{let i=t.indexOf(e);return i>-1&&t[i+1]?.blank});if(a){let t=a.indexOf(e)+1,i=a.findIndex((l,d)=>d>t&&!l.blank);o.push(...a.slice(t,i>0?i:void 0))}return o}function ht(e,n){let o=[],a,t;for(let i=e;i>0;i--)a=Object.assign({},Xe(),{targets:t?[t]:[],status:n}),t=a.id,o.unshift(a);return o}function Mt(e){if(e.length===1)return e;let n=[],o=0;e.forEach((i,l)=>{for(let d=0;d<e.length;d++)if(l!==d&&!n.some(v=>l===v[1]&&d===v[0])){o=0;for(let v=0;v<i.length;v++)i[v].id===e[d][v].id&&o++;n.push([l,d,o])}}),n=n.sort((i,l)=>i[2]>l[2]?-1:1);let a=[],t=[];return n.forEach(i=>{a.some(l=>l===i[0])||(t.push(e[i[0]]),a.push(i[0])),a.some(l=>l===i[1])||(t.push(e[i[1]]),a.push(i[1]))}),t}function It(e){let n=[];return e.forEach((o,a)=>{o.forEach(t=>{e.forEach((i,l)=>{l!==a&&i.indexOf(t)>-1&&i.splice(i.indexOf(t),1,wt())})}),n.push(o)}),n}function Vt(e){return e.reduce((n,o)=>(o.every(a=>a.space)||n.push(o),n),[])}function Bt(e){let n=[],o=[];for(let a=0;a<e[0].length;a++){o=[];for(let t=0;t<e.length;t++)o.push(e[t][a]);n.push(o)}return n}function Lt(e){let n=[];return e.forEach(o=>{let a;for(let t=o.length-1;t>=0;t--)if(!o[t].space){a=t;break}a<o.length?n.push(o.slice(0,a+1)):n.push(o)}),n}function Pt(e){let n=[];return e.forEach(o=>{o.every(t=>t.blank||t.space)?o.forEach(t=>{t.blank&&Rt(t.id,t.targets,e)}):n.push(o)}),n}function Rt(e,n,o){o.forEach(a=>{a.forEach(t=>{ce(t,e)&&(t.targets=t.targets.filter(i=>i!==e),t.targets.push(...n))})})}function Ut(e){let n=[];return e.forEach((o,a)=>{o.forEach(t=>t.colIndex=a),n.push({nodes:o,index:a,allNodesApproved:o.every(t=>Z(t))})}),n}var zt=e=>({image:"",ariaLabel:e});function Ot(e,n){if(e&1){let o=x();s(0,"div",1)(1,"fd-radio-button",2),P("ngModelChange",function(t){w(o);let i=r();return L(i.selectedTeamId,t)||(i.selectedTeamId=t),h(t)}),b("click",function(){let t=w(o).$implicit,i=r();return h(i.onTeamRadioClick.emit(t))}),f(),s(2,"fdp-standard-list-item",3),b("click",function(){let t=w(o).$implicit,i=r();return h(i._showTeamDetails(t))}),f(),E(3,"fd-icon",4),f()}if(e&2){let o=n.$implicit,a=n.$index,t=r();p(),m("value",o.id)("name","team-radio"+a),B("ngModel",t.selectedTeamId),le("id","team-radio"+a),p(),m("avatar",X(9,zt,o.name))("description",o.description||o.members.length+" members")("title",o.name),le("id","approval-team-"+o.id),p(),m("glyph","navigation-"+(t.isRtl?"left":"right")+"-arrow")}}var eo=(()=>{let n=class n{constructor(){this.teams=[],this.isRtl=!1,this.onTeamClick=new S,this.onTeamRadioClick=new S,this._trackByFn=ae}_showTeamDetails(a){this.onTeamClick.emit(a)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=I({type:n,selectors:[["fdp-approval-flow-team-list"]],hostAttrs:[1,"fdp-approval-flow-team-list"],inputs:{teams:"teams",isRtl:"isRtl",selectedTeamId:"selectedTeamId"},outputs:{onTeamClick:"onTeamClick",onTeamRadioClick:"onTeamRadioClick"},decls:4,vars:1,consts:[["fdCompact","",3,"hasByLine"],["fd-form-item",""],[3,"ngModelChange","click","value","name","ngModel"],[3,"click","avatar","description","title"],[3,"glyph"]],template:function(t,i){t&1&&(s(0,"fdp-list",0)(1,"fd-form-group"),j(2,Ot,4,11,"div",1,i._trackByFn,!0),f()()),t&2&&(m("hasByLine",!0),p(2),G(i.teams))},dependencies:[Ee,W,We,ye,Ge,te,ee,oe,De,pe],styles:[`.fdp-approval-flow-team-list .fd-form-item{position:relative;margin-bottom:0}.fdp-approval-flow-team-list .fd-form-item fd-radio-button{position:absolute;z-index:1;top:1.4rem}.fdp-approval-flow-team-list .fd-form-item .fd-list__item{padding-left:2rem!important;cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-icon{position:absolute;right:1rem;top:2rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-avatar{color:#fff;color:var(--sapBaseColor, #fff)}[dir=rtl] .fdp-approval-flow-team-list .fd-form-item fd-icon,.fdp-approval-flow-team-list[dir=rtl] .fd-form-item fd-icon{right:auto;left:1rem}[dir=rtl] .fdp-approval-flow-team-list .fd-list__item,.fdp-approval-flow-team-list[dir=rtl] .fd-list__item{padding-right:2rem!important;padding-left:0!important}
`],encapsulation:2,changeDetection:0});let e=n;return e})();var Wt=e=>({data:e});function jt(e,n){}function Gt(e,n){if(e&1&&(D(0,jt,0,0,"ng-template",4),u(1,"async")),e&2){let o=r();m("ngTemplateOutlet",o.detailsTemplate)("ngTemplateOutletContext",X(4,Wt,g(1,2,o.details)))}}var oo=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=I({type:n,selectors:[["fdp-approval-flow-user-details"]],hostAttrs:[1,"fdp-approval-flow-user-details"],inputs:{user:"user",details:"details",detailsTemplate:"detailsTemplate"},decls:8,vars:4,consts:[[1,"fdp-approval-flow-user-details__user-info"],["size","s",3,"image"],[1,"fdp-approval-flow-user-details__name"],[1,"fdp-approval-flow-user-details__description"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){t&1&&(s(0,"div",0),E(1,"fd-avatar",1),s(2,"div")(3,"div",2),C(4),f(),s(5,"div",3),C(6),f()()(),_(7,Gt,2,6,null,4)),t&2&&(p(),m("image",i.user.imgUrl),p(3),$(i.user.name),p(2),$(i.user.description),p(),c(i.detailsTemplate?7:-1))},dependencies:[Qe,ue,Lo],styles:[`.fdp-approval-flow-user-details__user-info{display:flex;align-items:center;margin-bottom:1rem}.fdp-approval-flow-user-details__name{font-size:1rem}.fdp-approval-flow-user-details__description{color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70)}
`],encapsulation:2,changeDetection:0});let e=n;return e})();var Qt=e=>({count:e}),Zt=(e,n)=>({image:e,ariaLabel:n});function Ht(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.userListSelectedItemsCountSingular")," ")}function $t(e,n){if(e&1&&(C(0),u(1,"fdTranslate")),e&2){let o=r(2);A(" ",ve(1,1,"platformApprovalFlow.userListSelectedItemsCountPlural",X(4,Qt,o._allSelectedUsers.length))," ")}}function qt(e,n){if(e&1&&(s(0,"div",0),_(1,Ht,2,3)(2,$t,2,6),f()),e&2){let o=r();p(),c(o._allSelectedUsers.length===1?1:2)}}function Kt(e,n){if(e&1){let o=x();s(0,"fdp-standard-list-item",3),b("click",function(t){let i=w(o).$implicit,l=r();return t.stopPropagation(),h(l.onUserClick.emit(i))}),f()}if(e&2){let o=n.$implicit,a=r();m("id",a._idPrefix+o.id)("avatar",Bo(6,Zt,o.imgUrl,o.name))("description",o.description)("ariaLabel",o.name)("title",o.name),le("id",a._idPrefix+o.id)}}var bt=100,Yt=10,Fe=(()=>{let n=class n{constructor(a){this._cdr=a,this.users=[],this.selectedUsers=[],this.isSelectable=!0,this.onUserClick=new S,this.onSelectionChange=new S,this._selectedItems=[],this._idPrefix="approval-node-user-",this._trackByFn=ae,this._displayUsers=[],this._allSelectedUsers=[],this._destroyed$=So(No),this._dontCallSelection=!1}ngAfterViewInit(){this.selectedUsers.length&&(this._selectItems(this.selectedUsers),this._allSelectedUsers=[...this.selectedUsers],this._cdr.markForCheck()),this.isSelectable&&this._listenToListItemChange()}ngOnChanges(a){a.users&&this._collectDataProgressive()}ngOnDestroy(){this._killInterval()}_onSelect(a){if(!this._dontCallSelection){if(this._selectedItems=a.selectedItems,a.removed){let t=a.removed.map(i=>i.id);this._allSelectedUsers=this._allSelectedUsers.filter(i=>!t.includes(`${this._idPrefix+i.id}`))}a.added&&this._allSelectedUsers.push(...this._getUsersFromSelectedItems(a.added)),this.onSelectionChange.emit(this._allSelectedUsers),this._cdr.detectChanges()}}_getUsersFromSelectedItems(a){return a.map(t=>this.users.find(i=>`${this._idPrefix+i.id}`===t.id)).filter(t=>!!t)}_collectDataProgressive(){if(this._killInterval(),this._displayUsers=[],!this.users?.length)return;let a={currentIndex:0};this._userCollectorIntervalFn(a),this._intervalID=window.setInterval(this._userCollectorIntervalFn.bind(this),Yt,a)}_userCollectorIntervalFn(a){let t=a.currentIndex+bt,i=[];for(let l=a.currentIndex;l<=t;l++){if(l>=this.users.length){this._killInterval();break}i.push(this.users[l])}a.currentIndex+=bt,this._displayUsers.push(...i),this._cdr.markForCheck()}_killInterval(){this._intervalID&&clearInterval(this._intervalID)}_listenToListItemChange(){this.listItems.changes.pipe(Po(this._destroyed$)).subscribe(()=>{this._selectItems(this._allSelectedUsers),this._cdr.detectChanges()})}_selectItems(a){this._dontCallSelection=!0;let t=a.map(l=>this._idPrefix+l.id),i=this.listItems.filter(l=>t.includes(l.id));this.list._clearSelection(),this._selectedItems=[...i],this._selectedItems.forEach(l=>{l._selected=!0,this.list._selectItem(l)}),this._dontCallSelection=!1}};n.\u0275fac=function(t){return new(t||n)(N(J))},n.\u0275cmp=I({type:n,selectors:[["fdp-approval-flow-user-list"]],viewQuery:function(t,i){if(t&1&&(Q(Ee,5),Q(De,5)),t&2){let l;z(l=O())&&(i.list=l.first),z(l=O())&&(i.listItems=l)}},hostAttrs:[1,"fdp-approval-flow-user-list"],inputs:{users:"users",selectedUsers:"selectedUsers",isSelectable:"isSelectable"},outputs:{onUserClick:"onUserClick",onSelectionChange:"onSelectionChange"},features:[me],decls:4,vars:7,consts:[[1,"fdp-approval-flow-user-list__selected-count"],[3,"ngModelChange","selectedItemChange","selectionMode","selection","navigationIndicator","hasByLine","ngModel","selectedItems"],[3,"id","avatar","description","ariaLabel","title"],[3,"click","id","avatar","description","ariaLabel","title"]],template:function(t,i){t&1&&(_(0,qt,3,1,"div",0),s(1,"fdp-list",1),P("ngModelChange",function(d){return L(i._selectedItems,d)||(i._selectedItems=d),d}),b("selectedItemChange",function(d){return i._onSelect(d)}),j(2,Kt,1,9,"fdp-standard-list-item",2,i._trackByFn,!0),f()),t&2&&(c(i._allSelectedUsers.length?0:-1),p(),m("selectionMode",i.isSelectable?"multi":"none")("selection",i.isSelectable)("navigationIndicator",!0)("hasByLine",!0),B("ngModel",i._selectedItems),m("selectedItems",i._selectedItems),p(),G(i._displayUsers))},dependencies:[Ee,te,ee,oe,De,U],styles:[`.fdp-approval-flow-user-list{display:block;margin-top:-1rem}.fdp-approval-flow-user-list__selected-count{line-height:2rem;margin:0 -1rem;padding:0 1rem;background:#f2f2f2;background:var(--sapList_HeaderBackground, #f2f2f2)}
`],encapsulation:2,changeDetection:0});let e=n;return e})();var H=function(e){return e.SELECT_TEAM="SELECT_TEAM",e.SELECT_USER="SELECT_USER",e.VIEW_TEAM_MEMBERS="VIEW_TEAM_MEMBERS",e.USER_DETAILS="USER_DETAILS",e}(H||{}),to=(()=>{let n=class n{constructor(){this.onViewChange=new S}get isUserDetailsMode(){return this.currentView===H.USER_DETAILS}get isTeamMembersMode(){return this.currentView===H.VIEW_TEAM_MEMBERS}get isSelectUserMode(){return this.currentView===H.SELECT_USER}get isSelectTeamMode(){return this.currentView===H.SELECT_TEAM}get team(){return this.selectedTeam}setCurrentView(a){this.currentView=a,this.onViewChange.emit()}resetView(){this.currentView=void 0,this.onViewChange.emit()}selectTeam(a){this.selectedTeam=a}resetTeam(){this.selectedTeam=void 0}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ao({token:n,factory:n.\u0275fac});let e=n;return e})();var Jt=()=>[];function ea(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.addNodeDialogHeaderAddApprovers")," ")}function oa(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.addNodeDialogHeaderEditApprover")," ")}function ta(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.addNodeDialogHeaderAddApproverTeam")," ")}function aa(e,n){if(e&1){let o=x();s(0,"fd-icon",3),b("click",function(){w(o);let t=r(2);return h(t._exitTeamMembersMode())}),f(),C(1)}if(e&2){let o=r(2);m("glyph",o._headerArrowGlyph),p(),ze(" ",(o.viewService.team==null?null:o.viewService.team.name)??""," (",(o.viewService.team==null||o.viewService.team.members==null?null:o.viewService.team.members.length)??0,") ")}}function ia(e,n){if(e&1){let o=x();s(0,"fd-icon",3),b("click",function(){w(o);let t=r(2);return h(t._exitUserDetailsMode())}),f(),C(1),u(2,"fdTranslate")}if(e&2){let o=r(2);m("glyph",o._headerArrowGlyph),p(),A(" ",g(2,2,"platformApprovalFlow.addNodeDialogHeaderDetail")," ")}}function na(e,n){if(e&1){let o=x();s(0,"fdp-search-field",4),u(1,"fdTranslate"),b("inputChange",function(t){w(o);let i=r(2);return h(i._onSearchStringChange(t.text))}),f()}if(e&2){let o=r(2);m("placeholder",g(1,3,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",re(5,Jt))("inputText",o._searchInput)}}function la(e,n){if(e&1&&(s(0,"p"),_(1,ea,2,3),_(2,oa,2,3),_(3,ta,2,3),_(4,aa,2,3),_(5,ia,3,4),f(),_(6,na,2,6,"fdp-search-field",2)),e&2){let o=r();p(),c(!o._selectMode&&!o._data.isEdit?1:-1),p(),c(!o._selectMode&&o._data.isEdit?2:-1),p(),c(o.viewService.isSelectUserMode||o.viewService.isSelectTeamMode?3:-1),p(),c(o.viewService.isTeamMembersMode?4:-1),p(),c(o.viewService.isUserDetailsMode?5:-1),p(),c(o._selectMode&&!o._userToShowDetails?6:-1)}}function ra(e,n){if(e&1&&(s(0,"li",9),C(1),u(2,"fdTranslate"),f()),e&2){let o=r().$implicit;m("value",o),p(),A(" ",g(2,2,"platformApprovalFlow.addNodeDialogNodeTypeSerial")," ")}}function pa(e,n){if(e&1&&(s(0,"li",9),C(1),u(2,"fdTranslate"),f()),e&2){let o=r().$implicit;m("value",o),p(),A(" ",g(2,2,"platformApprovalFlow.addNodeDialogNodeTypeParallel")," ")}}function da(e,n){if(e&1&&_(0,ra,3,4,"li",9)(1,pa,3,4,"li",9),e&2){let o,a=n.$implicit,t=r(3);c((o=a)===t._nodeTypes.SERIAL?0:o===t._nodeTypes.PARALLEL?1:-1)}}function sa(e,n){if(e&1){let o=x();s(0,"div",5)(1,"label",6),C(2),u(3,"fdTranslate"),f(),s(4,"fd-select",7),P("valueChange",function(t){w(o);let i=r(2);return L(i._nodeType,t)||(i._nodeType=t),h(t)}),j(5,da,2,1,null,null,fe),f()()}if(e&2){let o=r(2);p(2),A(" ",g(3,2,"platformApprovalFlow.addNodeDialogNodeType")," "),p(2),B("value",o._nodeType),p(),G(o._nodeTypesArray)}}function fa(e,n){if(e&1&&(s(0,"li",9),C(1),u(2,"fdTranslate"),f()),e&2){let o=r().$implicit;m("value",o),p(),A(" ",g(2,2,"platformApprovalFlow.addNodeDialogApproverTypeUser")," ")}}function _a(e,n){if(e&1&&(s(0,"li",9),C(1),u(2,"fdTranslate"),f()),e&2){let o=r().$implicit;m("value",o),p(),A(" ",g(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamAnyone")," ")}}function ca(e,n){if(e&1&&(s(0,"li",9),C(1),u(2,"fdTranslate"),f()),e&2){let o=r().$implicit;m("value",o),p(),A(" ",g(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamEveryone")," ")}}function ma(e,n){if(e&1&&_(0,fa,3,4,"li",9)(1,_a,3,4,"li",9)(2,ca,3,4,"li",9),e&2){let o,a=n.$implicit,t=r(2);c((o=a)===t._approverTypes.SINGLE_USER?0:o===t._approverTypes.ANYONE?1:o===t._approverTypes.EVERYONE?2:-1)}}function va(e,n){if(e&1){let o=x();s(0,"fd-multi-input",10),P("ngModelChange",function(t){w(o);let i=r(2);return L(i._selectedApprovers,t)||(i._selectedApprovers=t),h(t)}),b("openChange",function(){w(o);let t=r(2);return h(t._goToSelectMode())})("selectedChange",function(t){w(o);let i=r(2);return h(i._setSelectedApprovers(t))}),f()}if(e&2){let o=r(2);m("showAllButton",!1)("dropdownValues",o._selectedApprovers),B("ngModel",o._selectedApprovers),m("displayFn",o._displayUserFn)}}function ua(e,n){if(e&1){let o=x();s(0,"fd-multi-input",11),P("ngModelChange",function(t){w(o);let i=r(2);return L(i._selectedTeamArray,t)||(i._selectedTeamArray=t),h(t)}),b("openChange",function(){w(o);let t=r(2);return h(t._goToSelectMode())}),f()}if(e&2){let o=r(2);m("showAllButton",!1)("dropdownValues",o._selectedTeamArray),B("ngModel",o._selectedTeamArray),m("displayFn",o._displayTeamFn)}}function wa(e,n){if(e&1){let o=x();s(0,"div",5)(1,"fd-checkbox",12),P("ngModelChange",function(t){w(o);let i=r(2);return L(i._addToNextSerial,t)||(i._addToNextSerial=t),h(t)}),C(2),u(3,"fdTranslate"),f()()}if(e&2){let o=r(2);p(),B("ngModel",o._addToNextSerial),p(),A(" ",g(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}function ha(e,n){if(e&1){let o=x();s(0,"div",5)(1,"label",6),C(2),u(3,"fdTranslate"),f(),s(4,"fd-date-picker",13),P("ngModelChange",function(t){w(o);let i=r(2);return L(i._dueDate,t)||(i._dueDate=t),h(t)}),f()()}if(e&2){let o=r(2);p(2),$(g(3,3,"platformApprovalFlow.addNodeDialogDueDate")),p(2),m("state",o._dueDate?null:"error"),B("ngModel",o._dueDate)}}function ga(e,n){if(e&1){let o=x();_(0,sa,7,4,"div",5),s(1,"div",5)(2,"label",6),C(3),u(4,"fdTranslate"),f(),s(5,"fd-select",7),P("valueChange",function(t){w(o);let i=r();return L(i._approverType,t)||(i._approverType=t),h(t)}),j(6,ma,3,1,null,null,fe),f()(),s(8,"div",5)(9,"label",6),C(10),u(11,"fdTranslate"),f(),_(12,va,1,4,"fd-multi-input",8),_(13,ua,1,4,"fd-multi-input",8),f(),_(14,wa,4,4,"div",5),_(15,ha,5,5,"div",5)}if(e&2){let o=r();c(o._data.showNodeTypeSelect?0:-1),p(3),A(" ",g(4,8,"platformApprovalFlow.addNodeDialogApproverType")," "),p(2),B("value",o._approverType),p(),G(o._approverTypesArray),p(4),$(g(11,10,"platformApprovalFlow.addNodeDialogUserOrTeam")),p(2),c(o._isSingleUserMode?12:-1),p(),c(o._isSingleUserMode?-1:13),p(),c(o._nodeType===o._nodeTypes.PARALLEL?14:-1),p(),c(o._checkDueDate?15:-1)}}function Ca(e,n){if(e&1){let o=x();s(0,"fdp-approval-flow-team-list",17),b("onTeamClick",function(t){w(o);let i=r(3);return h(i._viewTeamMembers(t))})("onTeamRadioClick",function(t){w(o);let i=r(3);return h(i._setSelectedTeam(t))}),f()}if(e&2){let o=r(3);m("isRtl",o._data.rtl)("teams",o._teams)("selectedTeamId",o._selectedTeam==null?null:o._selectedTeam.id)}}function ba(e,n){e&1&&E(0,"fd-busy-indicator",16),e&2&&m("loading",!0)("block",!0)}function xa(e,n){if(e&1&&_(0,Ca,1,3,"fdp-approval-flow-team-list",15)(1,ba,1,2,"fd-busy-indicator",16),e&2){let o=r(2);c(o._data.teamDataSource.isDataLoading?1:0)}}function Aa(e,n){if(e&1){let o=x();s(0,"fdp-approval-flow-user-list",19),b("onUserClick",function(t){w(o);let i=r(3);return h(i._seeUserDetails(t))})("onSelectionChange",function(t){w(o);let i=r(3);return h(i._selectedApprovers=t)}),f()}if(e&2){let o=r(3);m("users",o.viewService.isSelectUserMode?o._approvers:o._filteredTeamMembers)("isSelectable",o.viewService.isSelectUserMode)("selectedUsers",o._selectedApprovers)}}function Ta(e,n){e&1&&E(0,"fd-busy-indicator",16),e&2&&m("loading",!0)("block",!0)}function Sa(e,n){if(e&1&&_(0,Aa,1,3,"fdp-approval-flow-user-list",18)(1,Ta,1,2,"fd-busy-indicator",16),e&2){let o=r(2);c(o.viewService.isSelectUserMode||!o._data.userDataSource.isDataLoading?0:1)}}function ya(e,n){if(e&1&&E(0,"fdp-approval-flow-user-details",14),e&2){let o=r(2);m("user",o._userToShowDetails)("detailsTemplate",o._data.userDetailsTemplate)("details",o._userToShowDetailsData$)}}function Fa(e,n){if(e&1&&(_(0,xa,2,1),_(1,Sa,2,1),_(2,ya,1,3,"fdp-approval-flow-user-details",14)),e&2){let o=r();c(o.viewService.isSelectTeamMode?0:-1),p(),c(o.viewService.isSelectUserMode||o.viewService.isTeamMembersMode?1:-1),p(),c(o.viewService.isUserDetailsMode&&o._userToShowDetails?2:-1)}}function Na(e,n){if(e&1){let o=x();s(0,"fd-button-bar",20),u(1,"fdTranslate"),b("click",function(){w(o);let t=r();return h(t._submit())}),f(),s(2,"fd-button-bar",21),u(3,"fdTranslate"),b("click",function(){w(o);let t=r();return h(t.dialogRef.close())}),f()}if(e&2){let o=r();m("label",g(1,3,"platformApprovalFlow.addNodeAddActionBtnLabel"))("disabled",o._isMainSubmitButtonDisabled),p(2),m("label",g(3,5,"platformApprovalFlow.addNodeCancelActionBtnLabel"))}}function Ea(e,n){if(e&1){let o=x();s(0,"fd-button-bar",20),u(1,"fdTranslate"),b("click",function(){w(o);let t=r(2);return h(t._confirmSelectedApprovers())}),f(),s(2,"fd-button-bar",21),u(3,"fdTranslate"),b("click",function(){w(o);let t=r(2);return h(t._exitSelectMode())}),f()}if(e&2){let o=r(2);m("label",g(1,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!o._selectedApprovers.length),p(2),m("label",g(3,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function Da(e,n){if(e&1){let o=x();s(0,"fd-button-bar",20),u(1,"fdTranslate"),b("click",function(){w(o);let t=r(2);return h(t._confirmSelectedTeam())}),f(),s(2,"fd-button-bar",21),u(3,"fdTranslate"),b("click",function(){w(o);let t=r(2);return h(t._exitSelectMode())}),f()}if(e&2){let o=r(2);m("label",g(1,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!o._selectedTeam&&!o.viewService.team),p(2),m("label",g(3,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function ka(e,n){if(e&1){let o=x();s(0,"fd-button-bar",21),u(1,"fdTranslate"),b("click",function(){w(o);let t=r(2);return h(t._exitTeamMembersMode())}),f()}e&2&&m("label",g(1,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel"))}function Ma(e,n){if(e&1){let o=x();s(0,"fd-button-bar",21),u(1,"fdTranslate"),b("click",function(){w(o);let t=r(2);return h(t._exitUserDetailsMode())}),f()}e&2&&m("label",g(1,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel"))}function Ia(e,n){if(e&1&&(_(0,Ea,4,7),_(1,Da,4,7),_(2,ka,2,3,"fd-button-bar",22),_(3,Ma,2,3,"fd-button-bar",22)),e&2){let o=r();c(o.viewService.isSelectUserMode?0:-1),p(),c(o.viewService.isSelectTeamMode?1:-1),p(),c(o.viewService.isTeamMembersMode?2:-1),p(),c(o.viewService.isUserDetailsMode?3:-1)}}var K=function(e){return e.SERIAL="SERIAL",e.PARALLEL="PARALLEL",e}(K||{}),ke=function(e){return e.SINGLE_USER="SINGLE_USER",e.ANYONE="ANYONE",e.EVERYONE="EVERYONE",e}(ke||{}),Me=(()=>{let n=class n{constructor(a,t,i){this.dialogRef=a,this.viewService=t,this._cdr=i,this._nodeType=K.SERIAL,this._nodeTypes=K,this._nodeTypesArray=Object.keys(K),this._approverType=ke.SINGLE_USER,this._approverTypes=ke,this._approverTypesArray=Object.keys(ke),this._dueDate=mo.getNow(),this._selectMode=!1,this._approvers=[],this._teams=[],this._selectedApprovers=[],this._selectedTeamArray=[],this._selectedTeamMembers=[],this._filteredTeamMembers=[],this._checkDueDate=!1,this._displayUserFn=Ke,this._displayTeamFn=mt,this._trackByFn=ae,this._addToNextSerial=!1,this._searchInput=""}get _data(){return this.dialogRef.data}get _isSingleUserMode(){return this._approverType===this._approverTypes.SINGLE_USER}get _isMainSubmitButtonDisabled(){return!(this._isSingleUserMode?this._selectedApprovers:this._selectedTeamArray).length||this._checkDueDate&&!this._dueDate}get _headerArrowGlyph(){return"navigation-"+(this._data.rtl?"right":"left")+"-arrow"}ngOnInit(){this._data.teamDataSource.match(),this._data.userDataSource.match();let a=this._data.teamDataSource.open(),t=this._data.userDataSource.open();switch(this._dataSourceSub=Le([a,t]).subscribe(([i,l])=>{if(this._teams=i,this._approvers=l,this._data.isEdit){this._checkDueDate=!!this._data.checkDueDate,this._checkDueDate&&this._data.node?.dueDate&&(this._dueDate=mo.getFdDateByDate(new Date(this._data.node.dueDate))),this._selectedApprovers=[...this._data.node?.approvers??[]];let d=this._data.node?.approvalTeamId&&this._teams.find(v=>v.id===this._data.node?.approvalTeamId);d&&(this.viewService.selectTeam(d),this._selectedTeam=d,this._selectedTeamArray=[d],this._approverType=this._data.node?.isEveryoneApprovalNeeded?this._approverTypes.EVERYONE:this._approverTypes.ANYONE)}this._cdr.detectChanges()}),this._viewChangeSub=this.viewService.onViewChange.subscribe(()=>{this._cdr.detectChanges()}),this._data.nodeTarget){case"empty":case"before":case"after":this._nodeType=this._nodeTypes.SERIAL;break;case"parallel":this._nodeType=this._nodeTypes.PARALLEL;break}}ngOnDestroy(){this._viewChangeSub.unsubscribe(),this._dataSourceSub.unsubscribe(),this._data.userDataSource.close(),this._data.teamDataSource.close()}_goToSelectMode(){this._selectMode=!0,this.viewService.setCurrentView(this._isSingleUserMode?H.SELECT_USER:H.SELECT_TEAM),this._cdr.detectChanges()}_exitSelectMode(){this._searchInput="",this._onSearchStringChange(""),this._selectedApprovers=this._data.node?.approvers?.length?[...this._data.node.approvers]:[],!this._data.isEdit&&!this._data.node?.approvalTeamId&&this.viewService.resetTeam(),this._selectMode=!1,this.viewService.resetView(),this._cdr.detectChanges()}_setSelectedApprovers(a){this._selectedApprovers=a,this._confirmSelectedApprovers()}_confirmSelectedApprovers(){this._data.node&&(this._data.node.approvers=this._selectedApprovers,this._data.node.variousTeams=this._data.node.approvers.some(a=>a.teamId!==this._data.node.approvers[0].teamId),this._data.node.description=this._data.node.variousTeams?"":this._selectedApprovers[0]?.description,delete this._data.node.approvalTeamId,delete this._data.node.isEveryoneApprovalNeeded,this._exitSelectMode())}_setSelectedTeam(a){this.viewService.selectTeam(a)}_confirmSelectedTeam(){this.viewService.team&&(this._selectedTeam=this.viewService.team,this._selectedTeamArray=[this.viewService.team],this._data.node&&(this._data.node.variousTeams=!1,this._data.node.approvalTeamId=this.viewService.team.id,this._data.node.description=this.viewService.team.name,this._data.node.isEveryoneApprovalNeeded=this._approverType===ke.EVERYONE),this._exitSelectMode())}_seeUserDetails(a){this.viewService.setCurrentView(H.USER_DETAILS),this._userToShowDetails=a,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",a.id]])),this._cdr.detectChanges()}_exitUserDetailsMode(){this.viewService.setCurrentView(this.viewService.team?H.VIEW_TEAM_MEMBERS:H.SELECT_USER),this._userToShowDetails=void 0,this._userToShowDetailsData$=void 0,this._cdr.detectChanges()}_viewTeamMembers(a){this.viewService.selectTeam(a),this.viewService.setCurrentView(H.VIEW_TEAM_MEMBERS),this._selectedTeamMembers=a.members,this._setFilteredTeamMembers(this._selectedTeamMembers),this._cdr.detectChanges()}_exitTeamMembersMode(){this.viewService.setCurrentView(H.SELECT_TEAM),this.viewService.resetTeam(),this._selectedTeamMembers=[],this._cdr.detectChanges()}_submit(){this._data.node&&!this._isSingleUserMode&&this._selectedTeam&&(this._data.node.approvers=[...this._selectedTeam.members]),this._data.node&&this._checkDueDate&&(this._data.node.dueDate=this._dueDate.toDate()),this.dialogRef.close({node:this._data.node,nodeType:this._nodeType,toNextSerial:this._addToNextSerial})}_onSearchStringChange(a=""){this._searchInput=a;let t=new Map([["query",a]]);this.viewService.isSelectUserMode?this._data.userDataSource.match(t):this.viewService.isSelectTeamMode?this._data.teamDataSource.match(t):this.viewService.isTeamMembersMode&&this._setFilteredTeamMembers(this._selectedTeamMembers.filter(i=>Ye(i,a)))}_setFilteredTeamMembers(a){this._filteredTeamMembers=[...a],this._cdr.detectChanges()}};n.\u0275fac=function(t){return new(t||n)(N(ge),N(to),N(J))},n.\u0275cmp=I({type:n,selectors:[["fdp-approval-flow-add-node"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-add-node"],decls:9,vars:8,consts:[["fdCompact",""],["fdkTemplate","header"],[3,"placeholder","suggestions","inputText"],[3,"click","glyph"],[3,"inputChange","placeholder","suggestions","inputText"],["fd-form-item",""],["fd-form-label",""],[3,"valueChange","value"],[3,"showAllButton","dropdownValues","ngModel","displayFn"],["fd-option","",3,"value"],[3,"ngModelChange","openChange","selectedChange","showAllButton","dropdownValues","ngModel","displayFn"],[3,"ngModelChange","openChange","showAllButton","dropdownValues","ngModel","displayFn"],[3,"ngModelChange","ngModel"],["type","single",3,"ngModelChange","state","ngModel"],[3,"user","detailsTemplate","details"],[3,"isRtl","teams","selectedTeamId"],[3,"loading","block"],[3,"onTeamClick","onTeamRadioClick","isRtl","teams","selectedTeamId"],[3,"users","isSelectable","selectedUsers"],[3,"onUserClick","onSelectionChange","users","isSelectable","selectedUsers"],["fdType","emphasized",3,"click","label","disabled"],["fdkInitialFocus","","fdType","transparent",3,"click","label"],["fdkInitialFocus","","fdType","transparent",3,"label"]],template:function(t,i){t&1&&(s(0,"fd-dialog",0)(1,"fd-dialog-header"),D(2,la,7,6,"ng-template",1),f(),s(3,"fd-dialog-body"),_(4,ga,16,12),_(5,Fa,3,3),f(),s(6,"fd-dialog-footer"),_(7,Na,4,7),_(8,Ia,4,4),f()()),t&2&&(p(),V("show-search",i._selectMode&&!i._userToShowDetails),p(2),V("fd-dialog__body--auto-height",i.viewService.isUserDetailsMode),p(),c(i._selectMode?-1:4),p(),c(i._selectMode?5:-1),p(2),c(i._selectMode?-1:7),p(),c(i._selectMode?8:-1))},dependencies:[Se,W,Te,he,pe,$e,Ce,ye,Xo,at,tt,He,te,ee,oe,je,Jo,eo,Fe,oo,Ae,xe,zo,U],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`,`.fdp-approval-flow-add-node .fd-dialog__body{width:20rem;height:27rem}.fdp-approval-flow-add-node .fd-dialog__body--auto-height{height:auto}
`],encapsulation:2,changeDetection:0});let e=n;return e})();var Va=()=>[];function Ba(e,n){if(e&1){let o=x();s(0,"fd-icon",8),b("click",function(){w(o);let t=r(2);return h(t._exitUserDetailsMode())})("keyup.space",function(){w(o);let t=r(2);return h(t._exitUserDetailsMode())})("keyup.enter",function(){w(o);let t=r(2);return h(t._exitUserDetailsMode())}),f()}if(e&2){let o=r(2);m("glyph","navigation-"+(o._data.rtl?"right":"left")+"-arrow")}}function La(e,n){if(e&1&&C(0),e&2){let o=r(2);ze(" ",o._data.node==null?null:o._data.node.description," (",(o._data.node==null||o._data.node.approvers==null?null:o._data.node.approvers.length)??0,") ")}}function Pa(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.userDetailsHeader")," ")}function Ra(e,n){if(e&1){let o=x();s(0,"fdp-search-field",9),u(1,"fdTranslate"),b("inputChange",function(t){w(o);let i=r(2);return h(i._onSearchStringChange(t.text))}),f()}e&2&&m("placeholder",g(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",re(4,Va))}function Ua(e,n){if(e&1&&(s(0,"p"),_(1,Ba,1,1,"fd-icon",6),_(2,La,1,2)(3,Pa,2,3),f(),_(4,Ra,2,5,"fdp-search-field",7)),e&2){let o=r();p(),c(o._userToShowDetails&&(o._data.node!=null&&o._data.node.approvers)&&o._data.node.approvers.length>1?1:-1),p(),c(o._isListMode&&!o._userToShowDetails?2:3),p(2),c(!o._userToShowDetails&&o._isListMode?4:-1)}}function za(e,n){if(e&1&&E(0,"fdp-approval-flow-user-details",1),e&2){let o=r();m("user",o._userToShowDetails)("detailsTemplate",o._data.userDetailsTemplate)("details",o._userToShowDetailsData$)}}function Oa(e,n){if(e&1){let o=x();s(0,"fdp-approval-flow-user-list",10),b("onUserClick",function(t){w(o);let i=r();return h(i._seeUserDetails(t))})("onSelectionChange",function(t){w(o);let i=r();return h(i._selectedUsers=t)}),f()}if(e&2){let o=r();m("users",o._listItems)}}function Wa(e,n){if(e&1){let o=x();s(0,"fd-button-bar",11),u(1,"fdTranslate"),b("click",function(){w(o);let t=r();return h(t._sendReminder())}),f()}if(e&2){let o=r();m("label",g(1,2,"platformApprovalFlow.userDetailsSendReminderBtnLabel"))("disabled",!o._data.allowSendReminder||o._isListMode&&!o._selectedUsers.length)}}var Ie=(()=>{let n=class n{constructor(a,t){this.dialogRef=a,this._cdr=t,this._isListMode=!1,this._listItems=[],this._selectedUsers=[]}get _data(){return this.dialogRef.data}ngOnInit(){if(this._isListMode=(this._data.node?.approvers.length??0)>1,this._isListMode)this._setListItems(this._data.node?.approvers??[]);else{let a=this._data.watcher||this._data.node?.approvers[0];a?this._seeUserDetails(a):this.dialogRef.close()}}_setListItems(a=[]){this._listItems=[...a],this._cdr.detectChanges()}_exitUserDetailsMode(){this._userToShowDetails=void 0,this._isListMode=!0}_seeUserDetails(a){this._userToShowDetails=a,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",a.id]])),this._isListMode=!1,this._selectedUsers=[],this._cdr.detectChanges()}_sendReminder(){let a=this._isListMode?this._selectedUsers:this._data.node?.approvers;this.dialogRef.close(a)}_onSearchStringChange(a){if(!a){this._setListItems(this._data.node?.approvers);return}this._setListItems(this._data.node?.approvers.filter(t=>Ye(t,a)))}};n.\u0275fac=function(t){return new(t||n)(N(ge),N(J))},n.\u0275cmp=I({type:n,selectors:[["fdp-approval-flow-approver-details"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-approver-details"],decls:10,vars:8,consts:[["fdkTemplate","header"],[3,"user","detailsTemplate","details"],[3,"users"],["fdCompact",""],["fdType","emphasized",3,"label","disabled"],["fdkInitialFocus","","fdType","transparent",3,"click","label"],["tabindex","0","role","button",3,"glyph"],["fdCompact","",3,"placeholder","suggestions"],["tabindex","0","role","button",3,"click","keyup.space","keyup.enter","glyph"],["fdCompact","",3,"inputChange","placeholder","suggestions"],[3,"onUserClick","onSelectionChange","users"],["fdType","emphasized",3,"click","label","disabled"]],template:function(t,i){t&1&&(s(0,"fd-dialog")(1,"fd-dialog-header"),D(2,Ua,5,3,"ng-template",0),f(),s(3,"fd-dialog-body"),_(4,za,1,3,"fdp-approval-flow-user-details",1),_(5,Oa,1,1,"fdp-approval-flow-user-list",2),f(),s(6,"fd-dialog-footer",3),_(7,Wa,2,4,"fd-button-bar",4),s(8,"fd-button-bar",5),u(9,"fdTranslate"),b("click",function(){return i.dialogRef.close("Cancel")}),f()()()),t&2&&(p(),V("show-search",!i._userToShowDetails&&i._isListMode),p(3),c(i._userToShowDetails?4:-1),p(),c(i._isListMode?5:-1),p(2),c(i._isListMode||i._userToShowDetails&&(i._data.node==null||i._data.node.approvers==null?null:i._data.node.approvers.length)===1?7:-1),p(),m("label",g(9,6,"platformApprovalFlow.userDetailsCancelBtnLabel")))},dependencies:[Se,Te,he,pe,$e,W,Ce,oo,Fe,Ae,xe,U],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`],encapsulation:2,changeDetection:0});let e=n;return e})();function ja(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.messagesApproverAddedSuccess")," ")}function Ga(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.messagesTeamAddedSuccess")," ")}function Qa(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.messagesNodeEdited")," ")}function Za(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.messagesNodeRemovedSingular")," ")}function Ha(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.messagesNodeRemovedPlural")," ")}function $a(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.messagesTeamRemoved")," ")}function qa(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.messagesErrorBuildGraph")," ")}function Ka(e,n){if(e&1){let o=x();s(0,"a",3),b("click",function(t){w(o);let i=r().$index,l=r();return h(l._undoLastAction(i,t))})("keyup.enter",function(t){w(o);let i=r().$index,l=r();return h(l._undoLastAction(i,t))})("keyup.space",function(t){w(o);let i=r().$index,l=r();return h(l._undoLastAction(i,t))}),C(1),u(2,"fdTranslate"),f()}e&2&&(p(),A(" ",g(2,1,"platformApprovalFlow.messagesUndoAction")," "))}function Ya(e,n){if(e&1){let o=x();s(0,"fd-message-strip",1),b("onDismiss",function(){let t=w(o).$index,i=r();return h(i._dismissMessage(t))}),s(1,"bdi")(2,"span"),_(3,ja,2,3)(4,Ga,2,3)(5,Qa,2,3)(6,Za,2,3)(7,Ha,2,3)(8,$a,2,3)(9,qa,2,3),f(),_(10,Ka,3,3,"a",2),f()()}if(e&2){let o,a=n.$implicit,t=r();m("type",a.type==="error"?"error":"success")("dismissible",a.type!=="error"),p(3),c((o=a.type)==="approverAddSuccess"?3:o==="teamAddSuccess"?4:o==="nodeEdit"?5:o==="nodeRemove"?6:o==="nodesRemove"?7:o==="teamRemove"?8:o==="error"?9:-1),p(7),c(t.undoLastActionAvailable?10:-1)}}var xt=(()=>{let n=class n{constructor(){this.messages=[],this.undoLastActionAvailable=!1,this.messagesChange=new S,this.undoLastAction=new S,this._trackByFn=ae}_dismissMessage(a){this.messages.splice(a,1)}_undoLastAction(a,t){t.preventDefault(),this._dismissMessage(a),this.undoLastAction.emit()}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=I({type:n,selectors:[["fdp-approval-flow-messages"]],hostAttrs:[1,"fdp-approval-flow-messages"],inputs:{messages:"messages",undoLastActionAvailable:"undoLastActionAvailable"},outputs:{messagesChange:"messagesChange",undoLastAction:"undoLastAction"},decls:2,vars:0,consts:[[1,"fdp-approval-flow-messages__item",3,"type","dismissible"],[1,"fdp-approval-flow-messages__item",3,"onDismiss","type","dismissible"],["href","#"],["href","#",3,"click","keyup.enter","keyup.space"]],template:function(t,i){t&1&&j(0,Ya,11,4,"fd-message-strip",0,fe),t&2&&G(i.messages)},dependencies:[Qo,U],styles:[`.fdp-approval-flow-messages__item:not(:last-child){margin-bottom:1rem}
`],encapsulation:2,changeDetection:0});let e=n;return e})();var uo=(()=>{let n=class n{constructor(a){this.elRef=a,this.active=!1}_checkIfNodeDraggedInDropZone(a){this.active=!1;let t=this.elRef.nativeElement.getBoundingClientRect();t.top+t.height>a.top&&t.left+t.width>a.left&&t.bottom-t.height<a.bottom&&t.right-t.width<a.right&&(this.active=!0)}};n.\u0275fac=function(t){return new(t||n)(N(Pe))},n.\u0275dir=Do({type:n,selectors:[["","fdp-approval-flow-drop-zone",""]],inputs:{placement:"placement"},exportAs:["fdp-approval-flow-drop-zone"]});let e=n;return e})();var Ja=["overflowMenuButton"],ei=["nodeContent"],oi=["*"],wo=e=>({count:e}),ti=e=>({node:e}),ai=()=>({placement:"before-all"}),ii=()=>({placement:"before"}),ni=()=>({placement:"after"}),li=()=>({placement:"after-all"});function ri(e,n){if(e&1&&E(0,"div",11),e&2){let o=r();V("fdp-approval-flow-node__vertical-line-before-solid",o._isVerticalLineBeforeSolid)}}function pi(e,n){if(e&1&&E(0,"div",12),e&2){let o=r();V("fdp-approval-flow-node__vertical-line-after-solid",o._isVerticalLineAfterSolid)}}function di(e,n){e&1&&E(0,"div",13)}function si(e,n){e&1&&E(0,"div",14)}function fi(e,n){e&1&&E(0,"div",15)}function _i(e,n){if(e&1&&(_(0,di,1,0,"div",13),_(1,si,1,0,"div",14),_(2,fi,1,0,"div",15),Mo(3)),e&2){let o=r();c(o.renderArrow?0:-1),p(),c(o._isRoot&&(o.meta==null?null:o.meta.nodeIndex)===0?1:-1),p(),c(o._isFinal&&(o.meta==null?null:o.meta.nodeIndex)===0?2:-1)}}function ci(e,n){if(e&1){let o=x();s(0,"button",17),u(1,"fdTranslate"),b("click",function(t){return w(o),h(t.stopPropagation())}),f()}if(e&2){let o=r(2),a=R(14);m("title",g(1,3,"platformApprovalFlow.nodeMenuButtonTitle"))("fdMenuTrigger",a)("disabled",o._isEditActionsAvailable)}}function mi(e,n){if(e&1&&_(0,ci,2,5,"button",16),e&2){let o=r();c(o.node!=null&&o.node.disableActions?-1:0)}}function vi(e,n){if(e&1&&C(0),e&2){let o=r(2);A(" ",o.node.approvers[0].name," ")}}function ui(e,n){if(e&1&&(C(0),u(1,"fdTranslate")),e&2){let o=r(2);A(" ",ve(1,1,"platformApprovalFlow.nodeMembersCount",X(4,wo,o.node.approvers.length))," ")}}function wi(e,n){if(e&1&&C(0),e&2){let o=r(2);A(" ",o.node.approvers.length>1?o.node.description:o.node.approvers.length?o.node.approvers[0].description:""," ")}}function hi(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.nodeVariousTeams")," ")}function gi(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.nodeVariousTeams")," ")}function Ci(e,n){}function bi(e,n){if(e&1&&D(0,Ci,0,0,"ng-template",8),e&2){let o=r(5);m("ngTemplateOutlet",o.approvalStatusTemplate)("ngTemplateOutletContext",X(2,ti,o.node))}}function xi(e,n){if(e&1&&_(0,bi,1,4,null,8),e&2){let o=r(4);c(o.approvalStatusTemplate?0:-1)}}function Ai(e,n){if(e&1&&_(0,xi,1,1),e&2){let o=r(3);c(!o.checkDueDate||!o._showDueDateWarning?0:-1)}}function Ti(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.statusApproved")," ")}function Si(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.statusRejected")," ")}function yi(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.statusInProgress")," ")}function Fi(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.statusNotStarted")," ")}function Ni(e,n){if(e&1&&_(0,Ti,2,3)(1,Si,2,3)(2,yi,2,3)(3,Fi,2,3),e&2){let o,a=r(4);c((o=a.node.status)==="approved"?0:o==="rejected"?1:o==="in progress"?2:o==="not started"?3:-1)}}function Ei(e,n){if(e&1&&_(0,Ni,4,1),e&2){let o=r(3);c(!o.checkDueDate||!o._showDueDateWarning?0:-1)}}function Di(e,n){e&1&&(C(0),u(1,"fdTranslate")),e&2&&A(" ",g(1,1,"platformApprovalFlow.nodeStatusDueToday")," ")}function ki(e,n){if(e&1&&(C(0),u(1,"fdTranslate")),e&2){let o=r(4);A(" ",ve(1,1,"platformApprovalFlow.nodeStatusDueInXDays",X(4,wo,o.dueDateThreshold-o._dueIn))," ")}}function Mi(e,n){if(e&1&&(C(0),u(1,"fdTranslate")),e&2){let o=r(4);A(" ",ve(1,1,"platformApprovalFlow.nodeStatusXDaysOverdue",X(4,wo,o._dueIn-o.dueDateThreshold))," ")}}function Ii(e,n){if(e&1&&(_(0,Di,2,3),_(1,ki,2,6),_(2,Mi,2,6)),e&2){let o=r(3);c(o._dueIn===o.dueDateThreshold?0:-1),p(),c(o._dueIn<o.dueDateThreshold?1:-1),p(),c(o._dueIn>o.dueDateThreshold?2:-1)}}function Vi(e,n){if(e&1&&(_(0,Ai,1,1)(1,Ei,1,1),_(2,Ii,3,3)),e&2){let o=r(2);c(o.approvalStatusTemplate?0:1),p(2),c(o.checkDueDate&&o._showDueDateWarning?2:-1)}}function Bi(e,n){if(e&1&&(s(0,"div",18)(1,"div",19),_(2,vi,1,1)(3,ui,2,6),f(),s(4,"div",20),_(5,wi,1,1)(6,hi,2,3),D(7,gi,2,3,"ng-template",null,4,Ne),f(),s(9,"fdp-object-status",21),D(10,Vi,3,2,"ng-template",22),f()()),e&2){let o=r();p(),V("fdp-approval-flow-node__name--members-count",o.node.approvers.length>1),m("id",o.approvalFlowNodeId),p(),c(o.node.approvers.length===1?2:3),p(3),c(o.node.variousTeams?6:5),p(4),m("status",o._objectStatus)("inverted",!0)}}function Li(e,n){}function Pi(e,n){if(e&1&&D(0,Li,0,0,"ng-template",8),e&2){r();let o=R(12);m("ngTemplateOutlet",o)("ngTemplateOutletContext",re(2,ai))}}function Ri(e,n){}function Ui(e,n){if(e&1&&D(0,Ri,0,0,"ng-template",8),e&2){r();let o=R(12);m("ngTemplateOutlet",o)("ngTemplateOutletContext",re(2,ii))}}function zi(e,n){}function Oi(e,n){if(e&1&&D(0,zi,0,0,"ng-template",8),e&2){r();let o=R(12);m("ngTemplateOutlet",o)("ngTemplateOutletContext",re(2,ni))}}function Wi(e,n){}function ji(e,n){if(e&1&&D(0,Wi,0,0,"ng-template",8),e&2){r();let o=R(12);m("ngTemplateOutlet",o)("ngTemplateOutletContext",re(2,li))}}function Gi(e,n){if(e&1){let o=x();s(0,"button",25),u(1,"fdTranslate"),b("click",function(){w(o);let t=r().placement,i=r();return h(i.onAdd.emit(t))}),f()}if(e&2){let o=r().placement,a=R(2),t=r();Y("visibility",a.active?"hidden":""),V("fdp-approval-flow-node__add--blank",t._blank)("fdp-approval-flow-node__add--before",!t._blank&&(o==="before"||o==="before-all"))("fdp-approval-flow-node__add--before-all",!t._blank&&o==="before-all")("fdp-approval-flow-node__add--after",!t._blank&&(o==="after"||o==="after-all"))("fdp-approval-flow-node__add--after-all",o==="after-all"),m("title",g(1,13,"platformApprovalFlow.addNodeButtonTitle"))}}function Qi(e,n){if(e&1&&(_(0,Gi,2,15,"button",23),E(1,"div",24,5)),e&2){let o=n.placement,a=R(2),t=r();c(t.node.status!=="approved"?0:-1),p(),V("fdp-approval-flow-node__drop-zone--active",a.active)("fdp-approval-flow-node__drop-zone--blank",t.isNextNodeBlank)("fdp-approval-flow-node__drop-zone--partial",t._dropZonePartial(o)),m("placement",o)}}function Zi(e,n){if(e&1){let o=x();s(0,"li",26),b("click",function(){w(o);let t=r();return R(14).close(),h(t.onAdd.emit("before"))}),s(1,"div",27)(2,"span",28),C(3),u(4,"fdTranslate"),f()()()}e&2&&(p(3),$(g(4,1,"platformApprovalFlow.nodeActionAddApproversBefore")))}function Hi(e,n){if(e&1){let o=x();s(0,"li",26),b("click",function(){w(o);let t=r();return R(14).close(),h(t.onAdd.emit("after"))}),s(1,"div",27)(2,"span",28),C(3),u(4,"fdTranslate"),f()()()}e&2&&(p(3),$(g(4,1,"platformApprovalFlow.nodeActionAddApproversAfter")))}function $i(e,n){if(e&1){let o=x();s(0,"li",26),b("click",function(){w(o);let t=r();return R(14).close(),h(t.onAdd.emit("parallel"))}),s(1,"div",27)(2,"span",28),C(3),u(4,"fdTranslate"),f()()()}e&2&&(p(3),$(g(4,1,"platformApprovalFlow.nodeActionAddApproversParallel")))}function qi(e,n){if(e&1){let o=x();s(0,"li",26),b("click",function(){w(o);let t=r();return R(14).close(),h(t.onEdit.emit())}),s(1,"div",27)(2,"span",28),C(3),u(4,"fdTranslate"),f()()()}e&2&&(p(3),A(" ",g(4,1,"platformApprovalFlow.nodeActionEditApprover")))}function Ki(e,n){if(e&1){let o=x();s(0,"li",26),b("click",function(){w(o);let t=r();return R(14).close(),h(t.onDelete.emit())}),s(1,"div",27)(2,"span",28),C(3),u(4,"fdTranslate"),f()()()}e&2&&(p(3),A(" ",g(4,1,"platformApprovalFlow.nodeActionRemove")))}var Yi={approved:"positive",rejected:"negative","in progress":"informative","not started":""},At=1e3*60*60*24,Xi=0,Ve=(()=>{let n=class n{get _blank(){return!!this.node?.blank}get _space(){return!!this.node?.space}get _isRoot(){return this.meta?.isRoot}get _isFinal(){return this.meta?.isFinal}get _renderLineBefore(){return!this.node?.blank}get _renderLineAfter(){return!this.node?.blank||this._isFinal}get _isApproved(){return this.node&&Z(this.node)}get _isParentApproved(){return this.meta?.parents?.length?this.meta.parents.every(a=>Z(a)):!!this.meta?.rootNodesApproved}get _isNodeSelected(){return this.isEdit&&this._isSelected}get _isParallelStart(){return!!this.meta?.parallelStart}get _isParallelEnd(){return!!this.meta?.parallelEnd}get _isFirstInParallel(){return!!this.meta?.isFirstInParallel}get _isLastInParallel(){return!!this.meta?.isLastInParallel}get _lastBlank(){return this._blank&&this.node.targets.length===0}get _isSelected(){return!!this.node.selected}constructor(a,t,i){this._elRef=a,this._cdr=t,this._rtlService=i,this.renderArrow=!1,this.checkDueDate=!1,this.dueDateThreshold=7,this.allNodesInColumnApproved=!1,this.onAdd=new S,this.onEdit=new S,this.onDelete=new S,this._showDueDateWarning=!1,this._dueIn=0,this.approvalFlowNodeId="fdp-approval-flow-node-"+Xi++,this._subscriptions=new Be}get _nativeElement(){return this._elRef.nativeElement}get _isNotStarted(){return!qe(this.node)}get _isEditActionsAvailable(){return this.node.status==="approved"||this.node.status==="rejected"}get _activeDropZones(){return this._dropZones.filter(a=>a.active)}get _isAnyDropZoneActive(){return this._activeDropZones.length>0}get _isVerticalLineBeforeSolid(){return this.meta?.parents.length?this.meta.parents.every(a=>Z(a)):!!this.meta?.isVerticalLineBeforeSolid}get _isVerticalLineAfterSolid(){return this.node?.targets.length?this._isVerticalLineBeforeSolid&&this.allNodesInColumnApproved:!!this.meta?.isVerticalLineAfterSolid}get _showAddButton(){return this.isEdit&&!this._blank&&!this._space&&!this.node?.disableActions}get _showAfterAllAddButton(){return this.isEdit&&!this._space&&!this.node?.disableActions}_dropZonePartial(a){return!this._blank&&(!this.isNextNodeBlank||a==="before")||this._lastBlank&&a==="after-all"}ngOnInit(){this._checkNodeStatus(),this._subscriptions.add(this._rtlService?.rtl.subscribe(()=>this._cdr.markForCheck()))}ngOnChanges(){this._checkNodeStatus()}ngOnDestroy(){this._subscriptions.unsubscribe()}_onMenuOpen(){this._menu.refreshPosition()}_focus(a){this._gridListItem?.focus(a)}_deactivateDropZones(){this._dropZones.forEach(a=>a.active=!1),this._cdr.detectChanges()}_checkIfNodeDraggedInDropZone(a){this._dropZones.forEach(t=>t._checkIfNodeDraggedInDropZone(a)),this._cdr.detectChanges()}_checkNodeStatus(){if(this.node){if(this.checkDueDate&&this.node.dueDate){let a=Number(new Date(this.node.dueDate))-this.dueDateThreshold*At,t=Date.now()-a;this._dueIn=Math.round(t/At),this._showDueDateWarning=!Z(this.node)&&a<Date.now(),this._objectStatus=this._showDueDateWarning?"critical":this._getNodeStatusClass(),this._cdr.detectChanges();return}this._objectStatus=this._getNodeStatusClass(),this._cdr.detectChanges()}}_getNodeStatusClass(){return this.statusColorMapping?this.statusColorMapping[this.node.status]:Yi[this.node.status]}};n.\u0275fac=function(t){return new(t||n)(N(Pe),N(J),N(Oe,8))},n.\u0275cmp=I({type:n,selectors:[["fdp-approval-flow-node"]],contentQueries:function(t,i,l){if(t&1&&Io(l,Ze,5),t&2){let d;z(d=O())&&(i._gridListItem=d.first)}},viewQuery:function(t,i){if(t&1&&(Q(_o,5),Q(Ja,5),Q(ei,5),Q(uo,5)),t&2){let l;z(l=O())&&(i._menu=l.first),z(l=O())&&(i._overflowMenuButton=l.first),z(l=O())&&(i._nodeContent=l.first),z(l=O())&&(i._dropZones=l)}},hostAttrs:[1,"fdp-approval-flow-node"],hostVars:36,hostBindings:function(t,i){t&2&&V("fdp-approval-flow-node--first-root",i.meta==null?null:i.meta.firstOfMultipleRootNodes)("fdp-approval-flow-node--first-final",i.meta==null?null:i.meta.firstOfMultipleFinalNodes)("fdp-approval-flow-node--edit-mode",i.isEdit)("fdp-approval-flow-node--next-blank",i.isNextNodeBlank)("fdp-approval-flow-node--blank",i._blank)("fdp-approval-flow-node--space",i._space)("fdp-approval-flow-node--root",i._isRoot)("fdp-approval-flow-node--final",i._isFinal)("fdp-approval-flow-node--line-before",i._renderLineBefore)("fdp-approval-flow-node--line-after",i._renderLineAfter)("fdp-approval-flow-node--approved",i._isApproved)("fdp-approval-flow-node--parent-approved",i._isParentApproved)("fdp-approval-flow-node--selected",i._isNodeSelected)("fdp-approval-flow-node--parallel-start",i._isParallelStart)("fdp-approval-flow-node--parallel-end",i._isParallelEnd)("fdp-approval-flow-node--first-in-parallel",i._isFirstInParallel)("fdp-approval-flow-node--last-in-parallel",i._isLastInParallel)("fdp-approval-flow-node--last-blank",i._lastBlank)},inputs:{node:"node",meta:"meta",renderArrow:"renderArrow",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allNodesInColumnApproved:"allNodesInColumnApproved",approvalStatusTemplate:"approvalStatusTemplate",statusColorMapping:"statusColorMapping",isEdit:"isEdit",isNextNodeBlank:"isNextNodeBlank"},outputs:{onAdd:"onAdd",onEdit:"onEdit",onDelete:"onDelete"},features:[me],ngContentSelectors:oi,decls:20,vars:12,consts:[["overflowMenuButton",""],["nodeContent",""],["addNodeButton",""],["menu",""],["variousTeams",""],["dropZone","fdp-approval-flow-drop-zone"],[1,"fdp-approval-flow-node__vertical-line-before",3,"fdp-approval-flow-node__vertical-line-before-solid"],[1,"fdp-approval-flow-node__vertical-line-after",3,"fdp-approval-flow-node__vertical-line-after-solid"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["fdContentDensity","","placement","bottom-end",3,"isOpenChange"],["fd-menu-item",""],[1,"fdp-approval-flow-node__vertical-line-before"],[1,"fdp-approval-flow-node__vertical-line-after"],[1,"fdp-approval-flow-node__arrow"],[1,"fdp-approval-flow-node__carousel-start-marker"],[1,"fdp-approval-flow-node__carousel-end-marker"],["fd-button","","fdType","transparent","tabindex","0","glyph","overflow","fdCompact","",1,"fdp-approval-flow-node__menu-button",3,"title","fdMenuTrigger","disabled"],["fd-button","","fdType","transparent","tabindex","0","glyph","overflow","fdCompact","",1,"fdp-approval-flow-node__menu-button",3,"click","title","fdMenuTrigger","disabled"],[1,"fdp-approval-flow-node__info"],[1,"fdp-approval-flow-node__name",3,"id"],[1,"fdp-approval-flow-node__description"],[3,"status","inverted"],["fdpObjectStatusText",""],["fd-button","","glyph","add","fdCompact","",1,"fdp-approval-flow-node__add",3,"title","fdp-approval-flow-node__add--blank","fdp-approval-flow-node__add--before","fdp-approval-flow-node__add--before-all","fdp-approval-flow-node__add--after","fdp-approval-flow-node__add--after-all","visibility"],["fdp-approval-flow-drop-zone","",1,"fdp-approval-flow-node__drop-zone",3,"placement"],["fd-button","","glyph","add","fdCompact","",1,"fdp-approval-flow-node__add",3,"click","title"],["fd-menu-item","",3,"click"],["fd-menu-interactive",""],["fd-menu-title",""]],template:function(t,i){if(t&1){let l=x();ko(),_(0,ri,1,2,"div",6),_(1,pi,1,2,"div",7),_(2,_i,4,3),D(3,mi,1,1,"ng-template",null,0,Ne)(5,Bi,11,7,"ng-template",null,1,Ne),_(7,Pi,1,3,null,8),_(8,Ui,1,3,null,8),_(9,Oi,1,3,null,8),_(10,ji,1,3,null,8),D(11,Qi,3,8,"ng-template",null,2,Ne),s(13,"fd-menu",9,3),b("isOpenChange",function(){return w(l),h(i._onMenuOpen())}),_(15,Zi,5,3,"li",10),_(16,Hi,5,3,"li",10),_(17,$i,5,3,"li",10),_(18,qi,5,3,"li",10),_(19,Ki,5,3,"li",10),f()}t&2&&(c(i.meta!=null&&i.meta.renderVerticalLineBefore?0:-1),p(),c(i.meta!=null&&i.meta.renderVerticalLineAfter?1:-1),p(),c(!i._blank&&!i._space?2:-1),p(5),c(i._showAddButton&&(i.meta!=null&&i.meta.canAddNodeBeforeAll)&&!(!(i.node==null||i.node.actionsConfig==null)&&i.node.actionsConfig.disableAddBefore)?7:-1),p(),c(i._showAddButton&&(i.meta!=null&&i.meta.canAddNodeBefore)&&!(!(i.node==null||i.node.actionsConfig==null)&&i.node.actionsConfig.disableAddBefore)?8:-1),p(),c(i._showAddButton&&(i.meta!=null&&i.meta.canAddNodeAfter)&&(i.meta!=null&&i.meta.renderAddNodeAfterButton)&&!(!(i.node==null||i.node.actionsConfig==null)&&i.node.actionsConfig.disableAddAfter)?9:-1),p(),c(i._showAfterAllAddButton&&(i.meta!=null&&i.meta.canAddNodeAfterAll)&&(i.meta!=null&&i.meta.renderAddNodeAfterButton)&&!(!(i.node==null||i.node.actionsConfig==null)&&i.node.actionsConfig.disableAddAfter)?10:-1),p(5),c(i.meta!=null&&i.meta.canAddNodeBefore&&!(!(i.node==null||i.node.actionsConfig==null)&&i.node.actionsConfig.disableAddBefore)?15:-1),p(),c(i.meta!=null&&i.meta.canAddNodeAfter&&!(!(i.node==null||i.node.actionsConfig==null)&&i.node.actionsConfig.disableAddAfter)?16:-1),p(),c(i.meta!=null&&i.meta.canAddParallel&&!(!(i.node==null||i.node.actionsConfig==null)&&i.node.actionsConfig.disableAddParallel)?17:-1),p(),c(i._isNotStarted&&!(!(i.node==null||i.node.actionsConfig==null)&&i.node.actionsConfig.disableEdit)?18:-1),p(),c(!(i.node==null||i.node.actionsConfig==null)&&i.node.actionsConfig.disableRemove?-1:19))},dependencies:[be,W,qo,ot,et,ue,uo,_o,$o,Ho,Zo,U],styles:[`.fdp-approval-flow-node{display:block;box-sizing:border-box;position:relative;width:17.375rem;height:5.875rem;margin-bottom:1rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode{height:7.875rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-after:after{top:-4.9375rem;height:8.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{content:"";display:block;position:absolute;top:-3.9375rem;height:6.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before{left:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before-solid:before{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{right:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after-solid:after{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-before:before{left:auto;right:-2.0625rem}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-after:after{right:auto;left:-2.0625rem}.fdp-approval-flow-node .fdp-approval-flow-node__add{position:absolute;z-index:10;margin:calc(3.4375rem - 1px) auto auto;inset:0;border-radius:100%;min-width:1rem;max-width:1rem;min-height:1rem;max-height:1rem}.fdp-approval-flow-node .fdp-approval-flow-node__add fd-icon{line-height:1rem;font-size:.7rem;font-weight:900}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before{left:-2.5rem;right:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-2.8rem}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after{right:-2.5rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-2.8rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone{border-radius:.25rem;position:absolute;height:100%;z-index:1}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--active{background:#e5f0fa;background:var(--sapList_SelectionBackgroundColor, #e5f0fa);border:.125rem solid #0854a0;border:.125rem solid var(--sapButton_IconColor, #0854a0)}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--blank{width:100%;top:0}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--partial{width:10%;left:0;top:0}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank{background:transparent;box-shadow:none;pointer-events:none;cursor:default}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:before{content:"";display:block;position:absolute;width:calc(100% + 4rem);height:0;left:-2rem;top:calc(50% - .0625rem);border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{width:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:not(.fdp-approval-flow-node--last-blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{width:100%}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{content:"";width:2rem;height:0;display:block;position:absolute;top:calc(50% - .0625rem);bottom:0;pointer-events:none;border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{right:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--blank:before{border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parent-approved.fdp-approval-flow-node--line-before:before{left:-2rem;border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode.fdp-approval-flow-node--blank{pointer-events:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-end-marker{top:3.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__arrow{display:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{right:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{right:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{left:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{left:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{left:19.875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{right:-12.6875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:calc(100% + 4rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{width:4rem;left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{width:4rem;right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__add,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-after{visibility:hidden}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name{font-size:1rem;line-height:1.25rem;margin-bottom:.1rem;color:#32363a;color:var(--sapTextColor, #32363a)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__description{font-size:.875rem;line-height:1rem;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin-bottom:.4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow{width:0;height:0;border-style:solid;border-width:.375rem 0 .375rem .5rem;border-color:transparent transparent transparent #d9d9d9;border-color:transparent transparent transparent var(--sapGroup_TitleBorderColor, #d9d9d9);position:absolute;left:-.5rem;top:0;bottom:0;margin:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{z-index:1;background:#d9d9d9;background:var(--sapGroup_TitleBorderColor, #d9d9d9);display:block;position:absolute;width:.25rem;height:1rem;top:2.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__arrow{left:auto;right:-.5rem;border-width:.375rem .5rem .375rem 0;border-color:transparent #d9d9d9 transparent transparent;border-color:transparent var(--sapGroup_TitleBorderColor, #d9d9d9) transparent transparent}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-before:before{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-after:after{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count{direction:ltr;text-align:right}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before{right:-2.5rem;left:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-2.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after{left:-2.5rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-2.8rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{left:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{left:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{right:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{right:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{right:19.875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:calc(100% + 2rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{left:-12.6875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:calc(100% + 4rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{left:0}
`],encapsulation:2,changeDetection:0});let e=n;return e})();function Ji(e,n){e&1&&(s(0,"p"),C(1),u(2,"fdTranslate"),f()),e&2&&(p(),$(g(2,1,"platformApprovalFlow.selectTypeDialogMoveApproverAs")))}function en(e,n){if(e&1){let o=x();s(0,"div",4)(1,"fd-checkbox",9),P("ngModelChange",function(t){w(o);let i=r();return L(i._toNextSerial,t)||(i._toNextSerial=t),h(t)}),C(2),u(3,"fdTranslate"),f()()}if(e&2){let o=r();p(),B("ngModel",o._toNextSerial),p(),A(" ",g(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}var ao=(()=>{let n=class n{constructor(a){this._dialogRef=a,this._nodeType=K.SERIAL,this._nodeTypes=K,this._toNextSerial=!1}_submit(){this._dialogRef.close({type:this._nodeType,toNextSerial:this._toNextSerial})}};n.\u0275fac=function(t){return new(t||n)(N(ge))},n.\u0275cmp=I({type:n,selectors:[["fdp-approval-flow-select-type"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-select-type"],decls:22,vars:20,consts:[["fdkTemplate","header"],["fdCompact",""],[1,"fd-form-label"],[1,"fdp-approval-flow-select-type__form"],["fd-form-item",""],["id","select-type-parallel","name","select-type-parallel",3,"ngModelChange","value","ngModel"],["id","select-type-serial","name","select-type-serial",3,"ngModelChange","value","ngModel"],["fdType","emphasized",3,"click","label"],["fdkInitialFocus","","fdType","transparent",3,"click","label"],[3,"ngModelChange","ngModel"]],template:function(t,i){t&1&&(s(0,"fd-dialog")(1,"fd-dialog-header"),D(2,Ji,3,3,"ng-template",0),f(),s(3,"fd-dialog-body",1)(4,"span",2),C(5),u(6,"fdTranslate"),f(),s(7,"fd-form-group",3)(8,"div",4)(9,"fd-radio-button",5),P("ngModelChange",function(d){return L(i._nodeType,d)||(i._nodeType=d),d}),C(10),u(11,"fdTranslate"),f()(),s(12,"div",4)(13,"fd-radio-button",6),P("ngModelChange",function(d){return L(i._nodeType,d)||(i._nodeType=d),d}),C(14),u(15,"fdTranslate"),f()(),_(16,en,4,4,"div",4),f()(),s(17,"fd-dialog-footer",1)(18,"fd-button-bar",7),u(19,"fdTranslate"),b("click",function(){return i._submit()}),f(),s(20,"fd-button-bar",8),u(21,"fdTranslate"),b("click",function(){return i._dialogRef.close()}),f()()()),t&2&&(p(5),A(" ",g(6,10,"platformApprovalFlow.selectTypeDialogParallelOrSerial")," "),p(4),m("value",i._nodeTypes.PARALLEL),B("ngModel",i._nodeType),p(),A(" ",g(11,12,"platformApprovalFlow.selectTypeDialogNodeTypeParallel")," "),p(3),m("value",i._nodeTypes.SERIAL),B("ngModel",i._nodeType),p(),A(" ",g(15,14,"platformApprovalFlow.selectTypeDialogNodeTypeSerial")," "),p(2),c(i._nodeType===i._nodeTypes.PARALLEL?16:-1),p(2),m("label",g(19,16,"platformApprovalFlow.selectTypeDialogConfirmButton")),p(2),m("label",g(21,18,"platformApprovalFlow.selectTypeDialogCancelButton")))},dependencies:[Se,Te,he,Ce,W,We,ye,Ge,te,ee,oe,je,Ae,xe,U],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`,`.fdp-approval-flow-select-type .fd-dialog__body{width:24rem}.fdp-approval-flow-select-type .fd-dialog__body .fd-form-item{margin-bottom:0}
`],encapsulation:2,changeDetection:0});let e=n;return e})();function on(e,n){if(e&1){let o=x();s(0,"button",2),u(1,"fdTranslate"),b("click",function(){w(o);let t=r();return h(t._addNode("empty"))}),f()}e&2&&m("label",g(1,1,"platformApprovalFlow.toolbarAddStepButton"))}function tn(e,n){if(e&1){let o=x();s(0,"button",2),u(1,"fdTranslate"),b("click",function(){w(o);let t=r();return h(t.enterEditMode.emit())}),f()}e&2&&m("label",g(1,1,"platformApprovalFlow.toolbarEditButton"))}function an(e,n){if(e&1){let o=x();s(0,"button",2),u(1,"fdTranslate"),b("click",function(){w(o);let t=r(2);return h(t._addNode("before"))}),f()}e&2&&m("label",g(1,1,"platformApprovalFlow.toolbarAddApproversBefore"))}function nn(e,n){if(e&1){let o=x();s(0,"button",2),u(1,"fdTranslate"),b("click",function(){w(o);let t=r(2);return h(t._addNode("after"))}),f()}e&2&&m("label",g(1,1,"platformApprovalFlow.toolbarAddApproversAfter"))}function ln(e,n){if(e&1){let o=x();s(0,"button",2),u(1,"fdTranslate"),b("click",function(){w(o);let t=r(2);return h(t._addNode("parallel"))}),f()}e&2&&m("label",g(1,1,"platformApprovalFlow.toolbarAddApproversParallel"))}function rn(e,n){if(e&1){let o=x();s(0,"button",2),u(1,"fdTranslate"),b("click",function(){w(o);let t=r(2);return h(t.deleteSelectedNodes.emit())}),f()}e&2&&m("label",g(1,1,"platformApprovalFlow.toolbarRemove"))}function pn(e,n){if(e&1){let o=x();s(0,"button",2),u(1,"fdTranslate"),b("click",function(){w(o);let t=r(2);return h(t._editSelectedNode())}),f()}e&2&&m("label",g(1,1,"platformApprovalFlow.toolbarEditApprover"))}function dn(e,n){if(e&1&&(_(0,an,2,3,"button",1),_(1,nn,2,3,"button",1),_(2,ln,2,3,"button",1),_(3,rn,2,3,"button",1),_(4,pn,2,3,"button",1)),e&2){let o=r();c(o._canAddBefore?0:-1),p(),c(o._canAddAfter?1:-1),p(),c(o._canAddParallel?2:-1),p(),c(o._canRemoveSelectedNodes?3:-1),p(),c(o._canEditNode?4:-1)}}var Tt=(()=>{let n=class n{constructor(){this.isEditMode=!1,this.enterEditMode=new S,this.addNode=new S,this.editSelectedNode=new S,this.deleteSelectedNodes=new S,this._canRemoveSelectedNodes=!1,this._selectedNodes=[]}set selectedNodes(a){this._selectedNodes=a,this._canRemoveSelectedNodes=!!this.selectedNodes.length&&this.selectedNodes.every(t=>!t.disableActions&&!t.actionsConfig?.disableRemove)}get selectedNodes(){return this._selectedNodes}get _notApprovedSelectedNode(){return this.selectedNodes.length!==1||Z(this.selectedNodes[0])?null:this.selectedNodes[0]}get _canAddBefore(){let a=this._notApprovedSelectedNode;return!!a&&!a.disableActions&&!a.actionsConfig?.disableAddBefore&&!!this.graphMetadata[a.id].canAddNodeBefore}get _canAddAfter(){let a=this._notApprovedSelectedNode;return!!a&&!a.disableActions&&!a.actionsConfig?.disableAddAfter&&!!this.graphMetadata[a.id].canAddNodeAfter}get _canAddParallel(){let a=this._notApprovedSelectedNode;return!!this._notApprovedSelectedNode&&!a?.disableActions&&!a?.actionsConfig?.disableAddParallel&&!!this.graphMetadata[a.id].canAddParallel}get _canEditNode(){let a=this._notApprovedSelectedNode;return!!a&&!a.disableActions&&!a.actionsConfig?.disableEdit}_addNode(a){let t=this.selectedNodes[0];this.addNode.emit({node:t,target:a})}_editSelectedNode(){let a=this.selectedNodes[0];this.editSelectedNode.emit(a)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=I({type:n,selectors:[["fdp-approval-flow-toolbar-actions"]],hostAttrs:[1,"fdp-approval-flow-toolbar-actions"],inputs:{graph:"graph",graphMetadata:"graphMetadata",selectedNodes:"selectedNodes",isEditMode:"isEditMode"},outputs:{enterEditMode:"enterEditMode",addNode:"addNode",editSelectedNode:"editSelectedNode",deleteSelectedNodes:"deleteSelectedNodes"},decls:4,vars:3,consts:[["fdCompact",""],["fd-button","",3,"label"],["fd-button","",3,"click","label"]],template:function(t,i){t&1&&(Re(0,0),_(1,on,2,3,"button",1),_(2,tn,2,3,"button",1),_(3,dn,5,5),Ue()),t&2&&(p(),c(!(!(i.graph==null||i.graph.columns==null)&&i.graph.columns.length)&&!(i.graph!=null&&i.graph.errors)?1:-1),p(),c(!(i.graph==null||i.graph.columns==null)&&i.graph.columns.length&&!i.isEditMode?2:-1),p(),c(i.isEditMode?3:-1))},dependencies:[W,be,U],styles:[`.fdp-approval-flow-toolbar-actions .fd-button:not(:last-child){margin-right:.5rem}[dir=rtl] .fdp-approval-flow-toolbar-actions .fd-button:not(:last-child),.fdp-approval-flow-toolbar-actions[dir=rtl] .fd-button:not(:last-child){margin-right:0;margin-left:.5rem}
`],encapsulation:2,changeDetection:0});let e=n;return e})();var mn=["graphContainerEl"],vn=["graphEl"],un=["gridList"];function wn(e,n){if(e&1){let o=x();s(0,"fdp-approval-flow-toolbar-actions",11),b("enterEditMode",function(){w(o);let t=r();return h(t._enterEditMode())})("addNode",function(t){w(o);let i=r();return h(i._addNode(t.node,t.target))})("editSelectedNode",function(t){w(o);let i=r();return h(i._editNode(t))})("deleteSelectedNodes",function(){w(o);let t=r();return h(t._deleteSelectedNodes())}),f()}if(e&2){let o=r();m("graph",o._graph)("selectedNodes",o._selectedNodes)("graphMetadata",o._graphMetadata)("isEditMode",o._isEditMode)}}function hn(e,n){if(e&1){let o=x();s(0,"fd-avatar",15),b("avatarClicked",function(t){let i=w(o).$implicit,l=r(3);return h(l._onWatcherClick(i,t))}),f()}if(e&2){let o=n.$implicit;m("image",o.imgUrl||"")("label",o.name)("clickable",!0)("circle",!0)}}function gn(e,n){if(e&1&&j(0,hn,1,4,"fd-avatar",14,fo()._trackByFn,!0),e&2){let o=r(2);G(o._approvalProcess.watchers)}}function Cn(e,n){if(e&1){let o=x();s(0,"div",13)(1,"fd-multi-input",16),u(2,"fdTranslate"),P("ngModelChange",function(t){w(o);let i=r(2);return L(i._selectedWatcherIds,t)||(i._selectedWatcherIds=t),h(t)}),b("ngModelChange",function(t){w(o);let i=r(2);return h(i._watchersSelectionChanged(t))}),f()()}if(e&2){let o=r(2);p(),m("dropdownValues",o._usersForWatchersList)("placeholder",g(2,6,"platformApprovalFlow.watchersInputPlaceholder"))("displayFn",o._displayUserFn)("valueFn",o._userValueFn)("showAllButton",!0),B("ngModel",o._selectedWatcherIds)}}function bn(e,n){if(e&1&&(s(0,"div",9)(1,"p",12),C(2),u(3,"fdTranslate"),f(),_(4,gn,2,0)(5,Cn,3,8,"div",13),f()),e&2){let o=r();le("aria-label",o.watchersLabel),p(2),A(" ",o.watchersLabel||g(3,3,"platformApprovalFlow.defaultWatchersLabel")," "),p(2),c(o._isEditMode?5:4)}}function xn(e,n){if(e&1){let o=x();s(0,"button",26),u(1,"fdTranslate"),b("click",function(){w(o);let t=r(4);return h(t.nextSlide(-1))}),E(2,"fd-icon",27),C(3),f()}if(e&2){let o=r(4);le("aria-label",g(1,3,"platformApprovalFlow.prevButtonAriaLabel")),p(2),m("glyph","navigation-"+(o._rtl?"right":"left")+"-arrow"),p(),A(" ",o._carouselStepsLeft," ")}}function An(e,n){if(e&1){let o=x();s(0,"button",28),u(1,"fdTranslate"),b("click",function(){w(o);let t=r(4);return h(t.nextSlide())}),C(2),E(3,"fd-icon",27),f()}if(e&2){let o=r(4);le("aria-label",g(1,3,"platformApprovalFlow.nextButtonAriaLabel")),p(2),A(" ",o._carouselStepsRight," "),p(),m("glyph","navigation-"+(o._rtl?"left":"right")+"-arrow")}}function Tn(e,n){if(e&1&&(s(0,"div",23),_(1,xn,4,5,"button",24),_(2,An,4,5,"button",25),f()),e&2){let o=r(3);V("fdp-approval-flow-carousel-controls--edit-mode",o._isEditMode),p(),c(o._carouselStepsLeft>0?1:-1),p(),c(o._carouselStepsRight>0?2:-1)}}function Sn(e,n){}function yn(e,n){if(e&1&&D(0,Sn,0,0,"ng-template",32),e&2){r();let o=R(1);m("ngTemplateOutlet",o._overflowMenuButton)}}function Fn(e,n){}function Nn(e,n){if(e&1&&D(0,Fn,0,0,"ng-template",32),e&2){r();let o=R(1);m("ngTemplateOutlet",o._nodeContent)}}function En(e,n){if(e&1){let o=x();s(0,"fdp-approval-flow-node",30,3),b("onAdd",function(t){let i=w(o).$implicit,l=r(4);return h(l._addNode(i,t))})("onEdit",function(){let t=w(o).$implicit,i=r(4);return h(i._editNode(t))})("onDelete",function(){let t=w(o).$implicit,i=r(4);return h(i._onNodeDelete(t))})("keydown",function(t){let i=w(o).$implicit,l=r(4);return h(l._onNodeKeyDown(t,i))})("cdkDragStarted",function(){w(o);let t=r(4);return h(t._dragDropInProgress=!0)})("cdkDragReleased",function(t){let i=w(o).$implicit,l=r(4);return h(l._onNodeDrop(i,t.source))})("cdkDragMoved",function(){let t=w(o).$implicit,i=r(4);return h(i._onNodeDragMoved(t))}),s(2,"fd-grid-list-item",31),b("press",function(){let t=w(o).$implicit,i=r(4);return h(i._onNodeClick(t))}),s(3,"fd-grid-list-item-toolbar"),_(4,yn,1,1,null,32),f(),E(5,"fd-avatar",33),D(6,Nn,1,1,"ng-template",34),f()()}if(e&2){let o=n.$implicit,a=n.$index,t=R(1),i=r(),l=i.$implicit,d=i.$index,v=r(3);m("cdkDragDisabled",v._isCdkDragDisabled(o))("node",o)("meta",v._graphMetadata[o.id])("isEdit",v._isEditMode)("isNextNodeBlank",v._isNextNodeBlank(o,d,a))("checkDueDate",v.checkDueDate)("dueDateThreshold",v.dueDateThreshold)("renderArrow",d>0)("allNodesInColumnApproved",!!l.allNodesApproved)("approvalStatusTemplate",v.approvalStatusTemplate)("statusColorMapping",v.statusColorMapping),p(2),V("fdp-approval-flow__graph-node-inner--edit",v._isEditMode),m("value",o)("selected",!!o.selected)("ariaLabelledBy",t.approvalFlowNodeId)("disableToolbarClick",!0),p(2),c(v._isEditMode?4:-1),p(),m("image",o.approvers.length===1?o.approvers[0].imgUrl:null)("label",o.approvers.length>1?o.description:null)("circle",!0)}}function Dn(e,n){if(e&1&&(s(0,"div",22),j(1,En,7,21,"fdp-approval-flow-node",29,fo()._trackByFn,!0),f()),e&2){let o=n.$implicit;p(),G(o.nodes)}}function kn(e,n){if(e&1&&(s(0,"div",18),_(1,Tn,3,4,"div",19),s(2,"div",20,1)(4,"div",21,2),j(6,Dn,3,0,"div",22,fe),f()()()),e&2){let o=r(2);V("fdp-approval-flow__container--extra-padding-start",!0)("fdp-approval-flow__container--extra-padding-end",!0),p(),c(o._scrollDiff>0?1:-1),p(),V("fdp-approval-flow__graph-container--multiple-root-nodes",o._multipleRootNodes)("fdp-approval-flow__graph-container--multiple-final-nodes",o._multipleFinalNodes)("fd-scrollbar",!0),p(2),V("fdp-approval-flow__graph--edit-mode",o._isEditMode),p(2),G(o._graph.columns)}}function Mn(e,n){if(e&1&&(s(0,"figure",35)(1,"figcaption",36)(2,"h3",37),C(3),u(4,"fdTranslate"),f(),s(5,"p",38),C(6),u(7,"fdTranslate"),f()()(),s(8,"div"),yo(),s(9,"svg",39),E(10,"path",40)(11,"path",41)(12,"path",42)(13,"path",43)(14,"path",44)(15,"path",45)(16,"path",46),f()()),e&2){let o=r(2);m("svgConfig",o._emptyApprovalFlowSpotConfig),p(3),A(" ",g(4,19,"platformApprovalFlow.emptyTitle")," "),p(3),A(" ",g(7,21,"platformApprovalFlow.emptyHint")," "),p(2),Y("display","none"),p(2),Y("fill","var(--sapIllus_PatternShadow)"),p(),Y("fill","var(--sapIllus_ObjectFillColor)"),p(),Y("fill","var(--sapIllus_BrandColorSecondary)"),p(),Y("fill","var(--sapIllus_Layering1)"),p(),Y("fill","var(--sapIllus_Layering1)"),p(),Y("fill","var(--sapIllus_Layering1)"),p(),Y("fill","var(--sapIllus_StrokeDetailColor)")}}function In(e,n){if(e&1&&_(0,kn,8,13,"div",17)(1,Mn,17,23),e&2){let o=r();c(o._graph.columns.length?0:1)}}function Vn(e,n){if(e&1){let o=x();s(0,"div",10)(1,"div",47)(2,"fd-bar-element")(3,"button",48),u(4,"fdTranslate"),b("click",function(){w(o);let t=r();return h(t._saveEditModeChanges())}),f()(),s(5,"fd-bar-element")(6,"button",49),u(7,"fdTranslate"),b("click",function(){w(o);let t=r();return h(t._exitEditMode())}),f()()()()}if(e&2){let o=r();p(3),m("label",g(4,4,"platformApprovalFlow.editModeSaveButtonLabel"))("disabled",o.disableSaveButton),p(3),m("label",g(7,6,"platformApprovalFlow.editModeExitButtonLabel"))("disabled",o.disableExitButton)}}var Bn=0,St=(()=>{let n=class n{get approvalProcess(){return structuredClone(this._approvalProcess)}get _rtl(){return this._rtlService?.rtl.getValue()}get _selectedNodes(){return _e(this._graph).filter(a=>a.selected)}constructor(a,t,i,l,d){this._dialogService=a,this._cdr=t,this._injector=i,this.providers=l,this._rtlService=d,this.checkDueDate=!1,this.dueDateThreshold=7,this.allowSendRemindersForStatuses=["in progress","not started"],this.isEditAvailable=!1,this.allowAddParallelNodes=!0,this.disableSaveButton=!1,this.disableExitButton=!1,this.removeSpaceNode=!1,this.nodeClick=new S,this.afterNodeAdd=new S,this.afterNodeEdit=new S,this.valueChange=new S,this.sendReminders=new S,this.onDataRequested=new S,this.onDataReceived=new S,this._isCarousel=!1,this._graphMetadata={},this._isEditMode=!1,this._usersForWatchersList=[],this._selectedWatcherIds=[],this._messages=[],this._emptyApprovalFlowSpotConfig={spot:{url:"",id:"sapIllus-Spot-NoData"}},this._multipleRootNodes=!1,this._multipleFinalNodes=!1,this._dragDropInProgress=!1,this._displayUserFn=Ke,this._userValueFn=vt,this._trackByFn=ae,this.approvalFlowUniqueId=`fdp-approval-flow-${++Bn}`,this._selectedWatchers=[],this._subscriptions=new Be,this._dataSourceChanged$=new ho,this._getNextHorizontalNode=(v,T,y)=>{let k=y==="right"?1:-1,F=this._graph.columns[T+k]?.nodes[v];if(F)return F.blank||F.space?this._getNextHorizontalNode(v,T+k,y):F},this._getNextVerticalNode=(v,T,y)=>{let k=y==="down"?1:-1,F=this._graph.columns[T].nodes[v+k];if(F)return F.blank||F.space?this._getNextVerticalNode(v+k,T,y):F},console.log("ApprovalFlowComponent is deprecated and will be removed in next release.")}ngOnInit(){if(!this.userDataSource){let a=this.usersDataProviderEntityKey&&this.providers?.get(this.usersDataProviderEntityKey);a?this.userDataSource=new co(a):console.error("Could not resolve users data source")}if(!this.watcherDataSource){let a=this.watchersDataProviderEntityKey&&this.providers?.get(this.watchersDataProviderEntityKey);a?this.watcherDataSource=new co(a):console.error("Could not resolve watchers data source")}if(!this.teamDataSource){let a=this.teamsDataProviderEntityKey&&this.providers?.get(this.teamsDataProviderEntityKey);a?this.teamDataSource=new Yo(a):console.error("Could not resolve teams data source")}this._listenOnResize(),this._setupDataSourceSubscription()}ngOnChanges(a){if(a.value){let t=this.value??{watchers:[],nodes:[]};this._initialApprovalProcess=structuredClone(t),this._buildView(t)}(a.userDataSource||a.watcherDataSource||a.teamDataSource)&&this._dataSourceChanged$.next()}ngOnDestroy(){this._subscriptions.unsubscribe()}_isNextNodeBlank(a,t,i){let l=this._graph.columns[t+1]?.nodes[i],d=l?.blank,v=this._graphMetadata[l?.id]?.parallelEnd;return!a.blank&&!!d&&!v}_isCdkDragDisabled(a){return!this._isEditMode||a.blank||a.space||a.status!=="not started"}_onNodeClick(a){if(this._dragDropInProgress)return;this._dialogService.open(Ie,{data:se({node:a,allowSendReminder:this.allowSendRemindersForStatuses.includes(a.status)},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(i=>{Array.isArray(i)&&this.sendReminders.emit({users:i,node:a})}),this.nodeClick.emit(a)}_onNodeAdd(a){this.afterNodeAdd.emit(a)}_onNodeEdit(a){this.afterNodeEdit.emit(a)}_onNodeSelectionChange(a){this._graph.columns.forEach(t=>{t.nodes.forEach(i=>{i.selected=!!a.selection.find(l=>l.id===i.id)})})}_onWatcherClick(a,t){t.preventDefault(),this._dialogService.open(Ie,{data:se({watcher:a},this._defaultDialogOptions)})}getNodeMetadataByNodeId(a){return this._graphMetadata[a]}nextSlide(a=1){let i;if(a===1){let l=this._carouselStepsRight===1,d=this._carouselStepsCount-this._carouselStepsRight+1;i=this._carouselStepSize*d+(l?0:1)-this._graphEl.nativeElement.clientWidth}else{let l=this._carouselStepsLeft===1,d=this._carouselStepsLeft-1;i=this._carouselStepSize*d-(l?0:1)}this._setScrollPosition(i),this._cdr.detectChanges()}_setScrollPosition(a){this._graphContainerEl.nativeElement.scrollTo({left:a,behavior:"smooth"})}_onNodeKeyDown(a,t){if(!we.isKeyCode(a,[38,40,39,37]))return;let{nodeIndex:i,columnIndex:l}=this._graphMetadata[t.id];a.preventDefault();let d;typeof i=="number"&&typeof l=="number"&&(we.isKeyCode(a,38)?i>0&&(d=this._getNextVerticalNode(i,l,"up")):we.isKeyCode(a,40)?d=this._getNextVerticalNode(i,l,"down"):we.isKeyCode(a,37)?d=this._getNextHorizontalNode(i,l,this._rtl?"right":"left"):we.isKeyCode(a,39)&&(d=this._getNextHorizontalNode(i,l,this._rtl?"left":"right"))),d&&this._focusNode(d)}_enterEditMode(){this.watcherDataSource.match(),this._editModeInitSub=this.watcherDataSource.open().subscribe(a=>{this._usersForWatchersList=a,this._selectedWatchers=this._approvalProcess.watchers,this._selectedWatcherIds=this._selectedWatchers.map(t=>t.id),this._isEditMode=!0,this._initialApprovalProcess=structuredClone(this._approvalProcess),this._cdr.detectChanges()}),this._subscriptions.add(this._editModeInitSub)}_saveEditModeChanges(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[];let a=no(se({},this._approvalProcess),{watchers:this._selectedWatchers});this._buildView(a),this.valueChange.emit(a)}_exitEditMode(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._approvalProcess=structuredClone(this._initialApprovalProcess),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[],this._buildView(this._approvalProcess)}_watchersSelectionChanged(a){let t=new Set(a);this._selectedWatchers=Ro(this._selectedWatchers.concat(this._usersForWatchersList).filter(i=>t.has(i.id)),i=>i.id)}_undoLastAction(){this._approvalProcess=structuredClone(this._previousApprovalProcess),this._previousApprovalProcess=void 0,this._buildView(this._approvalProcess)}_addNode(a,t){let i=t==="before"&&!a.actionsConfig?.disableAddParallel;this._dialogService.open(Me,{data:se({nodeTarget:t,showNodeTypeSelect:i,node:Object.assign(Xe(),{blank:!1}),checkDueDate:this.checkDueDate},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(d=>{if(!d)return;let{node:v,nodeType:T,toNextSerial:y}=d;if(v){switch(this._cacheCurrentApprovalProcess(),v.id=`tempId${(Math.random()*1e3).toFixed()}`,t){case"empty":this._enterEditMode();break;case"before":T===K.SERIAL&&(v.targets=[a.id],this._replaceTargets(a.id,[v.id])),T===K.PARALLEL&&this._processAddingParallelNode(v,a,y);break;case"before-all":v.targets=this._graph.columns[0].nodes.map(k=>k.id);break;case"after":v.targets=a.targets,a.targets=[v.id];break;case"after-all":{this._graphMetadata[a.targets[0]]?.parents?(v.targets=a.targets,this._replaceTargets(a.id,[v.id]),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(M=>M.id!==a.id)):this._graph.columns[this._graph.columns.length-1].nodes.forEach(M=>M.targets.push(v.id));break}case"parallel":this._processAddingParallelNode(v,a,y);break}this._showMessage(v.approvalTeamId?"teamAddSuccess":"approverAddSuccess"),this._approvalProcess.nodes.push(v),this._buildView(this._approvalProcess),this._onNodeAdd(v)}})}_editNode(a){this._dialogService.open(Me,{data:se({isEdit:!0,node:Object.assign({},a),checkDueDate:this.checkDueDate},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(i=>{let l=i?.node;l&&(this._cacheCurrentApprovalProcess(),this._updateNode(l),this._showMessage("nodeEdit"),this._buildView(this._approvalProcess),this._onNodeEdit(a))})}_onNodeDelete(a){this._cacheCurrentApprovalProcess(),this._deleteNode(a),this._showMessage(a.approvalTeamId?"teamRemove":"nodeRemove"),this._buildView(this._approvalProcess)}_deleteSelectedNodes(){this._cacheCurrentApprovalProcess(),this._nodeComponents.filter(t=>t._isSelected).map(t=>t.node).forEach(t=>{this._deleteNode(t),this._buildView(this._approvalProcess)}),this._showMessage("nodesRemove")}_onNodeDragMoved(a){let t=this._nodeComponents.find(i=>i.node===a)?._nativeElement.getBoundingClientRect();t&&this._nodeComponents.forEach(i=>{i.node!==a&&i._dropZones.length&&i._checkIfNodeDraggedInDropZone(t)})}_focusNode(a){let t=this._nodeComponents.find(i=>i.node===a);t&&(this._moveColInView(a.colIndex??0),t._focus({preventScroll:!0}))}_onNodeDrop(a,t){t.reset(),setTimeout(()=>this._dragDropInProgress=!1);let i=this._nodeComponents.find(d=>d._isAnyDropZoneActive);if(!i)return;this._cacheCurrentApprovalProcess();let l=i._activeDropZones[0].placement;if(this._nodeComponents.forEach(d=>d._deactivateDropZones()),l==="after"){this._deleteNode(a),this._buildView(this._approvalProcess);let d=_e(this._graph).find(v=>v.id===i.node.targets[0]);d?.blank&&(this._deleteNode(d),this._buildView(this._approvalProcess)),a.targets=this._approvalProcess.nodes.find(v=>v.id===i.node.id)?.targets??[],i.node.targets=[a.id],this._finishDragDropProcess(a)}else if(l==="before")this._dialogService.open(ao,void 0,this._injector).afterClosed.subscribe(v=>{if(!v)return;let{type:T,toNextSerial:y}=v;this._deleteNode(a),this._buildView(this._approvalProcess),T===K.SERIAL&&(this._replaceTargets(i.node.id,[a.id]),a.targets=[i.node.id]),T===K.PARALLEL&&this._processAddingParallelNode(a,i.node,y),this._finishDragDropProcess(a)});else if(l==="before-all"){this._deleteNode(a);let d=this._graph.columns[0].nodes;a.targets=d.map(v=>v.id),this._finishDragDropProcess(a)}else l==="after-all"&&(this._deleteNode(a),this._buildView(this._approvalProcess),a.targets=[...i.node.targets],i.node.targets.length===0?this._graph.columns[this._graph.columns.length-1].nodes.forEach(v=>v.targets.push(a.id)):(this._approvalProcess.nodes=this._approvalProcess.nodes.filter(d=>d.id!==i.node.id),this._replaceTargets(i.node.id,[a.id])),this._finishDragDropProcess(a))}_moveColInView(a){let t=this._graphEl.nativeElement.children[a].firstElementChild;if(!t)return;let{x:i,width:l}=t.getBoundingClientRect(),d=this._graphContainerEl.nativeElement.getBoundingClientRect().x,v=i-d,T=v+l;v<0?this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+v):T>this._graphEl.nativeElement.clientWidth&&this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+T-this._graphEl.nativeElement.clientWidth)}_finishDragDropProcess(a){this._approvalProcess.nodes.push(a),this._buildView(this._approvalProcess)}_showMessage(a){this._messages=[{type:a}]}_buildView(a){if(a.nodes||(a.nodes=[]),a.watchers||(a.watchers=[]),this._approvalProcess=a,this._graph=gt(this._approvalProcess.nodes),this.removeSpaceNode&&(this._graph.columns=this.removeSpaceNodesFromColumns(this._graph.columns)),this._graph.errors){this._showMessage("error");return}this._graphMetadata=Ct(this._graph);let t=_e(this._graph);this._approvalProcess.nodes=t.filter(i=>!i.space),this._multipleRootNodes=t.filter(i=>this._graphMetadata[i.id].isRoot).length>1,this._multipleFinalNodes=t.filter(i=>this._graphMetadata[i.id].isFinal).length>1,this._cdr.detectChanges(),this._gridList?.clearSelection(),this._isEditMode||this._setScrollPosition(0)}_listenOnResize(){this._subscriptions.add(ro(lo(window,"resize"),lo(this._graphContainerEl.nativeElement,"scroll")).pipe(xo(50,void 0,{leading:!0,trailing:!0})).subscribe(()=>{this._cdr.detectChanges()}))}_updateNode(a){let t=this._approvalProcess.nodes.findIndex(i=>i.id===a.id);t>-1&&(this._approvalProcess.nodes[t]=a)}_deleteNode(a){let t=[a],i=_e(this._graph),l=i.find(F=>F.id===a.id),d;do l?.targets.length===1&&(d=i.find(F=>F.id===l?.targets[0]),d?.blank&&this._graphMetadata[d.id].parents.length===1&&(t.push(d),l=d,d=i.find(F=>F.id===l?.targets[0])));while(d?.blank&&this._graphMetadata[d.id].parents.length===1);let v=this._graphMetadata[a.id].parents[0],T=a.targets[0],y=this._graphMetadata[v?.id]?.parallelStart,k=this._graphMetadata[T]?.parallelEnd,M=y&&k||t.length>1?[]:l?.targets??[];this._replaceTargets(a.id,M),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(F=>!t.includes(F))}_addParallelTargets(a,t){this._approvalProcess.nodes.forEach(i=>{ce(i,a)&&i.targets.push(t)})}_replaceTargets(a,t){this._approvalProcess.nodes.forEach(i=>{ce(i,a)&&(i.targets=i.targets.filter(l=>l!==a),i.targets.push(...t))})}_cacheCurrentApprovalProcess(){this._previousApprovalProcess=structuredClone(this._approvalProcess)}get _carouselStepSize(){return this._graphEl.nativeElement.scrollWidth/this._carouselStepsCount}get _scrollDiff(){return this._graphEl?this._graphEl.nativeElement.scrollWidth-this._graphEl.nativeElement.clientWidth:0}get _carouselStepsCount(){return this._graphEl.nativeElement.children.length}get _carouselStepsLeft(){return Math.ceil(this._graphContainerEl.nativeElement.scrollLeft/this._carouselStepSize)}get _carouselStepsRight(){return Math.ceil((this._scrollDiff-Math.round(this._graphContainerEl.nativeElement.scrollLeft))/this._carouselStepSize)}get _defaultDialogOptions(){return{teamDataSource:this.teamDataSource,userDataSource:this.userDataSource,userDetailsTemplate:this.userDetailsTemplate,rtl:this._rtl}}_findSerialNode(a,t){if(Number.isInteger(a)&&t?.some(d=>{let v=this._graphMetadata[d]?.nodeIndex;return Number.isInteger(v)&&v<=a-1}))return t??[];let l=this._approvalProcess.nodes.find(d=>d.id===t?.[0]);return this._findSerialNode(a,l?.targets)}_processAddingParallelNode(a,t,i=!1){if(a.targets=t.targets,this._addParallelTargets(t.id,a.id),i){let l=this._graphMetadata[t.id].nodeIndex,d=t.targets;if(l===0){let v=this._graphMetadata[t.id],y=(this._graph.columns?.[v.columnIndex]?.nodes).find((k,M)=>M>0&&!k.space);if(y){l=this._graphMetadata[y.id].columnIndex,d=y.targets,a.targets=this._findSerialNode(l,d);return}a.targets=t.targets;return}a.targets=this._findSerialNode(l,d)}}_setupDataSourceSubscription(){let a=this._dataSourceChanged$.pipe(so(null),bo(()=>{let t=[this.teamDataSource,this.userDataSource,this.watcherDataSource].filter(Boolean).map(i=>ro(i.onDataRequested().pipe(po(!0)),i.onDataReceived().pipe(po(!1))).pipe(so(i.isDataLoading)));return Le(t)}),go(t=>t.some(Boolean)),Co()).subscribe(t=>{t?this.onDataRequested.emit():this.onDataReceived.emit()});this._subscriptions.add(a)}removeSpaceNodesFromColumns(a){let t=[];return a.forEach(i=>{let l=i.nodes.filter(v=>!v.space),d=no(se({},i),{nodes:l});t.push(d)}),t}};n.\u0275fac=function(t){return new(t||n)(N(Go),N(J),N(Fo),N(Ko,8),N(Oe,8))},n.\u0275cmp=I({type:n,selectors:[["fdp-approval-flow"]],viewQuery:function(t,i){if(t&1&&(Q(mn,5),Q(vn,5),Q(un,5),Q(Ve,5)),t&2){let l;z(l=O())&&(i._graphContainerEl=l.first),z(l=O())&&(i._graphEl=l.first),z(l=O())&&(i._gridList=l.first),z(l=O())&&(i._nodeComponents=l)}},inputs:{title:"title",value:"value",userDataSource:"userDataSource",watcherDataSource:"watcherDataSource",teamDataSource:"teamDataSource",userDetailsTemplate:"userDetailsTemplate",approvalStatusTemplate:"approvalStatusTemplate",statusColorMapping:"statusColorMapping",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allowSendRemindersForStatuses:"allowSendRemindersForStatuses",isEditAvailable:"isEditAvailable",watchersLabel:"watchersLabel",allowAddParallelNodes:"allowAddParallelNodes",disableSaveButton:"disableSaveButton",disableExitButton:"disableExitButton",usersDataProviderEntityKey:"usersDataProviderEntityKey",teamsDataProviderEntityKey:"teamsDataProviderEntityKey",watchersDataProviderEntityKey:"watchersDataProviderEntityKey",removeSpaceNode:"removeSpaceNode"},outputs:{nodeClick:"nodeClick",afterNodeAdd:"afterNodeAdd",afterNodeEdit:"afterNodeEdit",valueChange:"valueChange",sendReminders:"sendReminders",onDataRequested:"onDataRequested",onDataReceived:"onDataReceived"},features:[Vo([to]),me],decls:11,vars:10,consts:[["gridList",""],["graphContainerEl",""],["graphEl",""],["approvalFlowNode",""],["fdCompact",""],[3,"messagesChange","undoLastAction","messages","undoLastActionAvailable"],[1,"fdp-approval-flow__toolbar",3,"selectionChange","selectionMode"],[3,"title"],[3,"graph","selectedNodes","graphMetadata","isEditMode"],[1,"fdp-approval-flow__watchers"],["fd-bar",""],[3,"enterEditMode","addNode","editSelectedNode","deleteSelectedNodes","graph","selectedNodes","graphMetadata","isEditMode"],[1,"fdp-approval-flow__watchers-title"],[1,"fdp-approval-flow__watchers-input-container"],["size","xs",3,"image","label","clickable","circle"],["size","xs",3,"avatarClicked","image","label","clickable","circle"],[3,"ngModelChange","dropdownValues","placeholder","displayFn","valueFn","showAllButton","ngModel"],[1,"fdp-approval-flow__container",3,"fdp-approval-flow__container--extra-padding-start","fdp-approval-flow__container--extra-padding-end"],[1,"fdp-approval-flow__container"],[1,"fdp-approval-flow-carousel-controls",3,"fdp-approval-flow-carousel-controls--edit-mode"],[1,"fdp-approval-flow__graph-container"],[1,"fdp-approval-flow__graph"],[1,"fdp-approval-flow__graph-column"],[1,"fdp-approval-flow-carousel-controls"],[1,"fdp-approval-flow-carousel-controls__button--prev-slide"],[1,"fdp-approval-flow-carousel-controls__button--next-slide"],[1,"fdp-approval-flow-carousel-controls__button--prev-slide",3,"click"],[3,"glyph"],[1,"fdp-approval-flow-carousel-controls__button--next-slide",3,"click"],["cdkDrag","",3,"cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","approvalStatusTemplate","statusColorMapping"],["cdkDrag","",3,"onAdd","onEdit","onDelete","keydown","cdkDragStarted","cdkDragReleased","cdkDragMoved","cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","approvalStatusTemplate","statusColorMapping"],["type","active",1,"fdp-approval-flow__graph-node-inner",3,"press","value","selected","ariaLabelledBy","disableToolbarClick"],[3,"ngTemplateOutlet"],["fd-grid-list-item-image","","size","xs",3,"image","label","circle"],["fd-grid-list-item-body",""],["fd-illustrated-message","","type","spot",3,"svgConfig"],["fd-illustrated-message-figcaption",""],["fd-illustrated-message-title",""],["fd-illustrated-message-text",""],["xmlns","http://www.w3.org/2000/svg","width","128","height","128","viewBox","0 0 128 128","id","sapIllus-Spot-NoData"],["d","M41.6179,32.7174H84.6273a1,1,0,0,1,.723.3092l7.2445,7.5824,7.4817,7.8491a1,1,0,0,1,.2761.69l-.0046,55.6069a4.1038,4.1038,0,0,1-.8787,2.1212A4.0564,4.0564,0,0,1,98.1,107.9631l-56.3858.0313a2.6167,2.6167,0,0,1-3.0812-3.2309l-.0152-69.0594Z",1,"sapIllus_PatternShadow"],["d","M35.7928,27.4987H78.8022a1,1,0,0,1,.723.3092L86.77,35.39l7.4816,7.8492a1,1,0,0,1,.2762.69l-.0046,55.6069a3,3,0,0,1-3,3H35.808a2.9946,2.9946,0,0,1-3-2.9913c-.01-12.0564-.0423-57.0116-.0152-69.0595A2.9943,2.9943,0,0,1,35.7928,27.4987Z",1,"sapIllus_ObjectFillColor"],["d","M93.2978,44.5335H78.8208a.9925.9925,0,0,1-.974-1.01V28.5108a.97.97,0,0,1,1.6628-.7143L93.9865,42.8092A1.0151,1.0151,0,0,1,93.2978,44.5335Z",1,"sapIllus_BrandColorSecondary"],["d","M104.608,38.9485l5.9157-1.7721c1.32-.3954.7584-2.5258-.5689-2.1282L104.0392,36.82c-1.32.3953-.7584,2.5258.5688,2.1282Z",1,"sapIllus_Layering1"],["d","M85.2973,21.2465l.9718-5.9331c.2154-1.3151-1.777-1.8807-1.9941-.5554l-.9718,5.9332c-.2155,1.3151,1.777,1.8807,1.9941.5553Z",1,"sapIllus_Layering1"],["d","M95.3034,29.0015a1.01,1.01,0,0,1-.6837-.267,1.0783,1.0783,0,0,1-.0864-1.4932l5.9511-6.8857a1.01,1.01,0,0,1,1.4538-.0884,1.0785,1.0785,0,0,1,.0865,1.4932l-5.9511,6.8858A1.0164,1.0164,0,0,1,95.3034,29.0015Z",1,"sapIllus_Layering1"],["d","M94.8747,42.8861,80.0855,27.4623a1.5152,1.5152,0,0,0-1.0885-.4636H35.807a3.509,3.509,0,0,0-3.5146,3.4836c-.0294,13.2857.0137,66.7559.0157,69.0257a3.5076,3.5076,0,0,0,3.5146,3.4894H91.7709a3.5106,3.5106,0,0,0,3.5146-3.4982l.005-55.5785A1.49,1.49,0,0,0,94.8747,42.8861Zm-16.21-14.8355a1.15,1.15,0,0,1,.2561-.0309,1.04,1.04,0,0,1,.51.2134l14.276,14.8837.0194.02a.5891.5891,0,0,1,.0968.6251c-.1016.1764-.4086.24-.69.24L78.8355,44a.6031.6031,0,0,1-.5472-.6131c-.0087-4.9588-.017-9.9015-.0035-14.8689A.5189.5189,0,0,1,78.6646,28.0506Zm13.1062,73.95H35.8188a2.5045,2.5045,0,0,1-2.5107-2.491c-.002-2.2694-.0451-55.74-.0157-69.0248a2.5054,2.5054,0,0,1,2.5107-2.4861H77.3684a1.49,1.49,0,0,0-.0976.5106V43.4934A1.5145,1.5145,0,0,0,78.7894,45H78.92L94.286,47.9749l-.0046,51.5269A2.5074,2.5074,0,0,1,91.7708,102.0006Z",1,"sapIllus_StrokeDetailColor"],["fd-bar-right",""],["fd-button","","fdType","emphasized",3,"click","label","disabled"],["fd-button","","fdType","transparent",3,"click","label","disabled"]],template:function(t,i){if(t&1){let l=x();Re(0,4),s(1,"fdp-approval-flow-messages",5),P("messagesChange",function(v){return w(l),L(i._messages,v)||(i._messages=v),h(v)}),b("undoLastAction",function(){return w(l),h(i._undoLastAction())}),f(),s(2,"fd-grid-list",6,0),b("selectionChange",function(v){return w(l),h(i._onNodeSelectionChange(v))}),s(4,"fd-grid-list-title-bar",7),u(5,"fdTranslate"),E(6,"fd-grid-list-title-bar-spacer"),_(7,wn,1,4,"fdp-approval-flow-toolbar-actions",8),f(),_(8,bn,6,5,"div",9),_(9,In,2,1),f(),_(10,Vn,8,8,"div",10),Ue()}t&2&&(p(),B("messages",i._messages),m("undoLastActionAvailable",!!i._previousApprovalProcess),p(),m("selectionMode",i._isEditMode?"multiSelect":"none"),p(2),m("title",i.title||g(5,8,"platformApprovalFlow.defaultTitle")),p(3),c(i.isEditAvailable?7:-1),p(),c(i._approvalProcess.watchers!=null&&i._approvalProcess.watchers.length||i._isEditMode?8:-1),p(),c(i._graph.errors?-1:9),p(),c(i._isEditMode?10:-1))},dependencies:[W,xt,pt,rt,lt,Tt,Qe,He,te,ee,oe,pe,Ve,Uo,Ze,it,ue,dt,nt,Oo,jo,Wo,be,ct,st,_t,ft,U],styles:[`.fd-scrollbar{border:0;-webkit-box-sizing:border-box;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:normal;margin-block:0;margin-inline:0;overflow:auto;padding-block:0;padding-inline:0;scrollbar-color:var(--fdScrollbar_Thumb_Color) var(--fdScrollbar_Track_Color)}.fd-scrollbar:after,.fd-scrollbar:before{-webkit-box-sizing:inherit;box-sizing:inherit;font-size:inherit}.fd-scrollbar.is-focus,.fd-scrollbar:focus{outline:none;z-index:5}.fd-scrollbar::-webkit-scrollbar{height:var(--fdScrollbar_Dimension);width:var(--fdScrollbar_Dimension)}.fd-scrollbar::-webkit-scrollbar-corner,.fd-scrollbar::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color)}.fd-scrollbar::-webkit-scrollbar-thumb{background-color:transparent;border:var(--fdScrollbar_Thumb_Offset) solid transparent;border-radius:calc(var(--fdScrollbar_Thumb_Border_Radius) - var(--fdScrollbar_Thumb_Offset));-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color);box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color)}.fd-scrollbar::-webkit-scrollbar-thumb:active,.fd-scrollbar::-webkit-scrollbar-thumb:hover{-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color);box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color)}.fd-scrollbar--container::-webkit-scrollbar-corner,.fd-scrollbar--container::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color);border-radius:0 var(--fdScrollbar_Border_Radius) var(--fdScrollbar_Border_Radius) 0}.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-corner,.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-track,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-corner,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-track{border-radius:var(--fdScrollbar_Border_Radius) 0 0 var(--fdScrollbar_Border_Radius)}.fdp-approval-flow__watchers{margin-bottom:.5rem;padding-left:.5rem}.fdp-approval-flow__watchers-title{font-size:.875em;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin:1rem 0 .5rem}.fdp-approval-flow__watchers fd-avatar{margin-right:.5rem;cursor:pointer}.fdp-approval-flow__watchers fd-avatar:focus{outline-offset:.0625rem;outline-width:.0625rem;outline-style:dotted;outline-color:var(--sapContent_FocusColor, #0854a0)}.fdp-approval-flow__watchers .fdp-approval-flow__watchers-input-container{width:17.375rem}[dir=rtl] .fdp-approval-flow__watchers,.fdp-approval-flow__watchers[dir=rtl]{padding-right:.5rem}[dir=rtl] .fdp-approval-flow__watchers fd-avatar,.fdp-approval-flow__watchers[dir=rtl] fd-avatar{margin-left:.5rem;margin-right:0}.fdp-approval-flow__container{max-width:100%;position:relative;padding:0 .5rem}.fdp-approval-flow__container--extra-padding-start{padding-left:2rem}.fdp-approval-flow__container--extra-padding-end{padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start{padding-left:.5rem;padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-end{padding-right:.5rem;padding-left:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end{padding-right:2rem;padding-left:2rem}.fdp-approval-flow__graph-container{position:relative;overflow:auto;padding-top:.5rem;padding-bottom:2rem;padding-left:2rem}.fdp-approval-flow__graph-container--multiple-root-nodes{padding-left:4rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-root-nodes,.fdp-approval-flow__graph-container--multiple-root-nodes[dir=rtl]{padding-right:2rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-final-nodes,.fdp-approval-flow__graph-container--multiple-final-nodes[dir=rtl]{padding-left:0}.fdp-approval-flow-carousel-controls{position:absolute;display:flex;align-items:center;width:100%;height:6.375rem;padding-top:.5rem;left:0}.fdp-approval-flow-carousel-controls--edit-mode{height:8.375rem}.fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--next-slide{position:absolute;border:none;background:transparent;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);display:flex;justify-content:space-between;width:2rem;align-items:center;cursor:pointer}.fdp-approval-flow-carousel-controls__button--prev-slide fd-icon,.fdp-approval-flow-carousel-controls__button--next-slide fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;top:.0625rem}.fdp-approval-flow-carousel-controls__button--prev-slide{left:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--prev-slide[dir=rtl]{left:auto;right:0}.fdp-approval-flow-carousel-controls__button--next-slide{right:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--next-slide,.fdp-approval-flow-carousel-controls__button--next-slide[dir=rtl]{left:0;right:auto}.fdp-approval-flow__graph{display:flex;align-items:flex-start;position:relative;left:0;transition:left .3s}.fdp-approval-flow__graph-column{margin-right:4rem;position:relative}[dir=rtl] .fdp-approval-flow__graph-column:first-child,.fdp-approval-flow__graph-column[dir=rtl]:first-child{margin-right:2rem}.fdp-approval-flow__graph fdp-approval-flow-node+fdp-approval-flow-node:not(:last-child){margin-bottom:1rem}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner{padding:0}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content{margin-left:auto}[dir=rtl] .fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content,.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content[dir=rtl]{margin-left:0;margin-right:auto}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--actions{display:none}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner:not(.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner--edit) .fd-toolbar.fd-grid-list__item-toolbar{display:none}.cdk-overlay-container{z-index:1002!important}
/*! Bundled license information:

fundamental-styles/dist/scrollbar.css:
  (*!
   * Fundamental Library Styles v0.40.1
   * Copyright (c) 2025 SAP SE or an SAP affiliate company.
   * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)
   *)
*/
`],encapsulation:2,changeDetection:0});let e=n;return e})();var Nd=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Eo({type:n}),n.\u0275inj=To({imports:[St,Ve,Ie,Me,Fe,eo,ao]});let e=n;return e})();export{St as a,Nd as b};
