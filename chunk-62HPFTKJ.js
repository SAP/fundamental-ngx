import{a as wt}from"./chunk-NBIMYJ4F.js";import{a as D}from"./chunk-APB5IVBS.js";import{Ca as ht,Da as ft,Ea as gt,Fa as mt,Ga as _t,Ha as St,Ia as vt,Ja as yt,Ka as xt,La as Ot,Ma as K,Na as bt,Oa as Bt,Pa as It,Qa as Dt,Ra as Tt}from"./chunk-X4ZM7YGP.js";import{a as Ct}from"./chunk-ZZTZRETY.js";import{a as pt}from"./chunk-SD4ALYCH.js";import{a as N}from"./chunk-M5IJBHUB.js";import{a as at,b as dt}from"./chunk-VPMJ442Y.js";import{a as H,b as ut}from"./chunk-5TUM4TA6.js";import{a as L}from"./chunk-P73TUGTN.js";import{e as z,f as q}from"./chunk-XWUBOT7Q.js";import{a as ct}from"./chunk-CLG3MER3.js";import{a as lt}from"./chunk-PCMMG5PD.js";import{j as J,w as U}from"./chunk-2726DREA.js";import{c as A}from"./chunk-JEIBFNDU.js";import{a as E}from"./chunk-HDINBTBQ.js";import{b as C}from"./chunk-3RZ6GDXO.js";import{a as R}from"./chunk-J2ZYVFGE.js";import{P as b,Q as B,R as a,S as nt,T as ot,U as Z,V as c,W as T,X as st,w as rt}from"./chunk-MRD324L5.js";import{w as X}from"./chunk-EIBM65BX.js";import{$ as f,Ac as O,La as S,ca as g,ha as m,nc as x,pc as j,qc as h,ta as _,wb as v,xb as y}from"./chunk-5C524TAA.js";import{a as Y,b as Q,i as M}from"./chunk-66YHNWRR.js";var $=function(o,t,i,e){var r=arguments.length,n=r<3?t:e===null?e=Object.getOwnPropertyDescriptor(t,i):e,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(o,t,i,e);else for(var l=o.length-1;l>=0;l--)(s=o[l])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n},F=class extends b{};$([a()],F.prototype,"text",void 0);$([a()],F.prototype,"additionalText",void 0);$([E()],F.prototype,"values",void 0);F=$([B("ui5-filter-item")],F);F.define();var Xt=["*"],Re=(()=>{let t=class t{constructor(){this.text=h(),this.additionalText=h(),this.slots=[{name:"values",description:"Defines the filter options available for this filter category."}],this.elementRef=f(_),this.injector=f(m)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let e=this.element,r=["text","additionalText"];for(let n of r){let s=n.replace(/-./g,l=>l[1].toUpperCase());this[s]&&typeof this[s]=="function"&&g(this.injector,()=>{x(()=>{let l=this[s]();e&&(e[n]=l)})})}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=S({type:t,selectors:[["ui5-filter-item"],["","ui5-filter-item",""]],inputs:{text:[1,"text"],additionalText:[1,"additionalText"]},exportAs:["ui5FilterItem"],ngContentSelectors:Xt,decls:1,vars:0,template:function(r,n){r&1&&(v(),y(0))},encapsulation:2,changeDetection:0});let o=t;return o})();var W=function(o,t,i,e){var r=arguments.length,n=r<3?t:e===null?e=Object.getOwnPropertyDescriptor(t,i):e,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(o,t,i,e);else for(var l=o.length-1;l>=0;l--)(s=o[l])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n},V=class extends b{constructor(){super(...arguments),this.selected=!1}};W([a()],V.prototype,"text",void 0);W([a({type:Boolean})],V.prototype,"selected",void 0);V=W([B("ui5-filter-item-option")],V);V.define();var Zt=["*"],ze=(()=>{let t=class t{constructor(){this.text=h(),this.selected=h(!1,{transform:O}),this.elementRef=f(_),this.injector=f(m)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let e=this.element,r=["text","selected"];for(let n of r){let s=n.replace(/-./g,l=>l[1].toUpperCase());this[s]&&typeof this[s]=="function"&&g(this.injector,()=>{x(()=>{let l=this[s]();e&&(e[n]=l)})})}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=S({type:t,selectors:[["ui5-filter-item-option"],["","ui5-filter-item-option",""]],inputs:{text:[1,"text"],selected:[1,"selected"]},exportAs:["ui5FilterItemOption"],ngContentSelectors:Zt,decls:1,vars:0,template:function(r,n){r&1&&(v(),y(0))},encapsulation:2,changeDetection:0});let o=t;return o})();var tt=function(o,t,i,e){var r=arguments.length,n=r<3?t:e===null?e=Object.getOwnPropertyDescriptor(t,i):e,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(o,t,i,e);else for(var l=o.length-1;l>=0;l--)(s=o[l])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n},P=class extends b{constructor(){super(...arguments),this.selected=!1}};tt([a()],P.prototype,"text",void 0);tt([a({type:Boolean})],P.prototype,"selected",void 0);P=tt([B("ui5-group-item")],P);P.define();var Kt=["*"],ei=(()=>{let t=class t{constructor(){this.text=h(),this.selected=h(!1,{transform:O}),this.elementRef=f(_),this.injector=f(m)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let e=this.element,r=["text","selected"];for(let n of r){let s=n.replace(/-./g,l=>l[1].toUpperCase());this[s]&&typeof this[s]=="function"&&g(this.injector,()=>{x(()=>{let l=this[s]();e&&(e[n]=l)})})}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=S({type:t,selectors:[["ui5-group-item"],["","ui5-group-item",""]],inputs:{text:[1,"text"],selected:[1,"selected"]},exportAs:["ui5GroupItem"],ngContentSelectors:Kt,decls:1,vars:0,template:function(r,n){r&1&&(v(),y(0))},encapsulation:2,changeDetection:0});let o=t;return o})();var et=function(o,t,i,e){var r=arguments.length,n=r<3?t:e===null?e=Object.getOwnPropertyDescriptor(t,i):e,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(o,t,i,e);else for(var l=o.length-1;l>=0;l--)(s=o[l])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n},G=class extends b{constructor(){super(...arguments),this.selected=!1}};et([a()],G.prototype,"text",void 0);et([a({type:Boolean})],G.prototype,"selected",void 0);G=et([B("ui5-sort-item")],G);G.define();var Wt=["*"],pi=(()=>{let t=class t{constructor(){this.text=h(),this.selected=h(!1,{transform:O}),this.elementRef=f(_),this.injector=f(m)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let e=this.element,r=["text","selected"];for(let n of r){let s=n.replace(/-./g,l=>l[1].toUpperCase());this[s]&&typeof this[s]=="function"&&g(this.injector,()=>{x(()=>{let l=this[s]();e&&(e[n]=l)})})}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=S({type:t,selectors:[["ui5-sort-item"],["","ui5-sort-item",""]],inputs:{text:[1,"text"],selected:[1,"selected"]},exportAs:["ui5SortItem"],ngContentSelectors:Wt,decls:1,vars:0,template:function(r,n){r&1&&(v(),y(0))},encapsulation:2,changeDetection:0});let o=t;return o})();var te="sort",Nt="M405.022 498.566q-9.951 9.951-22.888 9.951t-21.893-9.951l-101.504-100.51q-11.942-11.941 0-22.888 4.975-4.976 10.946-4.976t10.947 4.976l84.587 84.587v-317.45q0-15.922 15.922-15.922t15.922 15.922v319.44l86.577-86.577q10.947-10.946 22.889 0 10.946 10.947 0 22.888zM253.761 110.46q10.946 11.941 0 22.888-4.976 4.976-11.444 4.976t-11.444-4.976l-86.578-86.577v319.44q0 15.922-15.922 15.922t-15.922-15.922V48.762l-84.587 84.587q-4.976 4.976-10.947 4.976t-10.946-4.976q-11.942-10.947 0-22.888L107.475 9.95Q116.431 0 129.368 0t22.889 9.951z",jt=!1,Et=U,ee="SAP-icons-v4",ie="@ui5/webcomponents-icons";C(te,{pathData:Nt,ltr:jt,accData:Et,collection:ee,packageName:ie});var re="sort",Rt="M504 124q8 8 8 18 0 11-7.5 18.5T486 168t-18-7l-42-42v335q0 11-7.5 18.5T400 480t-18-7.5-7-18.5V118l-43 43q-7 7-18 7t-18.5-7.5T288 142q0-10 8-18l86-85q7-7 18-7t18 7zM180 351q7-7 18-7t18.5 7.5T224 370q0 10-8 18l-86 85q-7 7-18 7t-18-7L8 388q-8-8-8-18 0-11 7.5-18.5T26 344t18 7l43 43V58q0-11 7.5-18.5T113 32t18 7.5 7 18.5v335z",ne=!1,oe=U,se="SAP-icons-v5",le="@ui5/webcomponents-icons";C(re,{pathData:Rt,ltr:ne,accData:oe,collection:se,packageName:le});var Ft="sort";var ae="group-2",Mt="M415 64h64q14 0 23 9t9 23v320q0 13-9 22.5t-23 9.5h-64v-32h64V96h-64V64zM-1 416V96q0-14 9.5-23T31 64h64v32H31v320h64v32H31q-13 0-22.5-9.5T-1 416zm144-96h224q16 0 16 16 0 6-4.5 11t-11.5 5H143q-6 0-11-5t-5-11q0-7 5-11.5t11-4.5zm0-96h224q16 0 16 16 0 6-4.5 11t-11.5 5H143q-6 0-11-5t-5-11q0-7 5-11.5t11-4.5zm-16-80q0-7 5-11.5t11-4.5h224q16 0 16 16 0 6-4.5 11t-11.5 5H143q-6 0-11-5t-5-11z",At=!1,qt=J,de="SAP-icons-v4",ue="@ui5/webcomponents-icons";C(ae,{pathData:Mt,ltr:At,accData:qt,collection:de,packageName:ue});var pe="group-2",Lt="M454 480h-44q-11 0-18.5-7.5T384 454t7.5-18 18.5-7h44q7 0 7-7V90q0-7-7-7h-44q-11 0-18.5-7T384 58t7.5-18.5T410 32h44q24 0 41 17t17 41v332q0 24-17 41t-41 17zm-352 0H58q-24 0-41-17T0 422V90q0-24 17-41t41-17h44q11 0 18.5 7.5T128 58t-7.5 18-18.5 7H58q-7 0-7 7v332q0 7 7 7h44q11 0 18.5 7t7.5 18-7.5 18.5T102 480zm256-301H154q-11 0-18.5-7t-7.5-18 7.5-18.5T154 128h204q11 0 18.5 7.5T384 154t-7.5 18-18.5 7zm0 96H154q-11 0-18.5-7t-7.5-18 7.5-18.5T154 224h204q11 0 18.5 7.5T384 250t-7.5 18-18.5 7zm-96 96H154q-11 0-18.5-7t-7.5-18 7.5-18.5T154 320h108q11 0 18.5 7.5T288 346t-7.5 18-18.5 7z",he=!1,fe=J,ge="SAP-icons-v5",me="@ui5/webcomponents-icons";C(pe,{pathData:Lt,ltr:he,accData:fe,collection:ge,packageName:me});var Vt="group-2";function _e(){return T("div",{slot:"header",class:"ui5-vsd-header",children:[T("div",{class:"ui5-vsd-header-container",part:"header",children:[T("div",{class:"ui5-vsd-header-start",children:[this.showBackButton&&c(A,{design:"Transparent",icon:pt,class:"ui5-vsd-back-button",onClick:this._navigateToFilters}),c(lt,{wrappingType:"None",level:"H1",class:"ui5-vsd-title",id:`${this._id}-label`,children:this._title})]}),c("div",{class:"ui5-vsd-header-end",children:c(A,{design:"Transparent",onClick:this._resetSettings,disabled:this._disableResetButton,children:this._resetButtonLabel})})]}),!this.showBackButton&&this.hasPagination&&c("div",{class:"ui5-vsd-sub-header-container",children:c("div",{class:"ui5-vsd-sub-header",children:c(ut,{onSelectionChange:this._handleModeChange,children:Se.call(this)})})})]})}function Se(){let o=[];return this.shouldBuildSort&&o.push(c(H,{selected:this.isModeSort,icon:Ft,"data-mode":"Sort",tooltip:this._sortButtonTooltip})),this.shouldBuildFilter&&o.push(c(H,{selected:this.isModeFilter,icon:wt,"data-mode":"Filter",tooltip:this._filterButtonTooltip})),this.shouldBuildGroup&&o.push(c(H,{selected:this.isModeGroup,icon:Vt,"data-mode":"Group",tooltip:this._groupButtonTooltip})),o}function ve(){return T("div",{class:{"ui5-vsd-content":!0,"ui5-vsd-content-expand":this.expandContent},children:[this.shouldBuildSort&&this.isModeSort&&Pt.call(this,!0),this.shouldBuildFilter&&this.isModeFilter&&ye.call(this),this.shouldBuildGroup&&this.isModeGroup&&Pt.call(this,!1)]})}function Pt(o){let t=o?this._currentSettings.sortOrder:this._currentSettings.groupOrder,i=o?this._currentSettings.sortBy:this._currentSettings.groupBy;return T("div",{class:o?"ui5-vsd-sort":"ui5-vsd-group",children:[c(q,Q(Y({selectionMode:"SingleStart",onSelectionChange:o?this._onSortOrderChange:this._onGroupOrderChange},o?{"sort-order":""}:{"group-order":""}),{accessibleNameRef:`${this._id}-label`,children:c(z,{headerText:o?this._sortOrderLabel:this._groupOrderLabel,children:t.map(e=>c(L,{selected:e.selected,children:e.text}))})})),c(q,Q(Y({selectionMode:"SingleStart",onSelectionChange:o?this._onSortByChange:this._onGroupByChange},o?{"sort-by":""}:{"group-by":""}),{children:c(z,{headerText:o?this._sortByLabel:this._groupByLabel,children:i.map((e,r)=>c(L,{"data-ui5-external-action-item-index":r,selected:e.selected,children:e.text}))})}))]})}function ye(){return c(Z,{children:this._filterStepTwo?c(q,{selectionMode:"Multiple",onSelectionChange:this._handleFilterValueItemClick,accessibleNameRef:`${this._id}-label`,children:this._currentSettings.filters.filter(o=>o.selected).map(o=>c(Z,{children:o.filterOptions.map(t=>c(L,{selected:t.selected,children:t.text}))}))}):c(q,{onItemClick:this._changeCurrentFilter,accessibleNameRef:`${this._id}-label`,children:c(z,{headerText:this._filterByLabel,children:this.filterItems.map(o=>c(L,{class:"ui5-vsd-filterItemList",additionalText:o.additionalText,accessibleName:this._selectedFiltersLabel(o),children:o.text}))})})})}function xe(){return T("div",{slot:"footer",class:"ui5-vsd-footer",children:[c(A,{design:"Emphasized",onClick:this._confirmSettings,children:this._okButtonLabel}),c(A,{design:"Transparent",onClick:this._cancelSettings,children:this._cancelButtonLabel})]})}function it(){return T(ct,{preventInitialFocus:!0,accessibleName:this._dialogTitle,onBeforeClose:this._restoreConfirmedOnEscape,stretch:this._isPhone,open:this.open,onBeforeOpen:this.beforeDialogOpen,onOpen:this.afterDialogOpen,onClose:this.afterDialogClose,children:[_e.call(this),ve.call(this),xe.call(this)]})}X("@ui5/webcomponents-theming","sap_horizon",()=>M(null,null,function*(){return st}));X("@ui5/webcomponents-fiori","sap_horizon",()=>M(null,null,function*(){return Ct}));var Gt=`[on-desktop] .ui5-vsd-content{height:var(--_ui5-v2-18-0_vsd_content_height);min-width:350px}[on-desktop] .ui5-vsd-content.ui5-vsd-content-expand{height:var(--_ui5-v2-18-0_vsd_expand_content_height);min-width:350px}.ui5-vsd-header{width:100%;padding-bottom:.25rem}.ui5-vsd-content{margin:0 .1px 0 -1rem}.ui5-vsd-title{font-size:var(--sapFontHeader5Size)}.ui5-vsd-header-container{display:flex;align-items:center;justify-content:space-between;height:var(--_ui5-v2-18-0_vsd_header_container);line-height:var(--_ui5-v2-18-0_vsd_header_container)}.ui5-vsd-header-end{display:flex}.ui5-vsd-sub-header{height:var(--_ui5-v2-18-0_vsd_sub_header_container_height);line-height:var(--_ui5-v2-18-0_vsd_sub_header_container_height)}.ui5-vsd-header-start{display:flex;align-items:center}.ui5-vsd-back-button{margin-inline-end:.5rem}.ui5-vsd-footer{width:100%;display:flex;justify-content:flex-end;align-items:center;margin:.1875rem 0}.ui5-vsd-footer [ui5-button]:first-child{margin-inline-end:.5rem;min-width:4rem}.ui5-vsd-sort{width:100%;height:100%}[ui5-li-group]::part(header){overflow:hidden}[ui5-dialog]::part(content){padding-top:0;padding-bottom:0;padding-inline-end:0}:host [ui5-li]::part(native-li){padding-inline-start:var(--_ui5-v2-18-0_vsd_content_li_padding)}:host [ui5-li].ui5-vsd-filterItemList::part(native-li){padding-inline-start:1rem}
`;var u=function(o,t,i,e){var r=arguments.length,n=r<3?t:e===null?e=Object.getOwnPropertyDescriptor(t,i):e,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(o,t,i,e);else for(var l=o.length-1;l>=0;l--)(s=o[l])&&(n=(r<3?s(n):r>3?s(t,i,n):s(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n},p,d=p=class extends b{constructor(){super(...arguments),this.sortDescending=!1,this.groupDescending=!1,this.open=!1,this._currentSettings={sortOrder:[],sortBy:[],filters:[],groupOrder:[],groupBy:[]},this._initialSettings=this._currentSettings,this._confirmedSettings=this._currentSettings,this._currentMode="Sort",this._filterStepTwo=!1}onBeforeRendering(){if(this._currentSettings.filters&&this._currentSettings.filters.length&&this._setAdditionalTexts(),!this.shouldBuildSort){if(this.shouldBuildFilter){this._currentMode=D.Filter;return}this.shouldBuildGroup&&(this._currentMode=D.Group)}}onInvalidation(t){t.type==="slot"&&(this._confirmedSettings=this._settings)}_setAdditionalTexts(){this.filterItems.forEach((t,i)=>{let e=0;for(let r=0;r<t.values.length;r++)this._currentSettings.filters[i].filterOptions[r].selected&&e++;t.additionalText=e?`${e}`:""})}get _selectedFilter(){for(let t=0;t<this._currentSettings.filters.length;t++)if(this._currentSettings.filters[t].selected)return this._currentSettings.filters[t]}_selectedFiltersLabel(t){let i=t.text?`${t.text},`:"",e=t.additionalText?`${t.additionalText},`:"";return e?p.i18nBundle.getText(Tt,i,e):i}get shouldBuildSort(){return!!this.sortItems.length}get shouldBuildFilter(){return!!this.filterItems.length}get shouldBuildGroup(){return!!this.groupItems.length}get hasPagination(){return[this.shouldBuildSort,this.shouldBuildFilter,this.shouldBuildGroup].filter(i=>i).length>1}get _filterByTitle(){let t=this._selectedFilter?this._selectedFilter.text:"";return`${p.i18nBundle.getText(K)}: ${t}`}get _dialogTitle(){return p.i18nBundle.getText(ht)}get _okButtonLabel(){return p.i18nBundle.getText(ft)}get _cancelButtonLabel(){return p.i18nBundle.getText(gt)}get _resetButtonLabel(){return p.i18nBundle.getText(mt)}get _ascendingLabel(){return p.i18nBundle.getText(It)}get _descendingLabel(){return p.i18nBundle.getText(Dt)}get _sortOrderLabel(){return p.i18nBundle.getText(xt)}get _groupOrderLabel(){return p.i18nBundle.getText(Ot)}get _filterByLabel(){return p.i18nBundle.getText(K)}get _sortByLabel(){return p.i18nBundle.getText(bt)}get _groupByLabel(){return p.i18nBundle.getText(Bt)}get _sortButtonTooltip(){return p.i18nBundle.getText(St)}get _filterButtonTooltip(){return p.i18nBundle.getText(vt)}get _groupButtonTooltip(){return p.i18nBundle.getText(yt)}get _resetButtonAction(){return p.i18nBundle.getText(_t)}get _isPhone(){return rt()}get _sortAscending(){return!this.sortDescending}get _title(){return this.showBackButton?this._filterByTitle:this._dialogTitle}get _disableResetButton(){return this._dialog&&this._settingsAreInitial&&this._filteresAreInitial}get _settingsAreInitial(){let t=!0;return["sortBy","sortOrder","groupBy","groupOrder"].forEach(i=>{this._currentSettings[i].forEach((e,r)=>{e.selected!==this._initialSettings[i][r].selected&&(t=!1)})}),t}get _filteresAreInitial(){let t=!0;return this._currentSettings.filters.forEach((i,e)=>{for(let r=0;r<i.filterOptions.length;r++)i.filterOptions[r].selected!==this._initialSettings.filters[e].filterOptions[r].selected&&(t=!1)}),t}get _settings(){return{sortOrder:JSON.parse(JSON.stringify(this.initSortOrderItems)),sortBy:JSON.parse(JSON.stringify(this.initSortByItems)),groupOrder:JSON.parse(JSON.stringify(this.initGroupOrderItems)),groupBy:JSON.parse(JSON.stringify(this.initGroupByItems)),filters:this.filterItems.map(t=>({text:t.text||"",selected:!1,filterOptions:t.values.map(i=>({text:i.text||"",selected:i.selected}))}))}}get initSortByItems(){return this.sortItems.map((t,i)=>({text:t.text,selected:t.selected,index:i}))}get initGroupByItems(){return this.groupItems.map((t,i)=>({text:t.text,selected:t.selected,index:i}))}get initSortOrderItems(){return[{text:this._ascendingLabel,selected:!this.sortDescending},{text:this._descendingLabel,selected:this.sortDescending}]}get initGroupOrderItems(){return[{text:this._ascendingLabel,selected:!this.groupDescending},{text:this._descendingLabel,selected:this.groupDescending}]}get expandContent(){return this._filterStepTwo||!this.hasPagination}get isModeSort(){return this._currentMode===D.Sort}get isModeFilter(){return this._currentMode===D.Filter}get isModeGroup(){return this._currentMode===D.Group}get showBackButton(){return this.isModeFilter&&this._filterStepTwo}beforeDialogOpen(){this._currentSettings.sortOrder.length===0?(this._initialSettings=this._settings,this._currentSettings=this._settings,this._confirmedSettings=this._settings):this._restoreSettings(this._confirmedSettings),this.fireDecoratorEvent("before-open")}afterDialogOpen(){this._list?.focusFirstItem(),this._focusRecentlyUsedControl(),this.fireDecoratorEvent("open")}afterDialogClose(){this.fireDecoratorEvent("close")}_handleModeChange(t){let i=t.detail.selectedItems[0].getAttribute("data-mode");this._currentMode=D[i]}_handleFilterValueItemClick(t){let i=t.detail.targetItem.innerText;this._currentSettings.filters=this._currentSettings.filters.map(e=>(e.selected&&e.filterOptions.forEach(r=>{r.text===i&&(r.selected=!r.selected)}),e)),this._setSelectedProp(i),this._currentSettings=JSON.parse(JSON.stringify(this._currentSettings))}_setSelectedProp(t){this.filterItems.forEach(i=>{i.values.forEach(e=>{e.text===t&&(e.selected=!e.selected)})})}_navigateToFilters(){this._filterStepTwo=!1}_changeCurrentFilter(t){this._filterStepTwo=!0,this._currentSettings.filters=this._currentSettings.filters.map(i=>(i.selected=i.text===t.detail.item.innerText,i))}_focusRecentlyUsedControl(){if(!this._recentlyFocused||!Object.keys(this._recentlyFocused).length)return;let t=this._recentlyFocused.getSelectedItems();t.length&&t[0].focus()}_confirmSettings(){this.open=!1,this._confirmedSettings=this._currentSettings,this.fireDecoratorEvent("confirm",this.eventsParams)}_cancelSettings(){this._restoreSettings(this._confirmedSettings),this.fireDecoratorEvent("cancel",this.eventsParams),this.open=!1}get eventsParams(){let t=this._currentSettings.sortOrder.filter(I=>I.selected)[0],i=this._currentSettings.sortBy.filter(I=>I.selected)[0],e=this._currentSettings.groupOrder.filter(I=>I.selected)[0],r=this._currentSettings.groupBy.filter(I=>I.selected)[0],n=t&&(t.text||""),s=!this._currentSettings.sortOrder[0].selected,l=i&&(i.text||""),w=i&&i.index,Jt=this.sortItems[w],Ut=e&&(e.text||""),zt=!this._currentSettings.groupOrder[0].selected,Ht=r&&(r.text||""),$t=r&&r.index,kt=this.groupItems[$t],Yt=this.filterItems.filter(I=>I.values.some(Qt=>Qt.selected));return{sortOrder:n,sortDescending:s,sortBy:l,sortByItem:Jt,groupOrder:Ut,groupDescending:zt,groupBy:Ht,groupByItem:kt,filters:this.selectedFilters,filterItems:Yt}}get selectedFilters(){let t=[];return this._currentSettings.filters.forEach(i=>{let e=[];i.filterOptions.forEach(r=>{r.selected&&e.push(r.text||"")}),e.length&&(t.push({}),t[t.length-1][i.text||""]=e)}),t}_restoreConfirmedOnEscape(t){t.detail.escPressed&&(this._cancelSettings(),this._currentMode=D.Sort,this._filterStepTwo=!1)}_resetSettings(){this._restoreSettings(this._initialSettings),this._recentlyFocused=this._sortOrder,this._focusRecentlyUsedControl(),dt(this._resetButtonAction,at.Assertive)}_restoreSettings(t){this._currentSettings=JSON.parse(JSON.stringify(t)),this._currentMode=D.Sort,this._filterStepTwo=!1}_onSortOrderChange(t){this._recentlyFocused=this._sortOrder,this._currentSettings.sortOrder=this.initSortOrderItems.map(i=>(i.selected=i.text===t.detail.targetItem.innerText,i)),this._currentSettings=JSON.parse(JSON.stringify(this._currentSettings))}_onSortByChange(t){let i=Number(t.detail.targetItem.getAttribute("data-ui5-external-action-item-index"));this._recentlyFocused=this._sortBy,this._currentSettings.sortBy=this.initSortByItems.map((e,r)=>(e.selected=r===i,e)),this._currentSettings=JSON.parse(JSON.stringify(this._currentSettings))}_onGroupOrderChange(t){this._recentlyFocused=this._groupOrder,this._currentSettings.groupOrder=this.initGroupOrderItems.map(i=>(i.selected=i.text===t.detail.targetItem.innerText,i)),this._currentSettings=JSON.parse(JSON.stringify(this._currentSettings))}_onGroupByChange(t){let i=Number(t.detail.targetItem.getAttribute("data-ui5-external-action-item-index"));this._recentlyFocused=this._groupBy,this._currentSettings.groupBy=this.initGroupByItems.map((e,r)=>(e.selected=r===i,e)),this._currentSettings=JSON.parse(JSON.stringify(this._currentSettings))}setConfirmedSettings(t){if(t&&this._dialog&&!this._dialog.open){let i=JSON.parse(JSON.stringify(this._confirmedSettings));if(t.sortOrder)for(let e=0;e<i.sortOrder.length;e++)i.sortOrder[e].text===t.sortOrder?i.sortOrder[e].selected=!0:i.sortOrder[e].selected=!1;if(t.sortBy)for(let e=0;e<i.sortBy.length;e++)i.sortBy[e].text===t.sortBy?i.sortBy[e].selected=!0:i.sortBy[e].selected=!1;if(t.groupOrder)for(let e=0;e<i.groupOrder.length;e++)i.groupOrder[e].text===t.groupOrder?i.groupOrder[e].selected=!0:i.groupOrder[e].selected=!1;if(t.groupBy)for(let e=0;e<i.groupBy.length;e++)i.groupBy[e].text===t.groupBy?i.groupBy[e].selected=!0:i.groupBy[e].selected=!1;if(t.filters){let e={};for(let r=0;r<t.filters.length;r++)e[Object.keys(t.filters[r])[0]]=t.filters[r][Object.keys(t.filters[r])[0]];for(let r=0;r<i.filters.length;r++)for(let n=0;n<i.filters[r].filterOptions.length;n++)e[i.filters[r].text||""]&&e[i.filters[r].text||""].indexOf(i.filters[r].filterOptions[n].text||"")>-1?i.filters[r].filterOptions[n].selected=!0:i.filters[r].filterOptions[n].selected=!1}this._confirmedSettings=JSON.parse(JSON.stringify(i))}}};u([a({type:Boolean})],d.prototype,"sortDescending",void 0);u([a({type:Boolean})],d.prototype,"groupDescending",void 0);u([a({type:Boolean})],d.prototype,"open",void 0);u([a({type:Object})],d.prototype,"_recentlyFocused",void 0);u([a({type:Object})],d.prototype,"_currentSettings",void 0);u([a({type:Object})],d.prototype,"_initialSettings",void 0);u([a({type:Object})],d.prototype,"_confirmedSettings",void 0);u([a()],d.prototype,"_currentMode",void 0);u([a({type:Boolean,noAttribute:!0})],d.prototype,"_filterStepTwo",void 0);u([E()],d.prototype,"sortItems",void 0);u([E()],d.prototype,"filterItems",void 0);u([E()],d.prototype,"groupItems",void 0);u([N("[ui5-list]")],d.prototype,"_list",void 0);u([N("[ui5-dialog]")],d.prototype,"_dialog",void 0);u([N("[ui5-list][sort-order]")],d.prototype,"_sortOrder",void 0);u([N("[ui5-list][sort-by]")],d.prototype,"_sortBy",void 0);u([N("[ui5-list][group-order]")],d.prototype,"_groupOrder",void 0);u([N("[ui5-list][group-by]")],d.prototype,"_groupBy",void 0);u([nt("@ui5/webcomponents-fiori")],d,"i18nBundle",void 0);d=p=u([B({tag:"ui5-view-settings-dialog",renderer:ot,styles:Gt,template:it}),R("confirm",{bubbles:!0}),R("cancel",{bubbles:!0}),R("before-open",{cancelable:!0}),R("open",{bubbles:!0}),R("close",{bubbles:!0})],d);d.define();var Oe=["*"],Tr=(()=>{let t=class t{constructor(){this.sortDescending=h(!1,{transform:O}),this.groupDescending=h(!1,{transform:O}),this.open=h(!1,{transform:O}),this.ui5Confirm=j(),this.ui5Cancel=j(),this.ui5BeforeOpen=j(),this.ui5Open=j(),this.ui5Close=j(),this.slots=[{name:"sortItems",description:'Defines the list of items against which the user could sort data.\n\n**Note:** If you want to use this slot, you need to import used item: `import "@ui5/webcomponents-fiori/dist/SortItem.js";`'},{name:"filterItems",description:'Defines the `filterItems` list.\n\n**Note:** If you want to use this slot, you need to import used item: `import "@ui5/webcomponents-fiori/dist/FilterItem.js";`'},{name:"groupItems",description:'Defines the list of items against which the user could group data.\n\n**Note:** If you want to use this slot, you need to import used item: `import "@ui5/webcomponents-fiori/dist/GroupItem.js";`'}],this.elementRef=f(_),this.injector=f(m)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let e=this.element,r=["sortDescending","groupDescending","open"];for(let s of r){let l=s.replace(/-./g,w=>w[1].toUpperCase());this[l]&&typeof this[l]=="function"&&g(this.injector,()=>{x(()=>{let w=this[l]();e&&(e[s]=w)})})}let n=["ui5Confirm","ui5Cancel","ui5BeforeOpen","ui5Open","ui5Close"];for(let s of n){let l=s.replace("ui5","").replace(/([A-Z])/g,"-$1").toLowerCase().substring(1);this[s]&&typeof this[s].emit=="function"&&e.addEventListener&&e.addEventListener(l,w=>{this[s].emit(w)})}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=S({type:t,selectors:[["ui5-view-settings-dialog"],["","ui5-view-settings-dialog",""]],inputs:{sortDescending:[1,"sortDescending"],groupDescending:[1,"groupDescending"],open:[1,"open"]},outputs:{ui5Confirm:"ui5Confirm",ui5Cancel:"ui5Cancel",ui5BeforeOpen:"ui5BeforeOpen",ui5Open:"ui5Open",ui5Close:"ui5Close"},exportAs:["ui5ViewSettingsDialog"],ngContentSelectors:Oe,decls:1,vars:0,template:function(r,n){r&1&&(v(),y(0))},encapsulation:2,changeDetection:0});let o=t;return o})();export{Re as a,ze as b,ei as c,pi as d,Tr as e};
