import{a as y,d,g as f}from"./chunk-437H26L4.js";import{f as H}from"./chunk-ZTWSPYKD.js";import{a as $}from"./chunk-6NDQRSES.js";import{b as U}from"./chunk-YKYCSTBF.js";import{a as L,c as k}from"./chunk-L3X7YJDF.js";import{a as w}from"./chunk-TY3GVOZL.js";import{I as S,J as B,a as u,b as D,j as h,k as b}from"./chunk-J2ZYVFGE.js";import{S as E,T as C,Te as j,U as l,Ue as A,V as N,W as P,Y as s,Z as R,o as M,rg as F,sg as z,w as O,x as T}from"./chunk-SGTQD4DW.js";import{v as g}from"./chunk-XUL3DONQ.js";import{h as x,i as m}from"./chunk-66YHNWRR.js";function I(){return R($,{id:`${this._id}-menu-rp`,class:"ui5-menu-rp",placement:this.placement,verticalAlign:"Bottom",horizontalAlign:this.horizontalAlign,opener:this.opener,open:this.open,preventInitialFocus:!0,hideArrow:!0,allowTargetOverlap:!0,accessibleName:this.accessibleNameText,onBeforeOpen:this._beforePopoverOpen,onOpen:this._afterPopoverOpen,onBeforeClose:this._beforePopoverClose,onClose:this._afterPopoverClose,children:[this.isPhone&&s("div",{slot:"header",class:"ui5-menu-dialog-header",children:s("div",{class:"ui5-menu-dialog-title",children:s("h1",{children:this.headerText})})}),s("div",{id:`${this._id}-menu-main`,class:this.loading?"ui5-menu-busy-indicator-main":"",children:this.items.length?s(H,{id:`${this._id}- menu-list`,selectionMode:"None",loading:this.loading,loadingDelay:this.loadingDelay,separators:"None",accessibleRole:"Menu",onItemClick:this._itemClick,onMouseOver:this._itemMouseOver,onKeyDown:this._itemKeyDown,"onui5-close-menu":this._close,"onui5-exit-end-content":this._navigateOutOfEndContent,children:s("slot",{})}):this.loading&&s(L,{id:`${this._id}-menu-busy-indicator`,delay:this.loadingDelay,class:"ui5-menu-busy-indicator",active:!0})}),this.isPhone&&s("div",{slot:"footer",class:"ui5-menu-dialog-footer",children:s(k,{design:"Transparent",onClick:this._close,children:this.labelCancel})})]})}g("@ui5/webcomponents-theming","sap_horizon",()=>m(null,null,function*(){return F}));g("@ui5/webcomponents","sap_horizon",()=>m(null,null,function*(){return z}),"host");var K=`:host{line-height:initial}::slotted([ui5-menu-item]){line-height:inherit}.ui5-menu-rp[ui5-responsive-popover]::part(header),.ui5-menu-rp[ui5-responsive-popover]::part(content),.ui5-menu-rp[ui5-responsive-popover]::part(footer){padding:0}.ui5-menu-rp[ui5-responsive-popover]{box-shadow:var(--sapContent_Shadow1);border-radius:var(--_ui5_menu_popover_border_radius)}.ui5-menu-busy-indicator{width:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.ui5-menu-busy-indicator-main{min-height:var(--_ui5_list_item_base_height)}.ui5-menu-dialog-header{display:flex;height:var(--_ui5-responsive_popover_header_height);align-items:center;justify-content:space-between;padding:0px 1rem;width:100%;overflow:hidden}.ui5-menu-dialog-title{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:calc(100% - 6.5rem);padding-right:1rem;font-family:var(--sapFontHeaderFamily)}.ui5-menu-dialog-title>h1{display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:var(--sapFontHeader5Size)}.ui5-menu-back-button{margin-right:1rem}.ui5-menu-dialog-footer{display:flex;align-items:center;justify-content:flex-end;padding:0 1rem;width:100%;border-top:.0625rem solid var(--sapPageFooter_BorderColor)}
`;var a=function(v,e,t,o){var n=arguments.length,i=n<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,t):o,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(v,e,t,o);else for(var c=v.length-1;c>=0;c--)(p=v[c])&&(i=(n<3?p(i):n>3?p(e,t,i):p(e,t))||i);return n>3&&i&&Object.defineProperty(e,t,i),i},_,G=300,r=_=class q extends E{constructor(){super(...arguments),this.open=!1,this.placement="Bottom",this.horizontalAlign="Start",this.loading=!1,this.loadingDelay=1e3}get isRtl(){return this.effectiveDir==="rtl"}get labelCancel(){return _.i18nBundle.getText(j)}get isPhone(){return O()}get _popover(){return this.shadowRoot.querySelector("[ui5-responsive-popover]")}get _list(){return this.shadowRoot.querySelector("[ui5-list]")}get _menuItemGroups(){return this.items.filter(d)}get _menuItems(){return this.items.filter(f)}get _allMenuItems(){let e=[];return this.getSlottedNodes("items").forEach(o=>{d(o)?e.push(...o._menuItems):y(o)||e.push(o)}),e}get _navigatableMenuItems(){let e=[];return this.getSlottedNodes("items").forEach(o=>{if(d(o)){let n=o.getSlottedNodes("items");e.push(...n)}else y(o)||e.push(o)}),e}get accessibleNameText(){return _.i18nBundle.getText(A)}onBeforeRendering(){let e=this._allMenuItems.some(t=>!!t.icon);this._setupItemNavigation(),this._allMenuItems.forEach(t=>{t._siblingsWithIcon=e})}getFocusDomRef(){return this._list?.getFocusDomRef()}_setupItemNavigation(){this._list&&(this._list._itemNavigation._getItems=()=>this._navigatableMenuItems)}_close(){this.open=!1}_openItemSubMenu(e){clearTimeout(this._timeout),!(!e._popover||e._popover.open)&&(this.fireDecoratorEvent("before-open",{item:e}),e._popover.opener=e,e._popover.open=!0,e.selected=!0)}_itemMouseOver(e){if(!T())return;let t=e.target;f(t)&&(t.focus(),this._startOpenTimeout(t))}focus(e){return m(this,null,function*(){yield M();let t=this._allMenuItems[0];return t?t.focus(e):x(q.prototype,this,"focus").call(this,e)})}_closeOtherSubMenus(e){let t=this._allMenuItems;t.includes(e)&&t.forEach(o=>{o!==e&&o._close()})}_startOpenTimeout(e){clearTimeout(this._timeout),this._timeout=setTimeout(()=>{this._closeOtherSubMenus(e),this._openItemSubMenu(e)},G)}_itemClick(e){let t=e.detail.item;t._popover?this._openItemSubMenu(t):!this.fireDecoratorEvent("item-click",{item:t,text:t.text||""})||(t._updateCheckedState(),this._popover&&!t._shiftPressed&&t.fireDecoratorEvent("close-menu"))}_itemKeyDown(e){let t=S(e)||B(e),o=e.target;if(!f(o))return;let n=b(e)||h(e),i=this.isRtl?h(e):b(e);(D(e)||t)&&e.preventDefault(),n&&o._navigateToEndContent(h(e)),i?this._openItemSubMenu(o):t&&this._close()}_navigateOutOfEndContent(e){let t=e.target,o=e.detail.shouldNavigateToNextItem,n=this._allMenuItems,i=n.indexOf(t);i>-1&&(((o?n[i+1]:n[i-1])||n[i])?.focus(),e.stopPropagation())}_beforePopoverOpen(e){!this.fireDecoratorEvent("before-open",{})&&(this.open=!1,e.preventDefault())}_afterPopoverOpen(){this._allMenuItems[0]?.focus(),this.fireDecoratorEvent("open")}_beforePopoverClose(e){!this.fireDecoratorEvent("before-close",{escPressed:e.detail.escPressed})&&(this.open=!0,e.preventDefault())}_afterPopoverClose(){this.open=!1,this.fireDecoratorEvent("close")}};a([l()],r.prototype,"headerText",void 0);a([l({type:Boolean})],r.prototype,"open",void 0);a([l()],r.prototype,"placement",void 0);a([l()],r.prototype,"horizontalAlign",void 0);a([l({type:Boolean})],r.prototype,"loading",void 0);a([l({type:Number})],r.prototype,"loadingDelay",void 0);a([l({converter:U})],r.prototype,"opener",void 0);a([w({default:!0,type:HTMLElement,invalidateOnChildChange:!0})],r.prototype,"items",void 0);a([N("@ui5/webcomponents")],r,"i18nBundle",void 0);r=_=a([C({tag:"ui5-menu",renderer:P,styles:K,template:I}),u("item-click",{cancelable:!0}),u("before-open",{bubbles:!0,cancelable:!0}),u("open",{bubbles:!0}),u("close-menu",{bubbles:!0}),u("before-close",{bubbles:!0,cancelable:!0}),u("close")],r);r.define();var xe=r;export{K as a,xe as b};
