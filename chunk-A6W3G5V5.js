import{b as Z}from"./chunk-FIJV62AA.js";import{b as Q,c as X,d as P}from"./chunk-ZOGTV6VS.js";import{a as j,b as W,d as K,g as Y,i as J}from"./chunk-H3LZDFYJ.js";import{a as k,e as h}from"./chunk-ITVZFVC4.js";import{o as U}from"./chunk-4QAZD5WM.js";import{a as G}from"./chunk-M5IJBHUB.js";import{a as b,b as $}from"./chunk-UVZX3D2Q.js";import{a as D}from"./chunk-TTMPLTRH.js";import{c as y}from"./chunk-L3X7YJDF.js";import{b as f}from"./chunk-2HPGV2CB.js";import{Ab as B,Bb as O,Jb as z,Kd as L,L as M,Ld as H,T as E,U as p,X as I,Y as o,Z as _,o as S,rg as V,sg as w,w as x,xb as F,yb as A,yd as R,zb as q,zd as N}from"./chunk-SGTQD4DW.js";import{v as m}from"./chunk-XUL3DONQ.js";import{a as g,b as T,i as s}from"./chunk-66YHNWRR.js";var oe="date-time",ee="M352 192q33 0 62 12.5t51 34.5 34.5 51 12.5 62-12.5 62-34.5 51-51 34.5-62 12.5-62-12.5-51-34.5-34.5-51-12.5-62 12.5-62 34.5-51 51-34.5 62-12.5zM32 32h64V0h32v32h192V0h32v32h64q14 0 23 9t9 23v96h-32v-32H32v352h128v32H32q-14 0-23-9t-9-23V64q0-14 9-23t23-9zm192 320q0 27 10 50t27.5 40.5T302 470t50 10 50-10 40.5-27.5T470 402t10-50-10-50-27.5-40.5T402 234t-50-10-50 10-40.5 27.5T234 302t-10 50zm127-64q16 0 16 16v48h49q16 0 16 16 0 6-4.5 11t-11.5 5h-65q-7 0-11.5-5t-4.5-11v-64q0-16 16-16zm1-192V64h-32v32h32zM96 64v32h32V64H96z",te=!0;var ne="SAP-icons-v4",se="@ui5/webcomponents-icons";f(oe,{pathData:ee,ltr:te,collection:ne,packageName:se});var le="date-time",ie="M83 243v147q0 17 11 28t28 11h4q11 0 18.5 7t7.5 18-7.5 18.5T126 480h-4q-38 0-64-26t-26-64V154q0-38 26-64t64-26h6V26q0-11 7.5-18.5T154 0t18 7.5 7 18.5v38h122V26q0-11 7-18.5T326 0t18.5 7.5T352 26v38h6q38 0 64 26t26 64v4q0 11-7.5 18.5T422 184t-18-7.5-7-18.5v-4q0-17-11-28t-28-11h-6v19q0 11-7.5 18.5T326 160t-18-7.5-7-18.5v-19H179v19q0 11-7 18.5t-18 7.5-18.5-7.5T128 134v-19h-6q-17 0-28 11t-11 28v38h51q11 0 18.5 7.5T160 218t-7.5 18-18.5 7H83zm237-51q33 0 62 12.5t51 34.5 34.5 51 12.5 62-12.5 62-34.5 51-51 34.5-62 12.5-62-12.5-51-34.5-34.5-51-12.5-62 12.5-62 34.5-51 51-34.5 62-12.5zm0 269q23 0 42.5-8.5T397 429t23.5-35 8.5-42q0-23-8.5-42.5T397 275t-34.5-23.5T320 243q-22 0-42 8.5T243 275t-23.5 34.5T211 352q0 22 8.5 42t23.5 35 35 23.5 42 8.5zm55-90q9 7 9 19 0 11-7.5 18.5T358 416q-8 0-16-6l-45-39q-9-8-9-19v-46q0-11 7.5-18.5T314 280t18 7.5 7 18.5v34z",he=!0;var de="SAP-icons-v5",ce="@ui5/webcomponents-icons";f(le,{pathData:ie,ltr:he,collection:de,packageName:ce});function C(){return[Q.call(this),X.call(this,{content:me,footer:ue,initialFocus:this.initialFocusId})]}function me(){return _(I,{children:[this._phoneView&&o("div",{class:"ui5-dt-picker-header",children:_($,{class:"ui5-dt-picker-toggle-button",onSelectionChange:this._dateTimeSwitchChange,children:[o(b,{"data-ui5-key":"Date",selected:this.showDateView,children:this.btnDateLabel}),o(b,{"data-ui5-key":"Time",selected:this.showTimeView,children:this.btnTimeLabel})]})}),_("div",{class:{"ui5-dt-picker-content":!0,"ui5-dt-picker-content--phone":this._phoneView},children:[o(J,{class:{"ui5-dt-cal":!0,"ui5-dt-cal--hidden":this._phoneView&&this.showTimeView,"ui5-dt-time--hidden":this._phoneView&&this.showDateView},id:`${this._id}-calendar`,primaryCalendarType:this._primaryCalendarType,secondaryCalendarType:this.secondaryCalendarType,formatPattern:this._formatPattern,selectionMode:this._calendarSelectionMode,minDate:this.minDate,maxDate:this.maxDate,calendarWeekNumbering:this.calendarWeekNumbering,onSelectionChange:this.onSelectedDatesChange,onShowMonthView:this.onHeaderShowMonthPress,onShowYearView:this.onHeaderShowYearPress,hideWeekNumbers:this.hideWeekNumbers,_currentPicker:this._calendarCurrentPicker,children:this._calendarSelectedDates.map(d=>o(W,{value:d}))}),!this._phoneView&&o("span",{class:"ui5-dt-picker-separator"}),this.showTimeView&&o(Z,{id:`${this._id}-time-sel`,class:{"ui5-dt-time":!0,"ui5-dt-cal--hidden":this._phoneView&&this.showTimeView,"ui5-dt-time--hidden":this._phoneView&&this.showDateView},formatPattern:this._formatPattern,value:this._timeSelectionValue,onChange:this.onTimeSelectionChange,_calendarType:this._primaryCalendarType})]})]})}function ue(){return _("div",{slot:"footer",class:{"ui5-dt-picker-footer":!0,"ui5-dt-picker-footer-time-hidden":this._phoneView&&this.showTimeView||this._phoneView&&this.showDateView},children:[o(y,{id:"ok",class:"ui5-dt-picker-action",design:"Emphasized",disabled:this._submitDisabled,onClick:this._submitClick,children:this.btnOKLabel}),o(y,{id:"cancel",class:"ui5-dt-picker-action",design:"Transparent",onClick:this._cancelClick,children:this.btnCancelLabel})]})}m("@ui5/webcomponents-theming","sap_horizon",()=>s(null,null,function*(){return V}));m("@ui5/webcomponents","sap_horizon",()=>s(null,null,function*(){return w}),"host");var ae=`:host{min-width:15rem;color:var(--sapField_TextColor);background-color:var(--sapField_Background)}:host .ui5-date-picker-input{min-width:inherit;color:inherit;background-color:inherit}
`;m("@ui5/webcomponents-theming","sap_horizon",()=>s(null,null,function*(){return V}));m("@ui5/webcomponents","sap_horizon",()=>s(null,null,function*(){return w}),"host");var re=`:host .ui5-date-picker-popover{width:auto}:host .ui5-date-picker-popover:not([on-phone]) .ui5-popover-header{width:20rem}.ui5-dt-picker-content{display:flex;flex-direction:row;height:var(--_ui5_datetime_picker_height);min-width:var(--_ui5_datetime_picker_width);box-sizing:border-box;justify-content:center}.ui5-dt-picker-toggle-button{width:8rem}.ui5-dt-cal{width:auto;box-sizing:border-box}.ui5-dt-time{width:100%;min-width:var(--_ui5_datetime_timeview_width);box-sizing:border-box}.ui5-dt-cal.ui5-dt-cal--hidden,.ui5-dt-time.ui5-dt-time--hidden{display:none}.ui5-dt-picker-header{display:flex;justify-content:center;width:100%;margin-top:1rem;box-sizing:border-box}.ui5-dt-picker-separator{height:calc(100% - 2rem);width:0px;margin-top:1rem;margin-bottom:1rem;border-left:1px solid var(--sapGroup_ContentBorderColor);box-sizing:border-box}.ui5-dt-picker-footer{display:flex;justify-content:flex-end;align-items:center;height:2.75rem;width:100%}.ui5-dt-picker-footer.ui5-dt-picker-footer-time-hidden{padding:0}.ui5-dt-picker-action{margin:.25rem}#ok.ui5-dt-picker-action{width:4rem}.ui5-dt-picker-content--phone.ui5-dt-picker-content{min-width:20rem;height:calc(100% - 4rem)}.ui5-dt-picker-content--phone.ui5-dt-picker-content [ui5-time-selection-clocks]{height:var(--_ui5_datetime_timeview_phonemode_clocks_width);width:auto}.ui5-dt-picker-content--phone.ui5-dt-picker-content [ui5-calendar]{margin-bottom:var(--_ui5_datetime_dateview_phonemode_margin_bottom)}.ui5-dt-picker-content--phone .ui5-dt-cal{width:100%}.ui5-dt-picker-content--phone .ui5-dt-time{min-width:var(--_ui5_datetime_timeview_phonemode_width)}
`;var u=function(d,e,t,r){var n=arguments.length,i=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(d,e,t,r);else for(var v=d.length-1;v>=0;v--)(c=d[v])&&(i=(n<3?c(i):n>3?c(e,t,i):c(e,t))||i);return n>3&&i&&Object.defineProperty(e,t,i),i},a,pe=640,l=a=class extends P{constructor(){super(),this._showTimeView=!1,this._phoneMode=!1,this._previewValues={},this._lastValidValue="",this._handleResizeBound=this._handleResize.bind(this)}onResponsivePopoverAfterClose(){super.onResponsivePopoverAfterClose(),this._showTimeView=!1,this._previewValues={}}onEnterDOM(){D.register(document.body,this._handleResizeBound)}onExitDOM(){D.deregister(document.body,this._handleResizeBound)}_togglePicker(){if(super._togglePicker(),this.open){let e=this.value;(!e||!this.isValidValue(e))&&(e=this._lastValidValue||this.getValueFormat().format(k.getInstance())),this._previewValues=T(g({},this._previewValues),{timeSelectionValue:e})}}get formValidityMessage(){let e=this.formValidity;return e.valueMissing?a.i18nBundle.getText(A,this.getFormat().oFormatOptions.pattern):e.patternMismatch?a.i18nBundle.getText(q,this.getFormat().oFormatOptions.pattern):e.rangeUnderflow?a.i18nBundle.getText(O,this.minDate):e.rangeOverflow?a.i18nBundle.getText(B,this.maxDate):""}get formValidity(){return{valueMissing:this.required&&!this.value,patternMismatch:!this.isValidValue(this.value),rangeUnderflow:!this.isValidMin(this.value),rangeOverflow:!this.isValidMax(this.value)}}get _formatPattern(){let e=this.formatPattern||this.valueFormat||"medium",t=!!(e||"").match(/H/i),r=!e||!t,n=U(M());return r?n.getCombinedDateTimePattern("medium","medium",this._primaryCalendarType):e||""}get _calendarTimestamp(){return this._previewValues.calendarTimestamp?this._previewValues.calendarTimestamp:super._calendarTimestamp}get _calendarSelectedDates(){return this._previewValues.calendarValue?[this._previewValues.calendarValue]:super._calendarSelectedDates}get _timeSelectionValue(){return this._previewValues.timeSelectionValue?this._previewValues.timeSelectionValue:this.value}get openIconName(){return"date-time"}get btnOKLabel(){return a.i18nBundle.getText(R)}get btnCancelLabel(){return a.i18nBundle.getText(N)}get btnDateLabel(){return a.i18nBundle.getText(L)}get btnTimeLabel(){return a.i18nBundle.getText(H)}get showFooter(){return!0}get showDateView(){return this._phoneView?!this._showTimeView:!0}get showTimeView(){return this._phoneView?this._showTimeView:!0}get _phoneView(){return x()||this._phoneMode}get roleDescription(){return a.i18nBundle.getText(F)}get pickerAccessibleName(){return a.i18nBundle.getText(z,this.ariaLabelText)}get _shouldHideHeader(){return!1}onSelectedDatesChange(e){return s(this,null,function*(){e.preventDefault();let t=this._clocks?.value||"";(!t||!this.isValidValue(t))&&(t=this._lastValidValue||this.getValueFormat().format(k.getInstance())),this._previewValues=T(g({},this._previewValues),{calendarTimestamp:e.detail.timestamp,calendarValue:e.detail.selectedValues[0],timeSelectionValue:t}),this._showTimeView=!0,!this.showDateView&&(yield S(),this._clocks.focus())})}onTimeSelectionChange(e){this._previewValues=T(g({},this._previewValues),{timeSelectionValue:e.detail.value})}_handleResize(){let t=document.body.offsetWidth<=pe;(t&&!this._phoneMode||!t&&this._phoneMode)&&(this._phoneMode=t)}get _submitDisabled(){return!this._calendarSelectedDates||!this._calendarSelectedDates.length}_submitClick(){let e=this.getSelectedDateTime(),t=this.getValueFormat().format(e);this.value!==t&&this._updateValueAndFireEvents(t,!0,["change","value-changed"]),this._togglePicker()}_cancelClick(){this._togglePicker()}_dateTimeSwitchChange(e){let t=e.detail.selectedItems[0];this._showTimeView=t.getAttribute("data-ui5-key")==="Time"}_modifyDateValue(e,t,r){if(!this.dateValue)return;let i=K(j.fromLocalJSDate(this.dateValue),e,t,r,this._minDate,this._maxDate).toLocalJSDate();i.setHours(this.dateValue.getHours()),i.setMinutes(this.dateValue.getMinutes()),i.setSeconds(this.dateValue.getSeconds());let c=this.formatValue(i);this._updateValueAndFireEvents(c,!0,["change","value-changed"])}_updateValueAndFireEvents(e,t,r,n=!0){super._updateValueAndFireEvents(e,t,r,n),this.value&&this.isValidValue(this.value)&&(this._lastValidValue=this.value)}_checkValueValidity(e){return e===""?!0:this.isValidValue(e)}getSelectedDateTime(){let e=this.getValueFormat().parse(this._calendarSelectedDates[0]),t=this.getValueFormat().parse(this._timeSelectionValue);return t&&(e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds())),e}getFormat(){return this._isPattern?h.getDateTimeInstance({strictParsing:!0,pattern:this._formatPattern,calendarType:this._primaryCalendarType}):h.getDateTimeInstance({strictParsing:!0,style:this._formatPattern,calendarType:this._primaryCalendarType})}getDisplayFormat(){return this._isDisplayFormatPattern?h.getDateTimeInstance({strictParsing:!0,pattern:this._displayFormat,calendarType:this._primaryCalendarType}):h.getDateTimeInstance({strictParsing:!0,style:this._displayFormat,calendarType:this._primaryCalendarType})}getValueFormat(){return this._valueFormat?this._isValueFormatPattern?h.getDateTimeInstance({strictParsing:!0,pattern:this._valueFormat,calendarType:this._primaryCalendarType}):h.getDateTimeInstance({strictParsing:!0,style:this._valueFormat,calendarType:this._primaryCalendarType}):this.getISOFormat()}getISOFormat(){return this._isoFormatInstance||(this._isoFormatInstance=h.getDateTimeInstance({strictParsing:!0,pattern:"YYYY-MM-dd hh:mm:ss",calendarType:this._primaryCalendarType})),this._isoFormatInstance}get _calendarPickersMode(){return Y.DAY_MONTH_YEAR}};u([p({type:Boolean,noAttribute:!0})],l.prototype,"_showTimeView",void 0);u([p({type:Boolean})],l.prototype,"_phoneMode",void 0);u([p({type:Object})],l.prototype,"_previewValues",void 0);u([p()],l.prototype,"_lastValidValue",void 0);u([G("[ui5-time-selection-clocks]")],l.prototype,"_clocks",void 0);l=a=u([E({tag:"ui5-datetime-picker",template:C,styles:[P.styles,ae,re]})],l);l.define();var mt=l;export{mt as a};
