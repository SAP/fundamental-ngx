<div #popoverContainer>
    <div class="fd-popover__control"
         [attr.aria-expanded]="this.disabled ? false : isOpen"
         [attr.aria-disabled]="this.disabled"
         aria-haspopup="true"
         [fdPopover]="popoverBody"
         [(isOpen)]="isOpen"
         (isOpenChange)="openChanged($event)"
         [noArrow]="noArrow"
         [disabled]="disabled"
         [triggers]="triggers"
         [placement]="placement"
         [focusTrapped]="focusTrapped"
         [options]="options"
         [fillControlMode]="fillControlMode"
         [closeOnOutsideClick]="closeOnOutsideClick"
         [closeOnEscapeKey]="closeOnEscapeKey"
         [appendTo]="(appendTo ? appendTo : popoverContainer)">
        <ng-content select="fd-popover-control"></ng-content>
        <ng-content select="fd-dropdown-control"></ng-content>
    </div>
    <ng-template #popoverBody>
        <ng-container *ngTemplateOutlet="popoverBodyTpl"></ng-container>
    </ng-template>
</div>

<ng-template #popoverBodyTpl>
    <div [attr.aria-hidden]="disabled ? true : !isOpen">
        <ng-content select="fd-popover-body"></ng-content>
    </div>
</ng-template>
