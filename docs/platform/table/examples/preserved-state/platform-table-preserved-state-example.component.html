<p>Toggle button destroys the table completely if it exists, and restores it's state when newly created.</p>
<button fd-button (click)="toggleTable()">Toggle table</button>

<ng-container *ngIf="displayTable">
    <fdp-table
        #table
        [dataSource]="source"
        [initialVisibleColumns]="columns"
        [initialSortBy]="sortBy"
        [initialFilterBy]="initialFilterBy"
        [initialPage]="page"
        [pageScrolling]="true"
        [pageSize]="4"
        [loadPagesBefore]="true"
        bodyHeight="10rem"
        [isTreeTable]="true"
        relationKey="children"
        expandedStateKey="expanded"
        dropMode="group"
        (columnsChange)="columnChangeCallback($event)"
        (filterChange)="filtersChangeCallback($event)"
        (sortChange)="sortingChangeCallback($event)"
        (rowToggleOpenState)="rowToggleCallback($event)"
        (pageChange)="pageChangeCallback($event)"
        (tableScrolled)="setTableOffset($event)"
        (rowsRearrange)="onRowsRearrange($event)"
    >
        <fdp-table-toolbar title="Order Items"></fdp-table-toolbar>

        <fdp-column name="name" key="name" label="Name" [sortable]="true" [groupable]="true" [filterable]="true">
        </fdp-column>

        <fdp-column name="description" key="description" label="Description" [sortable]="true" [filterable]="true">
        </fdp-column>

        <fdp-column name="price" key="price.value" label="Price" [sortable]="true" [filterable]="true"> </fdp-column>

        <fdp-column name="verified" key="verified" label="Verified"> </fdp-column>

        <fdp-column name="status" key="status" label="Status" [sortable]="true" [filterable]="true"> </fdp-column>
    </fdp-table>

    <fdp-table-p13-dialog [table]="table"></fdp-table-p13-dialog>
</ng-container>
