import{a as F}from"./chunk-KM2RUOO3.js";import{a as T,b as Q}from"./chunk-LZMTHAHL.js";import{a as D}from"./chunk-EO4HHM65.js";import{a as X}from"./chunk-5GYOQ6VS.js";import{a as v}from"./chunk-BVP7EKC4.js";import{a as J}from"./chunk-KD5KWNLC.js";import{a as q,d as K,e as Y,f as V,g as $}from"./chunk-LCSX3PG6.js";import{a as H}from"./chunk-HDINBTBQ.js";import{H as U,J as W,a as m,b as j}from"./chunk-J2ZYVFGE.js";import{P as C,Q as A,R as p,T as N,U as G,V as c,W as w,X as h,Y as f,b as S,o as R,t as M,w as I,x as P}from"./chunk-MRD324L5.js";import{c as L,m as z,n as B,w as u}from"./chunk-EIBM65BX.js";import{i}from"./chunk-66YHNWRR.js";var E=()=>{let t=X();return t&&typeof t.focus=="function"?t:null},Z=t=>{let e=E();return e?ee(t,e):!1},ee=(t,e)=>{let o=t;if(o.shadowRoot&&(o=Array.from(o.shadowRoot.children).find(a=>a.localName!=="style"),!o))return!1;if(o===e)return!0;let n=o.localName==="slot"?o.assignedNodes():o.children;return n?Array.from(n).some(a=>ee(a,e)):!1},ue=(t,e,o)=>t>=o.left&&t<=o.right&&e>=o.top&&e<=o.bottom,Re=(t,e)=>{let o,n;if(t instanceof MouseEvent)o=t.clientX,n=t.clientY;else{let a=t.touches[0];o=a.clientX,n=a.clientY}return ue(o,n,e)};function le(t){return"isUI5Element"in t&&"_show"in t}var de=t=>{let e=t.parentElement||t.getRootNode&&t.getRootNode().host;return e&&(le(e)||e===document.documentElement)?e:de(e)};function O(){return c("div",{class:"ui5-block-layer",onKeyDown:this._preventBlockLayerFocus,onMouseDown:this._preventBlockLayerFocus})}function k(t){return w(G,{children:[O.call(this),w("section",{"root-element":!0,style:this.styles.root,class:this.classes.root,role:this._role,"aria-describedby":this.ariaDescribedByIds,"aria-modal":this._ariaModal,"aria-label":this._ariaLabel,"aria-labelledby":this._ariaLabelledBy,onKeyDown:this._onkeydown,onFocusOut:this._onfocusout,onMouseUp:this._onmouseup,onMouseDown:this._onmousedown,children:[c("span",{class:"first-fe","data-ui5-focus-trap":!0,role:"none",tabIndex:0,onFocusIn:this.forwardToLast}),(t?.beforeContent||ce).call(this),c("div",{style:this.styles.content,class:this.classes.content,onScroll:this._scroll,part:"content",children:c("slot",{})}),this.ariaDescriptionText&&c("span",{id:"accessibleDescription",class:"ui5-hidden-text",children:this.ariaDescriptionText}),(t?.afterContent||he).call(this),c("span",{class:"last-fe","data-ui5-focus-trap":!0,role:"none",tabIndex:0,onFocusIn:this.forwardToFirst})]})]})}function ce(){}function he(){}var fe="handledByControl",me=(t,e=fe)=>!!t[`_sapui_${e}`],te=me;var l=L("OpenedPopupsRegistry",{openedRegistry:[]}),b=S("OpenUI5Support");function _e(t){b?.addOpenedPopup(t)}function ge(t){b?.removeOpenedPopup(t)}var oe=(t,e=[])=>{l.openedRegistry.some(o=>o.instance===t)||(l.openedRegistry.push({instance:t,parentPopovers:e}),_e({type:"WebComponent",instance:t})),se(),l.openedRegistry.length===1&&ve()},ie=t=>{l.openedRegistry=l.openedRegistry.filter(e=>e.instance!==t),ge(t),se(),l.openedRegistry.length||be()},Se=()=>[...l.openedRegistry],re=t=>{if(l.openedRegistry.length&&U(t)&&!te(t)){let e=l.openedRegistry[l.openedRegistry.length-1].instance;if(b&&e!==b.getTopmostPopup())return;t.stopImmediatePropagation(),e.closePopup(!0)}},ve=()=>{document.addEventListener("keydown",re)},be=()=>{document.removeEventListener("keydown",re)},se=()=>{let t,e=!1;for(let o=l.openedRegistry.length-1;o>=0;o--)t=l.openedRegistry[o].instance,!e&&t.isModal?(t.isTopModalPopup=!0,e=!0):t.isTopModalPopup=!1};u("@ui5/webcomponents-theming","sap_horizon",()=>i(null,null,function*(){return h}));u("@ui5/webcomponents","sap_horizon",()=>i(null,null,function*(){return f}));var ne=`:host{min-width:1px;overflow:visible;border:none;inset:unset;margin:0;padding:0}:host(:focus-visible){outline:none}
`;u("@ui5/webcomponents-theming","sap_horizon",()=>i(null,null,function*(){return h}));u("@ui5/webcomponents","sap_horizon",()=>i(null,null,function*(){return f}));var pe=`.ui5-block-layer{position:fixed;z-index:-1;display:none;inset:-500px;outline:none;pointer-events:all}
`;u("@ui5/webcomponents-theming","sap_horizon",()=>i(null,null,function*(){return h}));u("@ui5/webcomponents","sap_horizon",()=>i(null,null,function*(){return f}));var ae=`.ui5-popup-scroll-blocker{overflow:hidden}
`;var s=function(t,e,o,n){var a=arguments.length,d=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,o):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(t,e,o,n);else for(var x=t.length-1;x>=0;x--)(g=t[x])&&(d=(a<3?g(d):a>3?g(e,o,d):g(e,o))||d);return a>3&&d&&Object.defineProperty(e,o,d),d},_,ye=()=>{B("data-ui5-popup-scroll-blocker")||z(ae,"data-ui5-popup-scroll-blocker")};ye();var y=new Set,r=_=class extends C{constructor(){super(),this.preventFocusRestore=!1,this.accessibleRole="Dialog",this.preventInitialFocus=!1,this.isTopModalPopup=!1,this.onPhone=!1,this.onDesktop=!1,this._opened=!1,this._open=!1,this._resizeHandlerRegistered=!1,this._resizeHandler=this._resize.bind(this),this._getRealDomRef=()=>this.shadowRoot.querySelector("[root-element]")}onBeforeRendering(){this.onPhone=I(),this.onDesktop=P()}onAfterRendering(){R().then(()=>{this._updateMediaRange()}),this.open?this._registerResizeHandler():this._deregisterResizeHandler()}onEnterDOM(){this.setAttribute("popover","manual"),P()&&this.setAttribute("desktop",""),this.tabIndex=-1,this.handleOpenOnEnterDOM(),this.setAttribute("data-sap-ui-fastnavgroup-container","true"),K(this,this._updateAssociatedLabelsTexts.bind(this))}handleOpenOnEnterDOM(){this.open&&(this.showPopover(),this.openPopup())}onExitDOM(){this._opened&&(_.unblockPageScrolling(this),this._removeOpenedPopup()),v.deregister(this,this._resizeHandler),Y(this)}set open(e){this._open!==e&&(this._open=e,e?this.openPopup():this.closePopup())}get open(){return this._open}openPopup(){return i(this,null,function*(){if(this._opened)return;if(!this.fireDecoratorEvent("before-open")){this.open=!1;return}this.isModal&&_.blockPageScrolling(this),this._focusedElementBeforeOpen=E(),this._show(),this._opened=!0,this.getDomRef()&&this._updateMediaRange(),this._addOpenedPopup(),this.open=!0,yield this.applyInitialFocus(),yield R(),this.isConnected&&this.fireDecoratorEvent("open")})}_resize(){this._updateMediaRange()}_preventBlockLayerFocus(e){e.preventDefault()}static blockPageScrolling(e){y.add(e),y.size===1&&document.documentElement.classList.add("ui5-popup-scroll-blocker")}static unblockPageScrolling(e){y.delete(e),y.size===0&&document.documentElement.classList.remove("ui5-popup-scroll-blocker")}_scroll(e){this.fireDecoratorEvent("scroll",{scrollTop:e.target.scrollTop,targetRef:e.target})}_onkeydown(e){let o=e.target===this._root&&W(e),n=j(e)&&!this.open;(o||n)&&e.preventDefault()}_onfocusout(e){e.relatedTarget||(this._shouldFocusRoot=!0)}_onmousedown(e){this.shadowRoot.contains(e.target)?this._shouldFocusRoot=!0:this._shouldFocusRoot=!1}_onmouseup(){this._shouldFocusRoot&&(M()&&this._root.focus(),this._shouldFocusRoot=!1)}forwardToFirst(){return i(this,null,function*(){let e=yield T(this);e?e.focus():this._root.focus()})}forwardToLast(){return i(this,null,function*(){let e=yield Q(this);e?e.focus():this._root.focus()})}applyInitialFocus(){return i(this,null,function*(){this.preventInitialFocus||(yield this.applyFocus())})}applyFocus(){return i(this,null,function*(){if(this.querySelector("[autofocus]")||(yield this._waitForDomRef(),this.getRootNode()===this))return;let e;this.initialFocus&&(e=this.getRootNode().getElementById(this.initialFocus)||document.getElementById(this.initialFocus)),e=e||(yield T(this))||this._root,e&&(e===this._root&&(e.tabIndex=-1),e.focus())})}isFocusWithin(){return Z(this._root)}_updateMediaRange(){this.mediaRange=F.getCurrentRange(F.RANGESETS.RANGE_4STEPS,this.getDomRef().offsetWidth)}_updateAssociatedLabelsTexts(){this._associatedDescriptionRefTexts=$(this)}_addOpenedPopup(){oe(this)}closePopup(e=!1,o=!1,n=!1){if(!this._opened)return;if(!this.fireDecoratorEvent("before-close",{escPressed:e})){this.open=!0;return}this._opened=!1,this.isModal&&_.unblockPageScrolling(this),this.hide(),this.open=!1,o||this._removeOpenedPopup(),!this.preventFocusRestore&&!n&&this.resetFocus(),this.fireDecoratorEvent("close")}_removeOpenedPopup(){ie(this)}resetFocus(){this._focusedElementBeforeOpen?.focus(),this._focusedElementBeforeOpen=null}_show(){this.isConnected&&(this.setAttribute("popover","manual"),this.showPopover())}_registerResizeHandler(){this._resizeHandlerRegistered||(v.register(this,this._resizeHandler),this._resizeHandlerRegistered=!0)}_deregisterResizeHandler(){this._resizeHandlerRegistered&&(v.deregister(this,this._resizeHandler),this._resizeHandlerRegistered=!1)}hide(){this.isConnected&&this.hidePopover()}get _ariaLabel(){return q(this)}get _accInfoAriaDescription(){return this.ariaDescriptionText||""}get ariaDescriptionText(){return this._associatedDescriptionRefTexts||V(this)}get ariaDescriptionTextId(){return this.ariaDescriptionText?"accessibleDescription":""}get ariaDescribedByIds(){return[this.ariaDescriptionTextId].filter(Boolean).join(" ")}get _root(){return this.shadowRoot.querySelector(".ui5-popup-root")}get _role(){return this.accessibleRole===D.None?void 0:J(this.accessibleRole)}get _ariaModal(){return this.accessibleRole===D.None?void 0:"true"}get contentDOM(){return this.shadowRoot.querySelector(".ui5-popup-content")}get styles(){return{root:{},content:{}}}get classes(){return{root:{"ui5-popup-root":!0},content:{"ui5-popup-content":!0}}}};s([p()],r.prototype,"initialFocus",void 0);s([p({type:Boolean})],r.prototype,"preventFocusRestore",void 0);s([p()],r.prototype,"accessibleName",void 0);s([p()],r.prototype,"accessibleNameRef",void 0);s([p()],r.prototype,"accessibleRole",void 0);s([p()],r.prototype,"accessibleDescription",void 0);s([p()],r.prototype,"accessibleDescriptionRef",void 0);s([p({noAttribute:!0})],r.prototype,"_associatedDescriptionRefTexts",void 0);s([p()],r.prototype,"mediaRange",void 0);s([p({type:Boolean})],r.prototype,"preventInitialFocus",void 0);s([p({type:Boolean,noAttribute:!0})],r.prototype,"isTopModalPopup",void 0);s([H({type:HTMLElement,default:!0})],r.prototype,"content",void 0);s([p({type:Boolean})],r.prototype,"onPhone",void 0);s([p({type:Boolean})],r.prototype,"onDesktop",void 0);s([p({type:Boolean})],r.prototype,"open",null);r=_=s([A({renderer:N,styles:[ne,pe],template:k}),m("before-open",{cancelable:!0}),m("open"),m("before-close",{cancelable:!0}),m("close"),m("scroll",{bubbles:!0})],r);var yt=r;u("@ui5/webcomponents-theming","sap_horizon",()=>i(null,null,function*(){return h}));u("@ui5/webcomponents","sap_horizon",()=>i(null,null,function*(){return f}));var Tt=`.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}:host{position:fixed;background:var(--sapGroup_ContentBackground);border-radius:var(--_ui5-v2-18-0_popup_border_radius);min-height:2rem;box-sizing:border-box}:host([open]){display:flex}.ui5-popup-root{background:inherit;border-radius:inherit;width:100%;box-sizing:border-box;display:flex;flex-direction:column;overflow:hidden;flex:1 1 auto;outline:none}.ui5-popup-root .ui5-popup-header-root{box-shadow:var(--_ui5-v2-18-0_popup_header_shadow);border-bottom:var(--_ui5-v2-18-0_popup_header_border)}.ui5-popup-content{color:var(--sapTextColor);flex:auto}.ui5-popup-content:focus{outline:var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);outline-offset:calc(-1 * var(--sapContent_FocusWidth));border-radius:var(--_ui5-v2-18-0_popup_border_radius)}.ui5-popup-footer-root{background:var(--sapPageFooter_Background);border-top:1px solid var(--sapPageFooter_BorderColor);color:var(--sapPageFooter_TextColor)}.ui5-popup-header-root,.ui5-popup-footer-root,:host([header-text]) .ui5-popup-header-text{margin:0;display:flex;justify-content:center;align-items:center}.ui5-popup-header-root .ui5-popup-header-text{font-weight:var(--sapFontHeaderFamily);font-size:var(--sapFontHeader5Size);color:var(--sapPageHeader_TextColor)}.ui5-popup-content{overflow:auto;box-sizing:border-box}:host([header-text]) .ui5-popup-header-text{min-height:var(--_ui5-v2-18-0_popup_default_header_height);max-height:var(--_ui5-v2-18-0_popup_default_header_height);line-height:var(--_ui5-v2-18-0_popup_default_header_height);text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:100%;display:inline-flex;justify-content:var(--_ui5-v2-18-0_popup_header_prop_header_text_alignment)}:host([header-text]) .ui5-popup-header-root{justify-content:var(--_ui5-v2-18-0_popup_header_prop_header_text_alignment)}:host(:not([header-text])) .ui5-popup-header-text{display:none}:host([media-range="S"]) .ui5-popup-content{padding:1rem var(--_ui5-v2-18-0_popup_content_padding_s)}:host([media-range="M"]) .ui5-popup-content,:host([media-range="L"]) .ui5-popup-content{padding:1rem var(--_ui5-v2-18-0_popup_content_padding_m_l)}:host([media-range="XL"]) .ui5-popup-content{padding:1rem var(--_ui5-v2-18-0_popup_content_padding_xl)}.ui5-popup-header-root{background:var(--sapPageHeader_Background)}:host([media-range="S"]) .ui5-popup-header-root,:host([media-range="S"]) .ui5-popup-footer-root{padding-left:var(--_ui5-v2-18-0_popup_header_footer_padding_s);padding-right:var(--_ui5-v2-18-0_popup_header_footer_padding_s)}:host([media-range="M"]) .ui5-popup-header-root,:host([media-range="L"]) .ui5-popup-header-root,:host([media-range="M"]) .ui5-popup-footer-root,:host([media-range="L"]) .ui5-popup-footer-root{padding-left:var(--_ui5-v2-18-0_popup_header_footer_padding_m_l);padding-right:var(--_ui5-v2-18-0_popup_header_footer_padding_m_l)}:host([media-range="XL"]) .ui5-popup-header-root,:host([media-range="XL"]) .ui5-popup-footer-root{padding-left:var(--_ui5-v2-18-0_popup_header_footer_padding_xl);padding-right:var(--_ui5-v2-18-0_popup_header_footer_padding_xl)}
`;export{k as a,E as b,Re as c,de as d,oe as e,ie as f,Se as g,yt as h,Tt as i};
