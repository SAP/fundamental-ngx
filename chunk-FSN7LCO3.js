import{a as it}from"./chunk-WKXYPKGT.js";import{g as ot}from"./chunk-EXDSSWSZ.js";import{a as et}from"./chunk-GVI7WVIJ.js";import{a as C}from"./chunk-M5IJBHUB.js";import{a as tt}from"./chunk-6I4UMHTL.js";import{a as Q}from"./chunk-5KPDFCBN.js";import{f as Z}from"./chunk-HQXKYVGG.js";import{b as I}from"./chunk-5YFZJMW2.js";import{a as H}from"./chunk-H5GKKHLG.js";import{a as q}from"./chunk-24FV2AE7.js";import{c as g}from"./chunk-M6IGQAYB.js";import{d as W}from"./chunk-6LGD6VJS.js";import{a as x}from"./chunk-PH6IMGXT.js";import{$ as U,Z as w,a as K}from"./chunk-J2ZYVFGE.js";import{Mf as O,P as z,Q as $,Qf as J,R as h,Rf as X,S as G,T as Y,V as s,W as v,X as m,Y as f,o as L,x as M}from"./chunk-BHUOVC5R.js";import{w as _}from"./chunk-EIBM65BX.js";import{Ma as R,_ as b,ba as B,ga as V,ma as E,oc as F,pc as y,ta as N,wb as A,xb as P}from"./chunk-KJ35K6QL.js";import{a as S,b as j,i as l}from"./chunk-66YHNWRR.js";function D(){return s("div",{class:"ui5-dynamic-date-range-root",children:s(ot,{"data-sap-focus-ref":!0,id:`${this._id}-inner`,class:"ui5-dynamic-date-range-input",value:this.value&&this.getOption(this.value?.operator)?.format(this.value),onChange:this.onInputChange,onKeyDown:this.onInputKeyDown,children:s(W,{id:`${this._id}-value-help`,slot:"icon",name:it,tabindex:-1,mode:this._iconMode,onClick:this._togglePicker,class:{inputIcon:!0,"inputIcon--pressed":this.open}})})})}function T(){return v(H,{id:`${this._id}-responsive-popover`,opener:this,open:this.open,allowTargetOverlap:!0,placement:"Bottom",horizontalAlign:"Start",hideArrow:!0,_hideHeader:!0,onClose:this.onPopoverClose,onBeforeOpen:this.onPopoverBeforeOpen,onKeyDown:this.onKeyDownPopover,children:[this._hasCurrentOptionTemplate&&v("div",{slot:"header",class:"ui5-ddr-header",children:[s(g,{iconOnly:!0,icon:tt,design:"Transparent",onClick:this.onButtonBackClick,tooltip:this.tooltipNavigationIcon}),s(q,{children:this._currentOption?.text})]}),this._hasCurrentOptionTemplate?v("div",{class:"ui5-dynamic-date-range-option-container",children:[this._currentOption?.template?.call(this),s("div",{class:"ui5-ddr-current-value",children:this.currentValueText})]}):s("div",{class:"ui5-dynamic-date-range-options",children:s(Z,{class:"ui5-dynamic-date-range-options-list",separators:"None",selectionMode:"Single",onItemClick:this._selectOption,children:this.optionsObjects.map(a=>s(Q,{selected:a.operator===this.value?.operator,iconEnd:!0,icon:a.icon,wrappingType:"Normal",type:a.template?I.Navigation:I.Active,children:a.text}))})}),this._hasCurrentOptionTemplate&&v("div",{slot:"footer",children:[s(g,{design:"Emphasized",onClick:this._submitValue,children:"Submit"}),s(g,{design:"Transparent",onClick:this._close,children:"Close"})]})]})}function k(){return[D.call(this),T.call(this)]}_("@ui5/webcomponents-theming","sap_horizon",()=>l(null,null,function*(){return m}));_("@ui5/webcomponents","sap_horizon",()=>l(null,null,function*(){return f}));var nt=`.inputIcon{color:var(--_ui5-v2-18-0_input_icon_color);cursor:pointer;outline:none;padding:var(--_ui5-v2-18-0_input_icon_padding);border-inline-start:var(--_ui5-v2-18-0_input_icon_border);min-width:1rem;min-height:1rem;border-radius:var(--_ui5-v2-18-0_input_icon_border_radius)}.inputIcon.inputIcon--pressed{background:var(--_ui5-v2-18-0_input_icon_pressed_bg);box-shadow:var(--_ui5-v2-18-0_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-18-0_select_hover_icon_left_border);color:var(--_ui5-v2-18-0_input_icon_pressed_color)}.inputIcon:active{background-color:var(--sapButton_Active_Background);box-shadow:var(--_ui5-v2-18-0_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-18-0_select_hover_icon_left_border);color:var(--_ui5-v2-18-0_input_icon_pressed_color)}.inputIcon:not(.inputIcon--pressed):not(:active):hover{background:var(--_ui5-v2-18-0_input_icon_hover_bg);box-shadow:var(--_ui5-v2-18-0_input_icon_box_shadow)}.inputIcon:hover{border-inline-start:var(--_ui5-v2-18-0_select_hover_icon_left_border);box-shadow:var(--_ui5-v2-18-0_input_icon_box_shadow)}:host([disabled]){cursor:default;pointer-events:none;background:none}:host([readonly]:not([disabled])){border-color:var(--_ui5-v2-18-0_input_readonly_border_color);background:var(--sapField_ReadOnly_BackgroundStyle);background-color:var(--_ui5-v2-18-0_input_readonly_background)}:host([value-state="Negative"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-18-0_input_error_icon_box_shadow)}:host([value-state="Critical"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-18-0_input_warning_icon_box_shadow)}:host([value-state="Information"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-18-0_input_information_icon_box_shadow)}:host([value-state="Positive"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-18-0_input_success_icon_box_shadow)}:host([value-state="Negative"]:not([readonly]):not([disabled])){background:var(--sapField_InvalidBackgroundStyle);background-color:var(--sapField_InvalidBackground);border-color:var(--_ui5-v2-18-0_input_value_state_error_border_color);box-shadow:var(--sapField_InvalidShadow)}:host([value-state="Critical"]:not([readonly]):not([disabled])){background:var(--sapField_WarningBackgroundStyle);background-color:var(--sapField_WarningBackground);border-color:var(--_ui5-v2-18-0_input_value_state_warning_border_color);box-shadow:var(--sapField_WarningShadow)}:host([value-state="Positive"]:not([readonly]):not([disabled])){background:var(--sapField_SuccessBackgroundStyle);background-color:var(--sapField_SuccessBackground);border-color:var(--_ui5-v2-18-0_input_value_state_success_border_color);border-width:var(--_ui5-v2-18-0_input_value_state_success_border_width);box-shadow:var(--sapField_SuccessShadow)}:host([value-state="Information"]:not([readonly]):not([disabled])){background:var(--sapField_InformationBackgroundStyle);background-color:var(--sapField_InformationBackground);border-color:var(--_ui5-v2-18-0_input_value_state_information_border_color);border-width:var(--_ui5-v2-18-0_input_information_border_width);box-shadow:var(--sapField_InformationShadow)}:host([value-state="Negative"]) .inputIcon:active,:host([value-state="Negative"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-18-0_input_error_icon_box_shadow);color:var(--_ui5-v2-18-0_input_icon_error_pressed_color)}:host([value-state="Critical"]) .inputIcon:active,:host([value-state="Critical"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-18-0_input_warning_icon_box_shadow);color:var(--_ui5-v2-18-0_input_icon_warning_pressed_color)}:host([value-state="Information"]) .inputIcon:active,:host([value-state="Information"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-18-0_input_information_icon_box_shadow);color:var(--_ui5-v2-18-0_input_icon_information_pressed_color)}:host([value-state="Positive"]) .inputIcon:active,:host([value-state="Positive"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-18-0_input_success_icon_box_shadow);color:var(--_ui5-v2-18-0_input_icon_success_pressed_color)}:host([value-state="Negative"]) .inputIcon,:host([value-state="Critical"]) .inputIcon{padding:var(--_ui5-v2-18-0_input_error_warning_icon_padding)}:host([value-state="Information"]) .inputIcon{padding:var(--_ui5-v2-18-0_input_information_icon_padding)}:host{width:var(--_ui5-v2-18-0_input_width, 12.5625rem);display:inline-block}.ui5-dynamic-date-range-root{width:100%}
`;_("@ui5/webcomponents-theming","sap_horizon",()=>l(null,null,function*(){return m}));_("@ui5/webcomponents","sap_horizon",()=>l(null,null,function*(){return f}));var rt=`[ui5-responsive-popover]::part(content){padding:0}[ui5-responsive-popover]{width:20rem;height:35.625rem}[ui5-responsive-popover]::part(content){width:20rem;height:35.625rem}.ui5-dynamic-date-range-option-container{display:flex;flex-direction:column;align-content:center;justify-content:space-around;height:100%;width:100%}.ui5-dynamic-date-range-unified-option,.ui5-last-next-container{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;height:100%}.ui5-last-next-container-padded{padding:0 1rem .5rem}.ui5-ddr-input-container{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;gap:.25rem;width:fit-content}.ui5-ddr-input-container-right-aligned{text-align:right}.ui5-ddr-label{margin:1rem 0 .5rem;text-align:left}.ui5-ddr-input-row{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.ui5-ddr-current-value{display:flex;justify-content:flex-start;align-items:center;height:3.125rem;font-size:.875rem;font-family:var(--sapFontFamily);font-weight:400;color:var(--sapContentLabelColor);background-color:#d3d3d3;padding-inline-start:10px;font-style:italic;text-overflow:ellipsis;overflow:hidden}[ui5-responsive-popover]::part(footer){display:flex;justify-content:end;padding-top:.125rem;padding-bottom:.125rem}.ui5-ddr-arrow-back-btn{display:flex;justify-content:center;align-items:center;width:var(--_ui5-v2-18-0_calendar_header_arrow_button_width);background-color:var(--sapButton_Lite_Background);color:var(--sapButton_Lite_TextColor);cursor:pointer;overflow:hidden;white-space:nowrap;padding:0;font-size:var(--sapFontSize);user-select:none}.ui5-ddr-arrow-back-btn{border:var(--_ui5-v2-18-0_calendar_header_arrow_button_border);border-radius:var(--_ui5-v2-18-0_calendar_header_arrow_button_border_radius);display:flex;background-color:var(--sapButton_Lite_Background);border-color:var(--sapButton_Lite_BorderColor)}.ui5-ddr-arrow-back-btn-arrow-icon{color:currentColor;pointer-events:none}[ui5-responsive-popover]::part(header){display:flex;flex-direction:row;align-items:center;justify-content:flex-start;height:2.5rem}.ui5-ddr-header{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;height:2.5rem}.ui5-dynamic-date-range-option-datetime-container{height:100%}.ui5-dt-picker-header{display:flex;justify-content:center;padding-top:.5rem}
`;var p=function(a,t,e,o){var n=arguments.length,i=n<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,e):o,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(a,t,e,o);else for(var c=a.length-1;c>=0;c--)(r=a[c])&&(i=(n<3?r(i):n>3?r(t,e,i):r(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},d,u=d=class extends z{constructor(){super(...arguments),this.options="",this.open=!1,this.optionsObjects=[]}onBeforeRendering(){this.optionsObjects=this._createNormalizedOptions(),this._focusSelectedItem()}onAfterRendering(){return l(this,null,function*(){yield L().then(()=>{setTimeout(()=>{this._focusLastSelectedItem()},0)})})}_createNormalizedOptions(){if(!this.optionsObjects.length){let t=this.splitOptions(this.options).filter(Boolean),e=[],o=new Map;return t.forEach(n=>{let i=d.getOptionClass(n);if(i){let r=o.get(i)||[];r.push(n),o.set(i,r)}}),o.forEach((n,i)=>{e.push(new i(n))}),e}return this.optionsObjects}splitOptions(t){return t.split(",").map(e=>e.trim())}_focusSelectedItem(){if(!this.value)return;let t=this._list?.items.find(e=>e.selected===!0);t&&this._list?.focusItem(t)}_focusLastSelectedItem(){if(!this._lastSelectedOption||!this._list||!this._list.items.length)return;let t=this.optionsObjects.findIndex(e=>e.operator===this._lastSelectedOption?.operator);if(t>=0&&t<this._list.items.length){let e=this._list.items[t];this._list.focusItem(e)}}get _iconMode(){return M()?x.Decorative:x.Interactive}get tooltipNavigationIcon(){return d.i18nBundle.getText(X)}_togglePicker(){this.open?this._close():this.open=!0}_selectOption(t){this._currentOption=this.optionsObjects.find(e=>e.text===t.detail.item.textContent),this._lastSelectedOption=this._currentOption,this._currentOption?.template?(!this.currentValue||this.currentValue.operator!==this._currentOption.operator)&&(this.currentValue=void 0):(this.currentValue=this._currentOption?.parse(this._currentOption.text),this._submitValue()),this._currentOption?.operator===this.value?.operator&&(this.currentValue=this.value)}getOption(t){if(!t)return this._currentOption;let e=this.optionsObjects.find(o=>o.operator===t);if(!e){let o=d.getOptionClass(t);if(o){let n=this.optionsObjects.find(r=>r.constructor===o);if(n)return n.operator=t,n;let i=new o;return this.optionsObjects.push(i),i}}return e}onInputChange(t){let e=t.target?.value;if(!e){this.value=void 0,this.fireDecoratorEvent("change");return}let o=this.optionsObjects.find(n=>n.isValidString(e));this.value=o?this.getOption(o.operator)?.parse(e):void 0,this.value&&this.fireDecoratorEvent("change")}onButtonBackClick(){this._currentOption=void 0}toDates(t){return this.getOption(t.operator)?.toDates(t)}get _hasCurrentOptionTemplate(){return!!this._currentOption?.template}_submitValue(){let t=this.currentValue||{operator:this._currentOption?.operator||"",values:[]},e=this._currentOption?.format(t)||"";this._input&&(this._input.value=e),!this._currentOption||!t.operator?this.value=void 0:this._currentOption.isValidString(e)?(this.value=t,this.fireDecoratorEvent("change")):this.value=void 0,this._currentOption?.resetState?.(),this._currentOption=void 0,this.open=!1}_close(){this._currentOption?.resetState?.(),this._currentOption=void 0,this.open=!1}onPopoverBeforeOpen(){this.currentValue!==this.value&&(this.currentValue=this.value)}onPopoverClose(){this._close()}get currentValueText(){if(this.currentValue){let t=this.getOption(this.currentValue.operator);if(t){let e=t.toDates(this.currentValue),o=j(S({},this.currentValue),{values:e}),n=t.format(o);return`${d.i18nBundle.getText(O)}: ${n}`}}if(this._currentOption){let t={operator:this._currentOption.operator,values:[]},e=this._currentOption.format(t);if(e&&e.trim())return`${d.i18nBundle.getText(O)}: ${e}`}return d.i18nBundle.getText(J)}handleSelectionChange(t){let e=this._currentOption?.handleSelectionChange?.(t,this.currentValue);this.currentValue=JSON.parse(JSON.stringify(e)),this.currentValue&&(this.currentValue.values=e?.values),this.currentValue&&this.currentValue.operator!==this._currentOption?.operator&&(this._currentOption=this.getOption(this.currentValue.operator))}onInputKeyDown(t){w(t)&&(t.preventDefault(),this.open?U(t)||this._toggleAndFocusInput():this._toggleAndFocusInput())}_toggleAndFocusInput(){this._togglePicker(),this.open&&this._input?.focus()}onKeyDownPopover(t){w(t)&&(t.preventDefault(),this._toggleAndFocusInput())}static register(t,e){t=t.toUpperCase(),this.optionsClasses.has(t)||this.optionsClasses.set(t,e)}static getOptionClass(t){return this.optionsClasses.get(t)}};u.optionsClasses=new Map;p([h({noAttribute:!0})],u.prototype,"value",void 0);p([h({type:String})],u.prototype,"options",void 0);p([h({type:Boolean})],u.prototype,"open",void 0);p([h({type:Object})],u.prototype,"_currentOption",void 0);p([h({type:Object})],u.prototype,"currentValue",void 0);p([C("[ui5-input]")],u.prototype,"_input",void 0);p([C("[ui5-list]")],u.prototype,"_list",void 0);p([G("@ui5/webcomponents")],u,"i18nBundle",void 0);u=d=p([$({tag:"ui5-dynamic-date-range",languageAware:!0,cldr:!0,template:k,renderer:Y,styles:[nt,et,rt]}),K("change",{bubbles:!0,cancelable:!0})],u);u.define();var Zt=u;var at=["*"],ae=(()=>{class a{constructor(){this.value=y(),this.options=y(""),this.ui5Change=F(),this.elementRef=b(N),this.injector=b(V)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let e=this.element,o=["value","options"];for(let i of o){let r=i.replace(/-./g,c=>c[1].toUpperCase());this[r]&&typeof this[r]=="function"&&B(this.injector,()=>{E(()=>{let c=this[r]();e&&(e[i]=c)})})}let n=["ui5Change"];for(let i of n){let r=i.replace("ui5","").replace(/([A-Z])/g,"-$1").toLowerCase().substring(1);this[i]&&typeof this[i].emit=="function"&&e.addEventListener&&e.addEventListener(r,c=>{this[i].emit(c)})}}static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=R({type:a,selectors:[["ui5-dynamic-date-range"],["","ui5-dynamic-date-range",""]],inputs:{value:[1,"value"],options:[1,"options"]},outputs:{ui5Change:"ui5Change"},exportAs:["ui5DynamicDateRange"],ngContentSelectors:at,decls:1,vars:0,template:function(o,n){o&1&&(A(),P(0))},encapsulation:2,changeDetection:0})}}return a})();export{Zt as a,ae as b};
