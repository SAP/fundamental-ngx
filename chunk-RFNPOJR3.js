import{b as J,c as K,d as b}from"./chunk-RG5T2FAK.js";import{a as h,c as Y,d as v,e as q,i as z}from"./chunk-2PI6U6YX.js";import{d as g}from"./chunk-Y4C5BPTW.js";import{a as H}from"./chunk-554RPHSK.js";import{Bb as G,Q as I,R as V,V as T,X as w,Y as B,o as _,tb as O,ub as L,vb as $,wb as W,xb as j,zb as U}from"./chunk-MRD324L5.js";import{w as y}from"./chunk-EIBM65BX.js";import{$ as D,Ac as c,La as R,Qa as P,ca as F,ha as M,nc as k,pc as d,qc as r,ta as x,wb as E,xb as A}from"./chunk-5C524TAA.js";import{h as S,i as u}from"./chunk-66YHNWRR.js";function N(){return[J.call(this),K.call(this,{content:Q,initialFocus:this.initialFocusId})]}function Q(){return T(z,{id:`${this._id}-calendar`,primaryCalendarType:this._primaryCalendarType,secondaryCalendarType:this.secondaryCalendarType,formatPattern:this._formatPattern,selectionMode:this._calendarSelectionMode,minDate:this.minDate,maxDate:this.maxDate,calendarWeekNumbering:this.calendarWeekNumbering,onSelectionChange:this.onSelectedDatesChange,onShowMonthView:this.onHeaderShowMonthPress,onShowYearView:this.onHeaderShowYearPress,hideWeekNumbers:this.hideWeekNumbers,_currentPicker:this._calendarCurrentPicker,_pickersMode:this._calendarPickersMode,children:T(Y,{startValue:this.startValue,endValue:this.endValue})})}y("@ui5/webcomponents-theming","sap_horizon",()=>u(null,null,function*(){return w}));y("@ui5/webcomponents","sap_horizon",()=>u(null,null,function*(){return B}));var X=`:host(:not([hidden])){display:inline-block}:host{min-width:15rem;color:var(--sapField_TextColor);background-color:var(--sapField_Background)}:host .ui5-date-picker-input{width:100%;min-width:inherit;color:inherit;background-color:inherit}
`;var C=function(m,e,i,t){var a=arguments.length,s=a<3?e:t===null?t=Object.getOwnPropertyDescriptor(e,i):t,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(m,e,i,t);else for(var n=m.length-1;n>=0;n--)(l=m[n])&&(s=(a<3?l(s):a>3?l(e,i,s):l(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},o,ee="-",f=o=class Z extends b{get formValidityMessage(){let e=this.formValidity;return e.valueMissing?o.i18nBundle.getText(L,this.getFormat().oFormatOptions.pattern):e.patternMismatch?o.i18nBundle.getText($,this.getFormat().oFormatOptions.pattern):e.rangeUnderflow?o.i18nBundle.getText(j,this.minDate):e.rangeOverflow?o.i18nBundle.getText(W,this.maxDate):""}get formValidity(){return{valueMissing:this.required&&!this.value,patternMismatch:!!this.value&&!this.isValidValue(this.value),rangeUnderflow:!!this.value&&!this.isValidMin(this.value),rangeOverflow:!!this.value&&!this.isValidMax(this.value)}}get formFormattedValue(){let e=this._splitValueByDelimiter(this.value||"").filter(Boolean);if(e.length&&this.name){let i=new FormData;for(let t=0;t<e.length;t++)i.append(this.name,e[t]);return i}return this.value}constructor(){super(),this.delimiter="-",this._prevDelimiter=null}get dateValue(){return null}get dateValueUTC(){return null}get _startDateTimestamp(){return this._extractFirstTimestamp(this.value)}get _endDateTimestamp(){return this._extractLastTimestamp(this.value)}get _tempTimestamp(){return this._tempValue&&this.getValueFormat().parse(this._tempValue,!0).getTime()/1e3}get _calendarSelectionMode(){return"Range"}get _calendarTimestamp(){return this._tempTimestamp||this._startDateTimestamp||q(this._primaryCalendarType)}get _calendarSelectedDates(){return this._tempValue?[this._tempValue]:this.value&&this._checkValueValidity(this.value)?this._splitValueByDelimiter(this.value):[]}get startDateValue(){return h.fromTimestamp(this._startDateTimestamp*1e3).toLocalJSDate()}get endDateValue(){return h.fromTimestamp(this._endDateTimestamp*1e3).toLocalJSDate()}get startValue(){return this._calendarSelectedDates[0]||""}get endValue(){return this._calendarSelectedDates[1]||""}get _lastDateRangeForTheCurrentYear(){let e=g.getInstance().getFullYear(),i=g.getInstance(e,11,31,23,59,59),t=g.getInstance(e,11,24,23,59,59);return`${this.getFormat().format(t)} ${this._effectiveDelimiter} ${this.getFormat().format(i)}`}get _placeholder(){return this.placeholder?this.placeholder:`${o.i18nBundle.getText(U)} ${this._lastDateRangeForTheCurrentYear}`}get roleDescription(){return o.i18nBundle.getText(O)}get pickerAccessibleName(){return o.i18nBundle.getText(G,this.ariaLabelText)}_onInputSubmit(){return u(this,null,function*(){let e=this._dateTimeInput.getCaretPosition();yield _(),this._dateTimeInput.setCaretPosition(e)})}onResponsivePopoverAfterClose(){this._tempValue="",super.onResponsivePopoverAfterClose()}isValid(e){let i=this._splitValueByDelimiter(e).filter(t=>t.trim()!=="");return i.length<=2&&i.every(t=>super.isValid(t))}isValidValue(e){let i=this._splitValueByDelimiter(e).filter(t=>t.trim()!=="");return i.length<=2&&i.every(t=>super.isValidValue(t))}isValidDisplayValue(e){let i=this._splitValueByDelimiter(e).filter(t=>t.trim()!=="");return i.length<=2&&i.every(t=>super.isValidDisplayValue(t))}isInValidRange(e){let i=this._splitValueByDelimiter(e).filter(t=>t.trim()!=="");return i.length<=2&&i.every(t=>super.isInValidRange(t))}isValidMin(e){let i=this._splitValueByDelimiter(e).filter(t=>t.trim()!=="");return i.length<=2&&i.every(t=>super.isValidMin(t))}isValidMax(e){let i=this._splitValueByDelimiter(e).filter(t=>t.trim()!=="");return i.length<=2&&i.every(t=>super.isValidMax(t))}normalizeValue(e){let i=this._extractFirstTimestamp(e),t=this._extractLastTimestamp(e);return i&&t&&i>t?this._buildValue(t,i):this._buildValue(i,t)}normalizeDisplayValue(e){let i=this._splitValueByDelimiter(e),t=this._exctractDisplayTimestamp(i[0]),a=this._exctractDisplayTimestamp(i[1]);return!t||!a?e:t&&a&&t>a?this._buildDisplayValue(a,t):this._buildDisplayValue(t,a)}getValueFromDisplayValue(e){let i=this._splitValueByDelimiter(e),t="",a="";return t=this._getValueStringFromTimestamp(this._exctractDisplayTimestamp(i[0])*1e3),a=this._getValueStringFromTimestamp(this._exctractDisplayTimestamp(i[1])*1e3),!t||!a?e:`${t} ${this._effectiveDelimiter} ${a}`}onSelectedDatesChange(e){e.preventDefault();let i=e.detail.selectedValues;if(i.length===0)return;if(i.length===1){this._tempValue=i[0];return}let t=this._buildValue(e.detail.selectedDates[0],e.detail.selectedDates[1]);this._updateValueAndFireEvents(t,!0,["change","value-changed"]),this._togglePicker()}_modifyDateValue(e,i,t){return u(this,null,function*(){if(!this._endDateTimestamp)return S(Z.prototype,this,"_modifyDateValue").call(this,e,i,t);let a=this._dateTimeInput.getCaretPosition(),s;if(a<=this.value.indexOf(this._effectiveDelimiter)){let n=v(h.fromTimestamp(this._startDateTimestamp*1e3),e,i,t,this._minDate,this._maxDate).valueOf()/1e3;n>this._endDateTimestamp&&(a+=Math.ceil(this.value.length/2)),s=this._buildValue(n,this._endDateTimestamp)}else{let n=v(h.fromTimestamp(this._endDateTimestamp*1e3),e,i,t,this._minDate,this._maxDate).valueOf()/1e3;s=this._buildValue(this._startDateTimestamp,n),n<this._startDateTimestamp&&(a-=Math.ceil(this.value.length/2))}this._updateValueAndFireEvents(s,!0,["change","value-changed"]),yield _(),this._dateTimeInput.setCaretPosition(a)})}get _effectiveDelimiter(){return this.delimiter||ee}_splitValueByDelimiter(e){let i=[],t=e.split(this._prevDelimiter||this._effectiveDelimiter);return this.getValueFormat().parse(e)?(i[0]=t.join(this._effectiveDelimiter),i[1]=""):(i[0]=t.slice(0,t.length/2).join(this._effectiveDelimiter),i[1]=t.slice(t.length/2).join(this._effectiveDelimiter)),i}normalizeFormattedValue(e){if(e==="")return e;let i="",t="";return i=this._getValueStringFromTimestamp(this._extractFirstTimestamp(e)*1e3),t=this._getValueStringFromTimestamp(this._extractLastTimestamp(e)*1e3),!i&&!t?e:`${i} ${this._effectiveDelimiter} ${t}`}_extractFirstTimestamp(e){if(!e||!this._checkValueValidity(e))return;let i=this._splitValueByDelimiter(e);return this.getValueFormat().parse(i[0],!0).getTime()/1e3}_extractLastTimestamp(e){if(!e||!this._checkValueValidity(e))return;let i=this._splitValueByDelimiter(e);if(i=i.filter(t=>t!==" "),i[1])return this.getValueFormat().parse(i[1],!0).getTime()/1e3}_exctractDisplayTimestamp(e){if(!(!e||!this._checkDisplayValueValidity(e))&&e)return this.getDisplayFormat().parse(e,!0).getTime()/1e3}_buildValue(e,i){if(this._prevDelimiter=this._effectiveDelimiter,e){let t=this._getValueStringFromTimestamp(e*1e3);if(!i)return t;let a=this._getValueStringFromTimestamp(i*1e3);return`${t} ${this._effectiveDelimiter} ${a}`}return""}_buildDisplayValue(e,i){if(this._prevDelimiter=this._effectiveDelimiter,e){let t=this._getDisplayStringFromTimestamp(e*1e3);if(!i)return t;let a=this._getDisplayStringFromTimestamp(i*1e3);return`${t} ${this._effectiveDelimiter} ${a}`}return""}getDisplayValueFromValue(e){if(this.isLiveUpdate)return e;let i="",t="";return i=this._getDisplayStringFromTimestamp(this._extractFirstTimestamp(e)*1e3),t=this._getDisplayStringFromTimestamp(this._extractLastTimestamp(e)*1e3),!i||!t?e:`${i} ${this._effectiveDelimiter} ${t}`}get displayValue(){return this.value?this.getDisplayValueFromValue(this.value):""}};C([V()],f.prototype,"delimiter",void 0);C([V()],f.prototype,"_tempValue",void 0);f=o=C([I({tag:"ui5-daterange-picker",styles:[b.styles,X],template:N})],f);f.define();var te=["*"],ke=(()=>{let e=class e{constructor(){this.delimiter=r("-"),this.value=r(""),this.valueState=r("None"),this.required=r(!1,{transform:c}),this.disabled=r(!1,{transform:c}),this.readonly=r(!1,{transform:c}),this.placeholder=r(),this.name=r(),this.hideWeekNumbers=r(!1,{transform:c}),this.open=r(!1,{transform:c}),this.accessibleName=r(),this.accessibleNameRef=r(),this.accessibleDescription=r(),this.accessibleDescriptionRef=r(),this.primaryCalendarType=r(),this.secondaryCalendarType=r(),this.formatPattern=r(),this.displayFormat=r(),this.valueFormat=r(),this.minDate=r(""),this.maxDate=r(""),this.calendarWeekNumbering=r("Default"),this.ui5Change=d(),this.ui5Input=d(),this.ui5ValueStateChange=d(),this.ui5Open=d(),this.ui5Close=d(),this.slots=[{name:"valueStateMessage",description:"Defines the value state message that will be displayed as pop up under the component.\n\n**Note:** If not specified, a default text (in the respective language) will be displayed.\n\n**Note:** The `valueStateMessage` would be displayed,\nwhen the component is in `Information`, `Critical` or `Negative` value state.",since:"1.0.0-rc.7"}],this.elementRef=D(x),this.injector=D(M)}get dateValue(){return this.element?.dateValue??null}get dateValueUTC(){return this.element?.dateValueUTC??null}get startDateValue(){return this.element?.startDateValue??null}get endDateValue(){return this.element?.endDateValue??null}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let t=this.element,a=["delimiter","value","valueState","required","disabled","readonly","placeholder","name","hideWeekNumbers","open","accessibleName","accessibleNameRef","accessibleDescription","accessibleDescriptionRef","primaryCalendarType","secondaryCalendarType","formatPattern","displayFormat","valueFormat","minDate","maxDate","calendarWeekNumbering"];for(let l of a){let n=l.replace(/-./g,p=>p[1].toUpperCase());this[n]&&typeof this[n]=="function"&&F(this.injector,()=>{k(()=>{let p=this[n]();t&&(t[l]=p)})})}let s=["ui5Change","ui5Input","ui5ValueStateChange","ui5Open","ui5Close"];for(let l of s){let n=l.replace("ui5","").replace(/([A-Z])/g,"-$1").toLowerCase().substring(1);this[l]&&typeof this[l].emit=="function"&&t.addEventListener&&t.addEventListener(n,p=>{this[l].emit(p)})}}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=R({type:e,selectors:[["ui5-daterange-picker"],["","ui5-daterange-picker",""]],inputs:{delimiter:[1,"delimiter"],value:[1,"value"],valueState:[1,"valueState"],required:[1,"required"],disabled:[1,"disabled"],readonly:[1,"readonly"],placeholder:[1,"placeholder"],name:[1,"name"],hideWeekNumbers:[1,"hideWeekNumbers"],open:[1,"open"],accessibleName:[1,"accessibleName"],accessibleNameRef:[1,"accessibleNameRef"],accessibleDescription:[1,"accessibleDescription"],accessibleDescriptionRef:[1,"accessibleDescriptionRef"],primaryCalendarType:[1,"primaryCalendarType"],secondaryCalendarType:[1,"secondaryCalendarType"],formatPattern:[1,"formatPattern"],displayFormat:[1,"displayFormat"],valueFormat:[1,"valueFormat"],minDate:[1,"minDate"],maxDate:[1,"maxDate"],calendarWeekNumbering:[1,"calendarWeekNumbering"]},outputs:{ui5Change:"ui5Change",ui5Input:"ui5Input",ui5ValueStateChange:"ui5ValueStateChange",ui5Open:"ui5Open",ui5Close:"ui5Close"},exportAs:["ui5DateRangePicker"],features:[P([H])],ngContentSelectors:te,decls:1,vars:0,template:function(a,s){a&1&&(E(),A(0))},encapsulation:2,changeDetection:0});let m=e;return m})();export{ke as a};
