import{a as ae}from"./chunk-ADGUSLQR.js";import{a as ue,b as le}from"./chunk-WXGPWQIG.js";import{a as re}from"./chunk-GXB526DO.js";import{c as se,g as w}from"./chunk-EXDSSWSZ.js";import{a as oe}from"./chunk-2WYHIU4E.js";import{a as ie}from"./chunk-5KPDFCBN.js";import{f as I}from"./chunk-HQXKYVGG.js";import{c as T}from"./chunk-T3AQTTBD.js";import{a as B}from"./chunk-HDINBTBQ.js";import{d as Z}from"./chunk-6LGD6VJS.js";import{B as q,C as $,K,Z as X,a as k,b as O,j as A,k as F,m as U,o as j}from"./chunk-J2ZYVFGE.js";import{Ic as J,Kc as Y,Lc as ee,Mc as te,Q as P,R as m,T as V,U as b,V as u,W as G,X as W,Y as Q,Ze as ne}from"./chunk-BHUOVC5R.js";import{j as L,w as v}from"./chunk-EIBM65BX.js";import{Ma as z,Qa as R,_ as f,ba as x,ga as M,ma as N,oc as h,pc as s,ta as C,wb as H,xb as E,zc as c}from"./chunk-KJ35K6QL.js";import{a as D,b as y,i as _}from"./chunk-66YHNWRR.js";function S(){return[se.call(this,{preContent:ce,postContent:pe,suggestionsList:de,mobileHeader:ge})]}function ce(){return G(b,{children:[u("span",{id:"hiddenText-nMore",class:"ui5-hidden-text",children:this._tokensCountText}),this.showValueHelpIcon&&u("span",{id:"hiddenText-value-help",class:"ui5-hidden-text",children:this._valueHelpText}),u(le,{class:"ui5-multi-input-tokenizer",opener:this.morePopoverOpener,popoverMinWidth:this._inputWidth,hidePopoverArrow:!0,expanded:this.tokenizerExpanded,onKeyDown:this._onTokenizerKeydown,onTokenDelete:this.tokenDelete,onFocusOut:this._tokenizerFocusOut,onShowMoreItemsPress:this._showMoreItemsPress,children:this.tokens.map(r=>u("slot",{name:r._individualSlot}))})]})}function pe(){return u(b,{children:this.showValueHelpIcon&&u(Z,{class:"inputIcon",name:ae,accessibleName:this.valueHelpLabel,onMouseUp:this.valueHelpMouseUp,onMouseDown:this.valueHelpMouseDown,onClick:this.valueHelpPress})})}function de(){return this._effectiveShowTokensInSuggestions?u(I,{class:"ui5-tokenizer-list",accessibleRole:T.ListBox,separators:this.suggestionSeparators,selectionMode:"Delete",onMouseDown:this.onItemMouseDown,onItemClick:this._handleSuggestionItemPress,onSelectionChange:this._handleSelectionChange,onItemDelete:r=>{let t=r.detail.item.getAttribute("data-ui5-token-ref-id"),n=this.tokens.find(o=>o._id===t);n&&this.tokenDelete({detail:{tokens:[n]}})},children:this.tokens?.map((r,e)=>u(ie,{class:"ui5-suggestion-token-item","data-ui5-token-ref-id":r._id,wrappingType:"Normal",text:r.text},e))}):u(I,{accessibleRole:T.ListBox,separators:this.suggestionSeparators,selectionMode:"Single",onMouseDown:this.onItemMouseDown,onItemClick:this._handleSuggestionItemPress,onSelectionChange:this._handleSelectionChange,children:u("slot",{})})}function ge(){return u(re,{class:"ui5-multi-input-mobile-dialog-button",design:"Transparent",icon:"multiselect-all",accessibleName:this._filterButtonAccessibleName,disabled:!this.tokens?.length,pressed:this._effectiveShowTokensInSuggestions,onClick:()=>{this._userToggledShowTokens=!0,this._showTokensInSuggestions=!this._effectiveShowTokensInSuggestions}})}v("@ui5/webcomponents-theming","sap_horizon",()=>_(null,null,function*(){return W}));v("@ui5/webcomponents","sap_horizon",()=>_(null,null,function*(){return Q}));var he=`.inputIcon{color:var(--_ui5-v2-18-0_input_icon_color);cursor:pointer;outline:none;padding:var(--_ui5-v2-18-0_input_icon_padding);border-inline-start:var(--_ui5-v2-18-0_input_icon_border);min-width:1rem;min-height:1rem;border-radius:var(--_ui5-v2-18-0_input_icon_border_radius)}.inputIcon.inputIcon--pressed{background:var(--_ui5-v2-18-0_input_icon_pressed_bg);box-shadow:var(--_ui5-v2-18-0_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-18-0_select_hover_icon_left_border);color:var(--_ui5-v2-18-0_input_icon_pressed_color)}.inputIcon:active{background-color:var(--sapButton_Active_Background);box-shadow:var(--_ui5-v2-18-0_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-18-0_select_hover_icon_left_border);color:var(--_ui5-v2-18-0_input_icon_pressed_color)}.inputIcon:not(.inputIcon--pressed):not(:active):hover{background:var(--_ui5-v2-18-0_input_icon_hover_bg);box-shadow:var(--_ui5-v2-18-0_input_icon_box_shadow)}.inputIcon:hover{border-inline-start:var(--_ui5-v2-18-0_select_hover_icon_left_border);box-shadow:var(--_ui5-v2-18-0_input_icon_box_shadow)}:host{min-width:calc(var(--_ui5-v2-18-0_input_min_width) + (var(--_ui5-v2-18-0-input-icons-count)*var(--_ui5-v2-18-0_input_icon_width)))}:host([tokenizer-available]){min-width:calc(var(--_ui5-v2-18-0_input_min_width) + (var(--_ui5-v2-18-0-input-icons-count)*var(--_ui5-v2-18-0_input_icon_width)) + var(--_ui5-v2-18-0_input_tokenizer_min_width))}.ui5-multi-input-tokenizer{min-width:var(--_ui5-v2-18-0_input_tokenizer_min_width);max-width:calc(100% - 3rem - var(--_ui5-v2-18-0-input-icons-count) * var(--_ui5-v2-18-0_input_icon_min_width));border:none;width:auto;height:100%}:host([readonly]) .ui5-multi-input-tokenizer::part(n-more-text){color:var(--sapLinkColor)}.ui5-multi-input-tokenizer::part(n-more-text){padding-inline-end:var(--_ui5-v2-18-0_input_inner_space_to_n_more_text)}[inner-input][inner-input-with-icon]{padding:var(--_ui5-v2-18-0_input_inner_padding_with_icon)}:host([tokenizer-available]) [inner-input]{padding-inline-start:var(--_ui5-v2-18-0_input_inner_space_to_tokenizer)}:host(:not([tokenizer-available])) .ui5-multi-input-tokenizer{--_ui5-v2-18-0_input_tokenizer_min_width: 0px;width:var(--_ui5-v2-18-0_input_tokenizer_min_width)}
`;var g=function(r,e,t,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(i=(o<3?a(i):o>3?a(e,t,i):a(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},d,p=d=class extends w{get formValidityMessage(){return d.i18nBundle.getText(ne)}get formValidity(){let e=this.tokens||[];return{valueMissing:this.required&&!this.value&&!e.length}}get formFormattedValue(){let e=this.tokens||[];if(e.length&&this.name){let t=new FormData;t.append(this.name,this.value);for(let n=0;n<e.length;n++)t.append(this.name,e[n].text||"");return t}return this.value}constructor(){super(),this.showValueHelpIcon=!1,this.tokenizerAvailable=!1,this._showTokensInSuggestions=!1,this._userToggledShowTokens=!1,this._skipOpenSuggestions=!1,this._valueHelpIconPressed=!1}valueHelpPress(){this.closeValueStatePopover(),this.fireDecoratorEvent("value-help-trigger")}tokenDelete(e){let t=e.detail.tokens,n=this.tokens.filter(i=>i.selected),o=this.tokens.length-1===0||this.tokens.length===n.length;this._readonly||t&&(this.fireDecoratorEvent("token-delete",{tokens:t}),o&&this.focus())}valueHelpMouseDown(e){let t=e.target;this.closeValueStatePopover(),this.tokenizer.open=!1,this._valueHelpIconPressed=!0,t.focus()}_tokenizerFocusOut(e){!this.contains(e.relatedTarget)&&!this.shadowRoot.contains(e.relatedTarget)&&this.tokenizer._tokens.forEach(t=>{t.selected=!1})}valueHelpMouseUp(){setTimeout(()=>{this._valueHelpIconPressed=!1},0)}innerFocusIn(){this.tokenizer._scrollToEndOnExpand=!0,this.tokenizer.expanded=!0,this.focused=!0,this.tokens.forEach(e=>{e.selected=!1})}_showMoreItemsPress(){this.tokenizer._scrollToEndOnExpand=!0}_onkeydown(e){!this._isComposing&&super._onkeydown(e);let t=e.target;if(q(e)&&t.selectionStart===0)return this._skipOpenSuggestions=!0,this._focusFirstToken(e);if(O(e)&&this._internals.form&&e.preventDefault(),A(e))return this._skipOpenSuggestions=!0,this._handleLeft(e);if(K(e))return this._skipOpenSuggestions=!0,this._handleBackspace(e);this._skipOpenSuggestions=!1,X(e)&&this.valueHelpPress()}_onTokenizerKeydown(e){let t=j(e);if(F(e)||U(e)||$(e)||t){e.preventDefault();let n=this.tokens.length-1;e.target===this.tokens[n]&&this.tokens[n]===document.activeElement&&setTimeout(()=>{this.focus()},0)}}_handleLeft(e){let t=this.getDomRef().querySelector("input").selectionStart,n=this.tokens,o=n.length&&n[n.length-1];(t===null&&!this.value||t===0)&&o&&(e.preventDefault(),o.focus(),this.tokenizer._itemNav.setCurrentItem(o))}_handleBackspace(e){let t=this.getDomRef().querySelector("input").selectionStart,n=this.getDomRef().querySelector("input").selectionEnd,o=t===0&&n===this.value.length,i=this.tokens,a=i.length&&i[i.length-1];(!this.value||this.value&&t===0&&!o)&&a&&(e.preventDefault(),a.focus(),this.tokenizer._itemNav.setCurrentItem(a))}_focusFirstToken(e){let t=this.tokens,n=t.length&&t[0];n&&(e.preventDefault(),n.focus(),this.tokenizer._itemNav.setCurrentItem(n))}_onfocusout(e){super._onfocusout(e);let t=e.relatedTarget,n=this.contains(t),o=this.shadowRoot.contains(t);!n&&!o&&(this.tokenizer.expanded=!1),this.contains(t)&&t.hasAttribute("ui5-token")&&(this.focused=!1)}_onfocusin(e){let t=this.getInputDOMRef();e.target===t&&super._onfocusin(e)}onBeforeRendering(){super.onBeforeRendering(),this.style.setProperty(L("--_ui5-input-icons-count"),`${this.iconsCount}`),this.tokenizerAvailable=this.tokens&&this.tokens.length>0,this.tokenizer&&(this.tokenizer.readonly=this.readonly),this.tokens.length>0&&!this._userToggledShowTokens&&(this._showTokensInSuggestions=!0)}_handlePickerAfterOpen(){this.tokens.length>0&&(this._showTokensInSuggestions=!0,this._userToggledShowTokens=!1),super._handlePickerAfterOpen()}onAfterRendering(){super.onAfterRendering(),this.tokenizer.preventInitialFocus=!0}get iconsCount(){return super.iconsCount+(this.showValueHelpIcon?1:0)}get tokenizer(){return this.shadowRoot.querySelector("[ui5-tokenizer]")}get tokenizerExpanded(){return this.tokenizer&&this.tokenizer.expanded}get _tokensCountText(){return ue(this.tokens.length)}get _valueHelpText(){return d.i18nBundle.getText(ee)}get _filterButtonAccessibleName(){return d.i18nBundle.getText(te)}get _tokensCountTextId(){return"hiddenText-nMore"}get _valueHelpTextId(){return this.showValueHelpIcon?"hiddenText-value-help":""}get _placeholder(){return this.tokens.length?"":this.placeholder}get accInfo(){let e=`${this._tokensCountTextId} ${this.suggestionsTextId} ${this.valueStateTextId} ${this._valueStateLinksShortcutsTextAccId} ${this._valueHelpTextId}`.trim();return y(D({},super.accInfo),{ariaRoledescription:this.ariaRoleDescription,ariaDescribedBy:e})}get valueHelpLabel(){return d.i18nBundle.getText(Y)}get ariaRoleDescription(){return d.i18nBundle.getText(J)}get morePopoverOpener(){return this.tokens.length===1&&this.tokens[0].isTruncatable?this.tokens[0]:this}get shouldDisplayOnlyValueStateMessage(){return this.hasValueStateMessage&&!this.readonly&&!this.open&&this.focused&&!this.tokenizer.open}get _effectiveShowTokensInSuggestions(){return this.tokens.length===0?!1:this._userToggledShowTokens?this._showTokensInSuggestions:!0}};g([m({type:Boolean})],p.prototype,"showValueHelpIcon",void 0);g([m({type:Boolean})],p.prototype,"tokenizerAvailable",void 0);g([m()],p.prototype,"name",void 0);g([m({type:Boolean})],p.prototype,"_showTokensInSuggestions",void 0);g([m({type:Boolean})],p.prototype,"_userToggledShowTokens",void 0);g([B({type:HTMLElement,individualSlots:!0})],p.prototype,"tokens",void 0);p=d=g([P({tag:"ui5-multi-input",renderer:V,formAssociated:!0,template:S,styles:[w.styles,he]}),k("value-help-trigger",{bubbles:!0}),k("token-delete",{bubbles:!0})],p);p.define();var me=["*"],et=(()=>{class r{constructor(){this.showValueHelpIcon=s(!1,{transform:c}),this.name=s(),this.disabled=s(!1,{transform:c}),this.placeholder=s(),this.readonly=s(!1,{transform:c}),this.required=s(!1,{transform:c}),this.noTypeahead=s(!1,{transform:c}),this.type=s("Text"),this.value=s(""),this.valueState=s("None"),this.showSuggestions=s(!1,{transform:c}),this.maxlength=s(),this.accessibleName=s(),this.accessibleNameRef=s(),this.accessibleDescription=s(),this.accessibleDescriptionRef=s(),this.showClearIcon=s(!1,{transform:c}),this.open=s(!1,{transform:c}),this.ui5ValueHelpTrigger=h(),this.ui5TokenDelete=h(),this.ui5Change=h(),this.ui5Input=h(),this.ui5Select=h(),this.ui5SelectionChange=h(),this.ui5Open=h(),this.ui5Close=h(),this.slots=[{name:"tokens",description:"Defines the component tokens."},{name:"default",description:"Defines the suggestion items.\n\n**Note:** The suggestions would be displayed only if the `showSuggestions`\nproperty is set to `true`.\n\n**Note:** The `<ui5-suggestion-item>`, `<ui5-suggestion-item-group>` and `ui5-suggestion-item-custom` are recommended to be used as suggestion items."},{name:"icon",description:"Defines the icon to be displayed in the component."},{name:"valueStateMessage",description:"Defines the value state message that will be displayed as pop up under the component.\nThe value state message slot should contain only one root element.\n\n**Note:** If not specified, a default text (in the respective language) will be displayed.\n\n**Note:** The `valueStateMessage` would be displayed,\nwhen the component is in `Information`, `Critical` or `Negative` value state.\n\n**Note:** If the component has `suggestionItems`,\nthe `valueStateMessage` would be displayed as part of the same popover, if used on desktop, or dialog - on phone.",since:"1.0.0-rc.6"}],this.elementRef=f(C),this.injector=f(M)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let t=this.element,n=["showValueHelpIcon","name","disabled","placeholder","readonly","required","noTypeahead","type","value","valueState","showSuggestions","maxlength","accessibleName","accessibleNameRef","accessibleDescription","accessibleDescriptionRef","showClearIcon","open"];for(let i of n){let a=i.replace(/-./g,l=>l[1].toUpperCase());this[a]&&typeof this[a]=="function"&&x(this.injector,()=>{N(()=>{let l=this[a]();t&&(t[i]=l)})})}let o=["ui5ValueHelpTrigger","ui5TokenDelete","ui5Change","ui5Input","ui5Select","ui5SelectionChange","ui5Open","ui5Close"];for(let i of o){let a=i.replace("ui5","").replace(/([A-Z])/g,"-$1").toLowerCase().substring(1);this[i]&&typeof this[i].emit=="function"&&t.addEventListener&&t.addEventListener(a,l=>{this[i].emit(l)})}}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=z({type:r,selectors:[["ui5-multi-input"],["","ui5-multi-input",""]],inputs:{showValueHelpIcon:[1,"showValueHelpIcon"],name:[1,"name"],disabled:[1,"disabled"],placeholder:[1,"placeholder"],readonly:[1,"readonly"],required:[1,"required"],noTypeahead:[1,"noTypeahead"],type:[1,"type"],value:[1,"value"],valueState:[1,"valueState"],showSuggestions:[1,"showSuggestions"],maxlength:[1,"maxlength"],accessibleName:[1,"accessibleName"],accessibleNameRef:[1,"accessibleNameRef"],accessibleDescription:[1,"accessibleDescription"],accessibleDescriptionRef:[1,"accessibleDescriptionRef"],showClearIcon:[1,"showClearIcon"],open:[1,"open"]},outputs:{ui5ValueHelpTrigger:"ui5ValueHelpTrigger",ui5TokenDelete:"ui5TokenDelete",ui5Change:"ui5Change",ui5Input:"ui5Input",ui5Select:"ui5Select",ui5SelectionChange:"ui5SelectionChange",ui5Open:"ui5Open",ui5Close:"ui5Close"},exportAs:["ui5MultiInput"],features:[R([oe])],ngContentSelectors:me,decls:1,vars:0,template:function(n,o){n&1&&(H(),E(0))},encapsulation:2,changeDetection:0})}}return r})();export{et as a};
