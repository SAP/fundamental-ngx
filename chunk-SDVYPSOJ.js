import{a as n,b as B}from"./chunk-QCWIDDUL.js";import{a as s}from"./chunk-LL5LXB76.js";import{a as X}from"./chunk-TLGLKB2T.js";import{a as y}from"./chunk-TTMPLTRH.js";import{c as q}from"./chunk-SAVAV5HK.js";import{a as K}from"./chunk-LCSX3PG6.js";import{a as w}from"./chunk-TY3GVOZL.js";import{a as A,b as H,g as I}from"./chunk-J2ZYVFGE.js";import{S,T as D,U as p,V as P,W as z,Y as d,Z as W,la as j,ma as x,na as U,oa as M,pa as V,rg as $,sg as F,x as N}from"./chunk-SGTQD4DW.js";import{v as b}from"./chunk-XUL3DONQ.js";import{$ as _,Ab as k,Bb as L,Pa as O,da as C,ia as R,oa as T,tc as g,uc as m,wa as E}from"./chunk-K5JCOZWZ.js";import{i as v}from"./chunk-66YHNWRR.js";b("@ui5/webcomponents-theming","sap_horizon",()=>v(null,null,function*(){return $}));b("@ui5/webcomponents","sap_horizon",()=>v(null,null,function*(){return F}),"host");var Y=`:host{-webkit-tap-highlight-color:rgba(0,0,0,0)}:host(:not([hidden])){display:block;width:100%}.ui5-avatar-group-items:focus{outline:none}:host([type="Group"][desktop]) .ui5-avatar-group-items:focus,:host([type="Group"]) .ui5-avatar-group-items:focus-visible{outline:var(--_ui5_avatar_outline);outline-offset:var(--_ui5_avatar_focus_offset);border-radius:var(--_ui5_avatar_group_focus_border_radius)}.ui5-avatar-group-root{display:flex;padding:var(--_ui5_avatar_group_padding)}.ui5-avatar-group-items{white-space:nowrap;position:relative;display:inline-flex}:host([type="Group"]) .ui5-avatar-group-items{cursor:pointer}:host([type="Group"]) ::slotted([ui5-button]),:host([type="Group"]) ::slotted([ui5-avatar]),:host([type="Group"]) .ui5-avatar-group-overflow-btn{pointer-events:none}.ui5-avatar-group-overflow-btn{overflow:visible}.ui5-avatar-group-overflow-btn::part(button){min-width:auto}::slotted([ui5-button]:not([hidden])),.ui5-avatar-group-overflow-btn:not([hidden]){--_ui5_button_focused_border: var(--_ui5_avatar_group_button_focus_border);--_ui5_button_base_padding: 0;border-radius:50%;display:inline-flex;text-overflow:initial;z-index:0}::slotted([ui5-button][desktop]:focus),.ui5-avatar-group-overflow-btn[desktop]:focus{outline:var(--_ui5_avatar_outline);outline-offset:var(--_ui5_avatar_overflow_button_focus_offset)}.ui5-avatar-group-overflow-btn::part(button):focus-visible:after{outline:var(--_ui5_avatar_outline);outline-offset:var(--_ui5_avatar_focus_offset);border-radius:50%}.ui5-avatar-group-overflow-btn.ui5-avatar-group-overflow-btn-xs{height:2rem;width:2rem;min-width:2rem;font-size:.75rem}::slotted([ui5-button]),.ui5-avatar-group-overflow-btn.ui5-avatar-group-overflow-btn-s{height:3rem;width:3rem;min-width:3rem;font-size:1.125rem}.ui5-avatar-group-overflow-btn.ui5-avatar-group-overflow-btn-m{height:4rem;width:4rem;min-width:4rem;font-size:1.625rem}.ui5-avatar-group-overflow-btn.ui5-avatar-group-overflow-btn-l{height:5rem;width:5rem;min-width:5rem;font-size:2rem}.ui5-avatar-group-overflow-btn.ui5-avatar-group-overflow-btn-xl{height:7rem;width:7rem;min-width:7rem;font-size:2.75rem}
`;function G(){return d("div",{class:"ui5-avatar-group-root",children:W("div",{class:"ui5-avatar-group-items",role:this._role,tabindex:this._groupTabIndex,"aria-label":this._ariaLabelText,"aria-haspopup":this._containerAriaHasPopup,onClick:this._onClick,onKeyUp:this._onkeyup,onKeyDown:this._onkeydown,onFocusIn:this._onfocusin,children:[d("slot",{onClick:this.onAvatarClick,"onui5-click":this.onAvatarUI5Click}),this._customOverflowButton?d("slot",{onClick:this.onOverflowButtonClick,name:"overflowButton"}):d(q,{onClick:this.onOverflowButtonClick,accessibilityAttributes:this._overflowButtonAccAttributes,accessibleName:this._overflowButtonAriaLabelText,hidden:this._overflowBtnHidden,nonInteractive:this._isGroup,class:{"ui5-avatar-group-overflow-btn":!0,"ui5-avatar-group-overflow-btn-xs":this.firstAvatarSize===s.XS,"ui5-avatar-group-overflow-btn-s":this.firstAvatarSize===s.S,"ui5-avatar-group-overflow-btn-m":this.firstAvatarSize===s.M,"ui5-avatar-group-overflow-btn-l":this.firstAvatarSize===s.L,"ui5-avatar-group-overflow-btn-xl":this.firstAvatarSize===s.XL},children:this._overflowButtonText})]})})}var h=function(l,t,e,i){var r=arguments.length,o=r<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(l,t,e,i);else for(var f=l.length-1;f>=0;f--)(u=l[f])&&(o=(r<3?u(o):r>3?u(t,e,o):u(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},c,Z="ui5-avatar-group-overflow-btn",J=`.${Z}`,Q={[s.XS]:{[n.Individual]:"0.0625rem",[n.Group]:"-0.5rem"},[s.S]:{[n.Individual]:"0.125rem",[n.Group]:"-1.25rem"},[s.M]:{[n.Individual]:"0.125rem",[n.Group]:"-1.625rem"},[s.L]:{[n.Individual]:"0.125rem",[n.Group]:"-2rem"},[s.XL]:{[n.Individual]:"0.25rem",[n.Group]:"-2.75rem"}},a=c=class extends S{constructor(){super(),this.type="Group",this.accessibilityAttributes={},this._colorIndex=0,this._hiddenItems=0,this._itemNavigation=new X(this,{getItemsCallback:()=>this._isGroup?[]:this.items.slice(0,this._hiddenStartIndex)}),this._onResizeHandler=this._onResize.bind(this)}get hiddenItems(){return this.items.slice(this._hiddenStartIndex)}get colorScheme(){return this.items.map(t=>t.effectiveBackgroundColor)}get _customOverflowButton(){return this.overflowButton.length?this.overflowButton[0]:void 0}get _ariaLabelText(){if(this.accessibleName||this.accessibleNameRef)return K(this);let t=this.hiddenItems.length,e=this._isGroup?M:U,i=c.i18nBundle.getText(e);return i+=` ${c.i18nBundle.getText(j,this._itemsCount-t,t)}`,this._isGroup?i+=` ${c.i18nBundle.getText(x)}`:i+=` ${c.i18nBundle.getText(V)}`,i}get _overflowButtonAriaLabelText(){return this._isGroup?void 0:c.i18nBundle.getText(x)}get _containerAriaHasPopup(){return this._isGroup?this._getAriaHasPopup():void 0}get _overflowButtonAccAttributes(){return{hasPopup:this._isGroup?void 0:this._getAriaHasPopup()}}get _role(){return this._isGroup?"button":"group"}get _hiddenStartIndex(){return this._itemsCount-this._hiddenItems}get _overflowBtnHidden(){return this._hiddenItems===0}get _isGroup(){return this.type===n.Group}get _itemsCount(){return this.items.length}get _groupTabIndex(){return this._isGroup?0:-1}get _overflowButton(){return this.shadowRoot.querySelector(J)}get _overflowButtonEffectiveWidth(){let t=this._customOverflowButton?this._customOverflowButton:this._overflowButton;if(!t)return 0;if(this._isGroup){let e=this.items[1],i=e.offsetLeft-this.offsetLeft;return(!e||e.hidden)&&(e=t),this.effectiveDir==="rtl"?this._getWidthToItem(e):i}return t.offsetWidth}get firstAvatarSize(){return this.items[0]?.size??s.S}onAfterRendering(){this._overflowItems()}onBeforeRendering(){this._customOverflowButton&&(this._customOverflowButton.nonInteractive=this._isGroup),this._prepareAvatars()}onEnterDOM(){N()&&this.setAttribute("desktop",""),y.register(this,this._onResizeHandler)}onExitDOM(){y.deregister(this,this._onResizeHandler)}_onResize(){this._overflowItems()}_onkeydown(t){this._isGroup&&(H(t)?this._fireGroupEvent(t.target):I(t)&&t.preventDefault())}_onkeyup(t){!t.shiftKey&&I(t)&&this._isGroup&&(this._fireGroupEvent(t.target),t.preventDefault())}_fireGroupEvent(t){let e=t.classList.contains(Z)||t===this._customOverflowButton;this.fireDecoratorEvent("click",{targetRef:t,overflowButtonClicked:e})}_onClick(t){t.stopPropagation(),this._isGroup&&this._fireGroupEvent(t.target)}onAvatarClick(t){t.stopPropagation(),this.fireDecoratorEvent("click",{targetRef:t.target,overflowButtonClicked:!1})}onAvatarUI5Click(t){t.stopPropagation()}onOverflowButtonClick(t){t.stopPropagation(),this.fireDecoratorEvent("click",{targetRef:t.target,overflowButtonClicked:!0})}_prepareAvatars(){this._colorIndex=0,this.items.forEach((t,e)=>{let i=this._getNextBackgroundColor();t.interactive=!this._isGroup,t.getAttribute("_color-scheme")===B.Auto&&t.setAttribute("_color-scheme",B[`Accent${i}`]),e!==this._itemsCount-1||this._customOverflowButton?t.style.marginInlineEnd=Q[t.effectiveSize][this.type]:t.style.marginInlineEnd=""})}_onfocusin(t){this._itemNavigation.setCurrentItem(t.target)}getFocusDomRef(){return this._itemNavigation._getCurrentItem()}_getWidthToItem(t){let e=this.effectiveDir==="rtl",i=t.offsetLeft-this.offsetLeft;if(e){let r=t.offsetParent;return r?r.offsetWidth-t.offsetLeft-t.offsetWidth:0}return i}_overflowItems(){if(this.items.length<2){this._setHiddenItems(0);return}let t=0;for(let e=0;e<this._itemsCount;e++){let i=this.items[e];i.hidden=!1;let r=this._getWidthToItem(i)+i.offsetWidth;if((e!==this._itemsCount-1||this._customOverflowButton)&&(r+=this._overflowButtonEffectiveWidth),r>this.offsetWidth){t=this._itemsCount-e;break}}this._setHiddenItems(t)}_getNextBackgroundColor(){return++this._colorIndex>10&&(this._colorIndex=1),this._colorIndex}_setHiddenItems(t){let e=this._hiddenItems!==t;this._hiddenItems=t,this.items.forEach((i,r)=>{i.hidden=r>=this._hiddenStartIndex}),this._overflowButtonText=`+${t>99?99:t}`,e&&this.fireDecoratorEvent("overflow")}_getAriaHasPopup(){return this.accessibilityAttributes.hasPopup}};h([p()],a.prototype,"type",void 0);h([p({type:Object})],a.prototype,"accessibilityAttributes",void 0);h([p({noAttribute:!0})],a.prototype,"_overflowButtonText",void 0);h([p()],a.prototype,"accessibleName",void 0);h([p()],a.prototype,"accessibleNameRef",void 0);h([w({type:HTMLElement,default:!0})],a.prototype,"items",void 0);h([w()],a.prototype,"overflowButton",void 0);h([P("@ui5/webcomponents")],a,"i18nBundle",void 0);a=c=h([D({tag:"ui5-avatar-group",renderer:z,template:G,styles:Y}),A("click"),A("overflow")],a);a.define();var tt=["*"],St=(()=>{class l{constructor(){this.type=m("Group"),this.accessibilityAttributes=m({}),this.accessibleName=m(),this.accessibleNameRef=m(),this.ui5Click=g(),this.ui5Overflow=g(),this.slots=[{name:"default",description:`Defines the items of the component. Use the \`ui5-avatar\` component as an item.

**Note:** The UX guidelines recommends using avatars with "Circle" shape.

Moreover, if you use avatars with "Square" shape, there will be visual inconsistency
as the built-in overflow action has "Circle" shape.`},{name:"overflowButton",description:`Defines the overflow button of the component.

**Note:** We recommend using the \`ui5-button\` component.

**Note:** If this slot is not used, the component will display the built-in overflow button.`,since:"1.0.0-rc.13"}],this.elementRef=_(E),this.injector=_(R)}get hiddenItems(){return this.element?.hiddenItems??[]}get colorScheme(){return this.element?.colorScheme??[]}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let e=this.element,i=["type","accessibilityAttributes","accessibleName","accessibleNameRef"];for(let o of i){let u=o.replace(/-./g,f=>f[1].toUpperCase());this[u]&&typeof this[u]=="function"&&C(this.injector,()=>{T(()=>{let f=this[u]();e&&(e[o]=f)})})}let r=["ui5Click","ui5Overflow"];for(let o of r){let u=o.replace("ui5","").replace(/([A-Z])/g,"-$1").toLowerCase().substring(1);this[o]&&typeof this[o].emit=="function"&&e.addEventListener&&e.addEventListener(u,f=>{this[o].emit(f)})}}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275cmp=O({type:l,selectors:[["ui5-avatar-group"],["","ui5-avatar-group",""]],inputs:{type:[1,"type"],accessibilityAttributes:[1,"accessibilityAttributes"],accessibleName:[1,"accessibleName"],accessibleNameRef:[1,"accessibleNameRef"]},outputs:{ui5Click:"ui5Click",ui5Overflow:"ui5Overflow"},exportAs:["ui5AvatarGroup"],ngContentSelectors:tt,decls:1,vars:0,template:function(i,r){i&1&&(k(),L(0))},encapsulation:2,changeDetection:0})}}return l})();export{St as a};
