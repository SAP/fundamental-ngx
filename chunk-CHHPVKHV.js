import{a as gt}from"./chunk-VKK4CLTZ.js";import"./chunk-N3TKPYXS.js";import{e as Ro,f as Wo,g as Uo,h as wt,j as zo,l as Oo,m as jo}from"./chunk-FTIMG6XI.js";import{b as Go,c as Qo,d as Ho,e as qo}from"./chunk-VWRWHNE3.js";import{a as Zo,b as Ko}from"./chunk-K6IDVYCL.js";import{a as Se}from"./chunk-7WSOI5WV.js";import{b as vt,c as Ge}from"./chunk-VC5FX4XF.js";import{Ea as we,Fa as Oe,Le as Po,Me as Vo,Ne as Bo,Oc as Fo,Oe as Lo,Pb as mt,Pc as No,gb as Lt,h as rt,jc as Ze,ka as qe,nc as _t,qa as So,qe as Mo,re as ut,se as ko,te as Io,ub as To,wa as xo,xc as Eo,ya as ze,yc as Do,zc as Ke}from"./chunk-4UUT275F.js";import{c as ho,d as Co,e as bo,h as Ao,t as Bt}from"./chunk-4VLLCJHB.js";import{V as X,ma as ft,ra as yo,sa as je,ya as ct}from"./chunk-PA3577HZ.js";import{$b as ve,A as Ht,Ab as c,Ae as nt,Ag as _o,B as et,Bb as io,Bc as fe,Bd as K,Cb as no,D as Mt,Da as Ce,Db as ro,Dd as fo,Eb as q,Fb as Q,G as kt,Gb as H,Gf as mo,Ha as p,Id as ke,Ig as Pe,Jc as Me,Jg as Ve,Kb as U,Kc as so,Kh as lt,Lb as I,Mb as Z,Mc as it,N as It,Na as L,Ng as Ae,P as De,Pb as m,Pg as uo,Q as qt,Qa as P,Qb as z,Qh as te,Ra as oo,Rb as A,Sa as ao,Sb as be,Ub as x,Ug as Be,Vb as y,Vh as oe,W as Pt,Wa as R,Wb as T,Wg as Le,X as Zt,Xd as O,Xg as vo,Ya as V,_ as Kt,_b as lo,_g as wo,a as ee,ab as ue,ac as se,b as de,ba as Yt,bb as Vt,bc as po,bh as Re,ca as Jt,cb as w,ce as co,ci as dt,di as pt,eb as g,ei as st,fa as Xt,gb as pe,gh as We,h as ge,hb as Y,ia as _,ib as J,ic as h,ja as u,jb as v,jc as b,k as Qt,ka as $t,kb as d,kc as Ne,ki as ae,lb as s,lh as Ue,ma as eo,mb as k,nh as go,oa as to,oc as re,qb as ot,rb as at,ub as S,va as Fe,x as he,xb as C,ya as tt,zf as Ie}from"./chunk-744GM5U3.js";function ie(e){return e.status==="approved"}function ht(e){return e.status!=="not started"}function Yo(e){return e?.name}function Ct(e){return e?.name}function Jo(e){return e?.id}function bt(e,n){return e.name.toLowerCase().indexOf(n.toLowerCase())>-1}function ce(e,n){return n?.id??e}function Te(e){return e.columns.reduce((n,o)=>n.concat(o.nodes),[])}function Xo(e,n){return n.filter(o=>Ee(o,e.id))}function At(){return{id:`blankId${(Math.random()*1e3).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",blank:!0}}function $o(){return{id:`spaceId${(Math.random()*1e3).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",space:!0}}function Ee(e,n){return e.targets.includes(n)}function ta(e){let n={columns:[],errors:!1};if(!e.length)return n;let o=_a(e),i=ua(e);if(!o.length||!i.length)return console.warn("Err: Not possible to build graph because root or final nodes aren't present!"),n.errors=!0,n;let a=va(o,e);if(!a.length)return console.warn("Err: Not possible to build graph!"),n.errors=!0,n;let t=wa(a),r=ga(t),f=Ca(r),l=ba(f),M=Aa(l),B=Sa(M),j=xa(B),G=ya(j);return n.columns=Ea(G),n}function oa(e){let n=Te(e),o={};return e.columns.forEach((i,a)=>{i.nodes.forEach((t,r)=>{let f=Xo(t,n),l=f.length?f.every(ye=>ie(ye)):!1,M=!f.length&&!t.space,B=!t.targets.length&&!t.space,j=f.length>1,G=a===0&&i.nodes.length>1&&r===0,W=a===e.columns.length-1&&i.nodes.length>1&&r===0;o[t.id]={parents:f,isRoot:M,isFinal:B,parallelStart:t.targets.length>1,parallelEnd:j,columnIndex:a,nodeIndex:r,canAddNodeBefore:!ht(t)&&!l,canAddNodeBeforeAll:M&&G,canAddNodeAfter:!ie(t),canAddNodeAfterAll:!ie(t)&&(B&&W||j&&t.blank),canAddParallel:!ie(t),isVerticalLineBeforeSolid:t.space&&e.columns[a-1]?.allNodesApproved,isVerticalLineAfterSolid:t.space&&i.allNodesApproved,firstOfMultipleRootNodes:G,firstOfMultipleFinalNodes:W,rootNodesApproved:a===0&&i.allNodesApproved}})}),e.columns.forEach(i=>{i.nodes.forEach((a,t)=>{let r=o[a.id];r.isLastInParallel=o[a.targets[0]]?.parallelEnd,r.isFirstInParallel=o[r.parents[0]?.id]?.parallelStart;let f=i.index,l=f?e.columns[f-1]:void 0,M=f?e.columns[f+1]:void 0,B=l?.nodes[t],j=M?.nodes[t];r.renderAddNodeAfterButton=r.canAddNodeAfter&&(r.isFinal||r.parallelStart||r.isLastInParallel||j?.blank);let G=M?.nodes;if(r.parallelStart&&G){let ye=G.filter(_e=>a.targets.includes(_e.id)),Nt=G.findIndex(_e=>_e.id===ye[0].id),me=G.findIndex(_e=>_e.id===ye[ye.length-1].id);for(let _e=Nt+1;_e<=me;_e++)o[G[_e].id].renderVerticalLineBefore=!0}let W=l?.nodes;if(r.parallelEnd&&W){let ye=W.findIndex(me=>me.id===r.parents[0].id),Nt=W.findIndex(me=>me.id===r.parents[r.parents.length-1].id);for(let me=ye+1;me<=Nt;me++)o[W[me].id].renderVerticalLineAfter=!0}r.renderVerticalLineBefore=r.renderVerticalLineBefore?!0:t>0&&!B,r.renderVerticalLineAfter=r.renderVerticalLineAfter?!0:t>0&&!j})}),o}function _a(e){return e.filter(n=>e.every(o=>!Ee(o,n.id)))}function ua(e){return e.filter(n=>!n.targets.length)}function va(e,n){let o=[],i=[];for(let a=0;a<e.length;a++)for(i.push([e[a]]);i.length;){let t=i.pop(),r;if(t&&(r=t[t.length-1]),!r)return[];r.targets.length?r.targets.forEach(f=>{let l=n.find(B=>B.id===f);if(!l)return;let M=[...t,l];i.push(M)}):o.push(t)}return o}function wa(e){let n=[];return e.forEach(o=>{let i=o.length-1;for(let a=o.length-1;a>0&&o[a].blank;--a)i=a-1;o[i].targets=[],n.push(o.slice(0,i+1))}),n}function ga(e){let n=[],o=e.map(a=>a.length),i=Math.max(...o);return e.forEach(a=>{if(a.length===i){n.push(a);return}a.forEach((t,r)=>{let f=ha(t,n);if(f.length&&f[0].id!==a[r+1]?.id){a.splice(r+1,0,...f);return}let l=e.map(B=>B.indexOf(t)),M=Math.max(...l);if(r<M){f=ea(M-r,a[r-1].status),f[f.length-1].targets=[t.id],a[r-1].targets=[f[0].id],a.splice(r,0,...f);return}if(r===M&&r===a.length-1){f=ea(i-a.length,a[r].status),a[r].targets=[f[0].id],a.splice(r+1,0,...f);return}}),n.push(a)}),n}function ha(e,n){let o=[],i=n.find(a=>{let t=a.indexOf(e);return t>-1&&a[t+1]?.blank});if(i){let a=i.indexOf(e)+1,t=i.findIndex((r,f)=>f>a&&!r.blank);o.push(...i.slice(a,t>0?t:void 0))}return o}function ea(e,n){let o=[],i,a;for(let t=e;t>0;t--)i=Object.assign({},At(),{targets:a?[a]:[],status:n}),a=i.id,o.unshift(i);return o}function Ca(e){if(e.length===1)return e;let n=[],o=0;e.forEach((t,r)=>{for(let f=0;f<e.length;f++)if(r!==f&&!n.some(l=>r===l[1]&&f===l[0])){o=0;for(let l=0;l<t.length;l++)t[l].id===e[f][l].id&&o++;n.push([r,f,o])}}),n=n.sort((t,r)=>t[2]>r[2]?-1:1);let i=[],a=[];return n.forEach(t=>{i.some(r=>r===t[0])||(a.push(e[t[0]]),i.push(t[0])),i.some(r=>r===t[1])||(a.push(e[t[1]]),i.push(t[1]))}),a}function ba(e){let n=[];return e.forEach((o,i)=>{o.forEach(a=>{e.forEach((t,r)=>{r!==i&&t.indexOf(a)>-1&&t.splice(t.indexOf(a),1,$o())})}),n.push(o)}),n}function Aa(e){return e.reduce((n,o)=>(o.every(i=>i.space)||n.push(o),n),[])}function Sa(e){let n=[],o=[];for(let i=0;i<e[0].length;i++){o=[];for(let a=0;a<e.length;a++)o.push(e[a][i]);n.push(o)}return n}function xa(e){let n=[];return e.forEach(o=>{let i;for(let a=o.length-1;a>=0;a--)if(!o[a].space){i=a;break}i<o.length?n.push(o.slice(0,i+1)):n.push(o)}),n}function ya(e){let n=[];return e.forEach(o=>{o.every(a=>a.blank||a.space)?o.forEach(a=>{a.blank&&Ta(a.id,a.targets,e)}):n.push(o)}),n}function Ta(e,n,o){o.forEach(i=>{i.forEach(a=>{Ee(a,e)&&(a.targets=a.targets.filter(t=>t!==e),a.targets.push(...n))})})}function Ea(e){let n=[];return e.forEach((o,i)=>{o.forEach(a=>a.colIndex=i),n.push({nodes:o,index:i,allNodesApproved:o.every(a=>ie(a))})}),n}var Da=e=>({image:"",ariaLabel:e});function Fa(e,n){if(e&1){let o=S();d(0,"div",1)(1,"fd-radio-button",2),T("ngModelChange",function(a){_(o);let t=c();return y(t.selectedTeamId,a)||(t.selectedTeamId=a),u(a)}),C("click",function(){let a=_(o).$implicit,t=c();return u(t.onTeamRadioClick.emit(a))}),s(),d(2,"fdp-standard-list-item",3),C("click",function(){let a=_(o).$implicit,t=c();return u(t._showTeamDetails(a))}),s(),k(3,"fd-icon",4),s()}if(e&2){let o=n.$implicit,i=n.$index,a=c();p(),v("value",o.id)("name","team-radio"+i),x("ngModel",a.selectedTeamId),ue("id","team-radio"+i),p(),v("avatar",se(9,Da,o.name))("description",o.description||o.members.length+" members")("title",o.name),ue("id","approval-team-"+o.id),p(),v("glyph","navigation-"+(a.isRtl?"left":"right")+"-arrow")}}var St=(()=>{let n=class n{constructor(){this.teams=[],this.isRtl=!1,this.onTeamClick=new V,this.onTeamRadioClick=new V,this._trackByFn=ce}_showTeamDetails(i){this.onTeamClick.emit(i)}};n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=P({type:n,selectors:[["fdp-approval-flow-team-list"]],hostAttrs:[1,"fdp-approval-flow-team-list"],inputs:{teams:"teams",isRtl:"isRtl",selectedTeamId:"selectedTeamId"},outputs:{onTeamClick:"onTeamClick",onTeamRadioClick:"onTeamRadioClick"},decls:4,vars:1,consts:[["fdCompact","",3,"hasByLine"],["fd-form-item",""],[3,"ngModelChange","click","value","name","ngModel"],[3,"click","avatar","description","title"],[3,"glyph"]],template:function(a,t){a&1&&(d(0,"fdp-list",0)(1,"fd-form-group"),Y(2,Fa,4,11,"div",1,t._trackByFn,!0),s()()),a&2&&(v("hasByLine",!0),p(2),J(t.teams))},dependencies:[Ze,K,ft,je,mt,ae,te,oe,Ke,Ae],styles:[`.fdp-approval-flow-team-list .fd-form-item{position:relative;margin-bottom:0}.fdp-approval-flow-team-list .fd-form-item fd-radio-button{position:absolute;z-index:1;top:1.4rem}.fdp-approval-flow-team-list .fd-form-item .fd-list__item{padding-left:2rem!important;cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-icon{position:absolute;right:1rem;top:2rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-avatar{color:#fff;color:var(--sapBaseColor, #fff)}[dir=rtl] .fdp-approval-flow-team-list .fd-form-item fd-icon,.fdp-approval-flow-team-list[dir=rtl] .fd-form-item fd-icon{right:auto;left:1rem}[dir=rtl] .fdp-approval-flow-team-list .fd-list__item,.fdp-approval-flow-team-list[dir=rtl] .fd-list__item{padding-right:2rem!important;padding-left:0!important}
`],encapsulation:2,changeDetection:0});let e=n;return e})();var Na=e=>({data:e});function Ma(e,n){}function ka(e,n){if(e&1&&(R(0,Ma,0,0,"ng-template",4),h(1,"async")),e&2){let o=c();v("ngTemplateOutlet",o.detailsTemplate)("ngTemplateOutletContext",se(4,Na,b(1,2,o.details)))}}var xt=(()=>{let n=class n{};n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=P({type:n,selectors:[["fdp-approval-flow-user-details"]],hostAttrs:[1,"fdp-approval-flow-user-details"],inputs:{user:"user",details:"details",detailsTemplate:"detailsTemplate"},decls:8,vars:4,consts:[[1,"fdp-approval-flow-user-details__user-info"],["size","s",3,"image"],[1,"fdp-approval-flow-user-details__name"],[1,"fdp-approval-flow-user-details__description"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(a,t){a&1&&(d(0,"div",0),k(1,"fd-avatar",1),d(2,"div")(3,"div",2),m(4),s(),d(5,"div",3),m(6),s()()(),w(7,ka,2,6,null,4)),a&2&&(p(),v("image",t.user.imgUrl),p(3),z(t.user.name),p(2),z(t.user.description),p(),g(t.detailsTemplate?7:-1))},dependencies:[_t,Me,so],styles:[`.fdp-approval-flow-user-details__user-info{display:flex;align-items:center;margin-bottom:1rem}.fdp-approval-flow-user-details__name{font-size:1rem}.fdp-approval-flow-user-details__description{color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70)}
`],encapsulation:2,changeDetection:0});let e=n;return e})();var Ia=e=>({count:e}),Pa=(e,n)=>({image:e,ariaLabel:n});function Va(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.userListSelectedItemsCountSingular")," ")}function Ba(e,n){if(e&1&&(m(0),h(1,"fdTranslate")),e&2){let o=c(2);A(" ",Ne(1,1,"platformApprovalFlow.userListSelectedItemsCountPlural",se(4,Ia,o._allSelectedUsers.length))," ")}}function La(e,n){if(e&1&&(d(0,"div",0),w(1,Va,2,3)(2,Ba,2,6),s()),e&2){let o=c();p(),g(o._allSelectedUsers.length===1?1:2)}}function Ra(e,n){if(e&1){let o=S();d(0,"fdp-standard-list-item",3),C("click",function(a){let t=_(o).$implicit,r=c();return a.stopPropagation(),u(r.onUserClick.emit(t))}),s()}if(e&2){let o=n.$implicit,i=c();v("id",i._idPrefix+o.id)("avatar",po(6,Pa,o.imgUrl,o.name))("description",o.description)("ariaLabel",o.name)("title",o.name),ue("id",i._idPrefix+o.id)}}var aa=100,Wa=10,He=(()=>{let n=class n{constructor(i){this._cdr=i,this.users=[],this.selectedUsers=[],this.isSelectable=!0,this.onUserClick=new V,this.onSelectionChange=new V,this._selectedItems=[],this._idPrefix="approval-node-user-",this._trackByFn=ce,this._displayUsers=[],this._allSelectedUsers=[],this._destroyed$=Xt(to),this._dontCallSelection=!1}ngAfterViewInit(){this.selectedUsers.length&&(this._selectItems(this.selectedUsers),this._allSelectedUsers=[...this.selectedUsers],this._cdr.markForCheck()),this.isSelectable&&this._listenToListItemChange()}ngOnChanges(i){i.users&&this._collectDataProgressive()}ngOnDestroy(){this._killInterval()}_onSelect(i){if(!this._dontCallSelection){if(this._selectedItems=i.selectedItems,i.removed){let a=i.removed.map(t=>t.id);this._allSelectedUsers=this._allSelectedUsers.filter(t=>!a.includes(`${this._idPrefix+t.id}`))}i.added&&this._allSelectedUsers.push(...this._getUsersFromSelectedItems(i.added)),this.onSelectionChange.emit(this._allSelectedUsers),this._cdr.detectChanges()}}_getUsersFromSelectedItems(i){return i.map(a=>this.users.find(t=>`${this._idPrefix+t.id}`===a.id)).filter(a=>!!a)}_collectDataProgressive(){if(this._killInterval(),this._displayUsers=[],!this.users?.length)return;let i={currentIndex:0};this._userCollectorIntervalFn(i),this._intervalID=window.setInterval(this._userCollectorIntervalFn.bind(this),Wa,i)}_userCollectorIntervalFn(i){let a=i.currentIndex+aa,t=[];for(let r=i.currentIndex;r<=a;r++){if(r>=this.users.length){this._killInterval();break}t.push(this.users[r])}i.currentIndex+=aa,this._displayUsers.push(...t),this._cdr.markForCheck()}_killInterval(){this._intervalID&&clearInterval(this._intervalID)}_listenToListItemChange(){this.listItems.changes.pipe(fo(this._destroyed$)).subscribe(()=>{this._selectItems(this._allSelectedUsers),this._cdr.detectChanges()})}_selectItems(i){this._dontCallSelection=!0;let a=i.map(r=>this._idPrefix+r.id),t=this.listItems.filter(r=>a.includes(r.id));this.list._clearSelection(),this._selectedItems=[...t],this._selectedItems.forEach(r=>{r._selected=!0,this.list._selectItem(r)}),this._dontCallSelection=!1}};n.\u0275fac=function(a){return new(a||n)(L(fe))},n.\u0275cmp=P({type:n,selectors:[["fdp-approval-flow-user-list"]],viewQuery:function(a,t){if(a&1&&(q(Ze,5),q(Ke,5)),a&2){let r;Q(r=H())&&(t.list=r.first),Q(r=H())&&(t.listItems=r)}},hostAttrs:[1,"fdp-approval-flow-user-list"],inputs:{users:"users",selectedUsers:"selectedUsers",isSelectable:"isSelectable"},outputs:{onUserClick:"onUserClick",onSelectionChange:"onSelectionChange"},features:[Fe],decls:4,vars:7,consts:[[1,"fdp-approval-flow-user-list__selected-count"],[3,"ngModelChange","selectedItemChange","selectionMode","selection","navigationIndicator","hasByLine","ngModel","selectedItems"],[3,"id","avatar","description","ariaLabel","title"],[3,"click","id","avatar","description","ariaLabel","title"]],template:function(a,t){a&1&&(w(0,La,3,1,"div",0),d(1,"fdp-list",1),T("ngModelChange",function(f){return y(t._selectedItems,f)||(t._selectedItems=f),f}),C("selectedItemChange",function(f){return t._onSelect(f)}),Y(2,Ra,1,9,"fdp-standard-list-item",2,t._trackByFn,!0),s()),a&2&&(g(t._allSelectedUsers.length?0:-1),p(),v("selectionMode",t.isSelectable?"multi":"none")("selection",t.isSelectable)("navigationIndicator",!0)("hasByLine",!0),x("ngModel",t._selectedItems),v("selectedItems",t._selectedItems),p(),J(t._displayUsers))},dependencies:[Ze,ae,te,oe,Ke,X],styles:[`.fdp-approval-flow-user-list{display:block;margin-top:-1rem}.fdp-approval-flow-user-list__selected-count{line-height:2rem;margin:0 -1rem;padding:0 1rem;background:#f2f2f2;background:var(--sapList_HeaderBackground, #f2f2f2)}
`],encapsulation:2,changeDetection:0});let e=n;return e})();var ne=function(e){return e.SELECT_TEAM="SELECT_TEAM",e.SELECT_USER="SELECT_USER",e.VIEW_TEAM_MEMBERS="VIEW_TEAM_MEMBERS",e.USER_DETAILS="USER_DETAILS",e}(ne||{}),yt=(()=>{let n=class n{constructor(){this.onViewChange=new V}get isUserDetailsMode(){return this.currentView===ne.USER_DETAILS}get isTeamMembersMode(){return this.currentView===ne.VIEW_TEAM_MEMBERS}get isSelectUserMode(){return this.currentView===ne.SELECT_USER}get isSelectTeamMode(){return this.currentView===ne.SELECT_TEAM}get team(){return this.selectedTeam}setCurrentView(i){this.currentView=i,this.onViewChange.emit()}resetView(){this.currentView=void 0,this.onViewChange.emit()}selectTeam(i){this.selectedTeam=i}resetTeam(){this.selectedTeam=void 0}};n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=Yt({token:n,factory:n.\u0275fac});let e=n;return e})();var za=()=>[];function Oa(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.addNodeDialogHeaderAddApprovers")," ")}function ja(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.addNodeDialogHeaderEditApprover")," ")}function Ga(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.addNodeDialogHeaderAddApproverTeam")," ")}function Qa(e,n){if(e&1){let o=S();d(0,"fd-icon",3),C("click",function(){_(o);let a=c(2);return u(a._exitTeamMembersMode())}),s(),m(1)}if(e&2){let o=c(2);v("glyph",o._headerArrowGlyph),p(),be(" ",(o.viewService.team==null?null:o.viewService.team.name)??""," (",(o.viewService.team==null||o.viewService.team.members==null?null:o.viewService.team.members.length)??0,") ")}}function Ha(e,n){if(e&1){let o=S();d(0,"fd-icon",3),C("click",function(){_(o);let a=c(2);return u(a._exitUserDetailsMode())}),s(),m(1),h(2,"fdTranslate")}if(e&2){let o=c(2);v("glyph",o._headerArrowGlyph),p(),A(" ",b(2,2,"platformApprovalFlow.addNodeDialogHeaderDetail")," ")}}function qa(e,n){if(e&1){let o=S();d(0,"fdp-search-field",4),h(1,"fdTranslate"),C("inputChange",function(a){_(o);let t=c(2);return u(t._onSearchStringChange(a.text))}),s()}e&2&&v("placeholder",b(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",ve(4,za))}function Za(e,n){if(e&1&&(d(0,"p"),w(1,Oa,2,3),w(2,ja,2,3),w(3,Ga,2,3),w(4,Qa,2,3),w(5,Ha,3,4),s(),w(6,qa,2,5,"fdp-search-field",2)),e&2){let o=c();p(),g(!o._selectMode&&!o._data.isEdit?1:-1),p(),g(!o._selectMode&&o._data.isEdit?2:-1),p(),g(o.viewService.isSelectUserMode||o.viewService.isSelectTeamMode?3:-1),p(),g(o.viewService.isTeamMembersMode?4:-1),p(),g(o.viewService.isUserDetailsMode?5:-1),p(),g(o._selectMode&&!o._userToShowDetails?6:-1)}}function Ka(e,n){if(e&1&&(d(0,"li",9),m(1),h(2,"fdTranslate"),s()),e&2){let o=c().$implicit;v("value",o),p(),A(" ",b(2,2,"platformApprovalFlow.addNodeDialogNodeTypeSerial")," ")}}function Ya(e,n){if(e&1&&(d(0,"li",9),m(1),h(2,"fdTranslate"),s()),e&2){let o=c().$implicit;v("value",o),p(),A(" ",b(2,2,"platformApprovalFlow.addNodeDialogNodeTypeParallel")," ")}}function Ja(e,n){if(e&1&&w(0,Ka,3,4,"li",9)(1,Ya,3,4,"li",9),e&2){let o,i=n.$implicit,a=c(3);g((o=i)===a._nodeTypes.SERIAL?0:o===a._nodeTypes.PARALLEL?1:-1)}}function Xa(e,n){if(e&1){let o=S();d(0,"div",5)(1,"label",6),m(2),h(3,"fdTranslate"),s(),d(4,"fd-select",7),T("valueChange",function(a){_(o);let t=c(2);return y(t._nodeType,a)||(t._nodeType=a),u(a)}),Y(5,Ja,2,1,null,null,pe),s()()}if(e&2){let o=c(2);p(2),A(" ",b(3,2,"platformApprovalFlow.addNodeDialogNodeType")," "),p(2),x("value",o._nodeType),p(),J(o._nodeTypesArray)}}function $a(e,n){if(e&1&&(d(0,"li",9),m(1),h(2,"fdTranslate"),s()),e&2){let o=c().$implicit;v("value",o),p(),A(" ",b(2,2,"platformApprovalFlow.addNodeDialogApproverTypeUser")," ")}}function ei(e,n){if(e&1&&(d(0,"li",9),m(1),h(2,"fdTranslate"),s()),e&2){let o=c().$implicit;v("value",o),p(),A(" ",b(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamAnyone")," ")}}function ti(e,n){if(e&1&&(d(0,"li",9),m(1),h(2,"fdTranslate"),s()),e&2){let o=c().$implicit;v("value",o),p(),A(" ",b(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamEveryone")," ")}}function oi(e,n){if(e&1&&w(0,$a,3,4,"li",9)(1,ei,3,4,"li",9)(2,ti,3,4,"li",9),e&2){let o,i=n.$implicit,a=c(2);g((o=i)===a._approverTypes.SINGLE_USER?0:o===a._approverTypes.ANYONE?1:o===a._approverTypes.EVERYONE?2:-1)}}function ai(e,n){if(e&1){let o=S();d(0,"fd-multi-input",10),T("ngModelChange",function(a){_(o);let t=c(2);return y(t._selectedApprovers,a)||(t._selectedApprovers=a),u(a)}),C("openChange",function(){_(o);let a=c(2);return u(a._goToSelectMode())})("selectedChange",function(a){_(o);let t=c(2);return u(t._setSelectedApprovers(a))}),s()}if(e&2){let o=c(2);v("showAllButton",!1)("dropdownValues",o._selectedApprovers),x("ngModel",o._selectedApprovers),v("displayFn",o._displayUserFn)}}function ii(e,n){if(e&1){let o=S();d(0,"fd-multi-input",11),T("ngModelChange",function(a){_(o);let t=c(2);return y(t._selectedTeamArray,a)||(t._selectedTeamArray=a),u(a)}),C("openChange",function(){_(o);let a=c(2);return u(a._goToSelectMode())}),s()}if(e&2){let o=c(2);v("showAllButton",!1)("dropdownValues",o._selectedTeamArray),x("ngModel",o._selectedTeamArray),v("displayFn",o._displayTeamFn)}}function ni(e,n){if(e&1){let o=S();d(0,"div",5)(1,"fd-checkbox",12),T("ngModelChange",function(a){_(o);let t=c(2);return y(t._addToNextSerial,a)||(t._addToNextSerial=a),u(a)}),m(2),h(3,"fdTranslate"),s()()}if(e&2){let o=c(2);p(),x("ngModel",o._addToNextSerial),p(),A(" ",b(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}function ri(e,n){if(e&1){let o=S();d(0,"div",5)(1,"label",6),m(2),h(3,"fdTranslate"),s(),d(4,"fd-date-picker",13),T("ngModelChange",function(a){_(o);let t=c(2);return y(t._dueDate,a)||(t._dueDate=a),u(a)}),s()()}if(e&2){let o=c(2);p(2),z(b(3,3,"platformApprovalFlow.addNodeDialogDueDate")),p(2),v("state",o._dueDate?null:"error"),x("ngModel",o._dueDate)}}function li(e,n){if(e&1){let o=S();w(0,Xa,7,4,"div",5),d(1,"div",5)(2,"label",6),m(3),h(4,"fdTranslate"),s(),d(5,"fd-select",7),T("valueChange",function(a){_(o);let t=c();return y(t._approverType,a)||(t._approverType=a),u(a)}),Y(6,oi,3,1,null,null,pe),s()(),d(8,"div",5)(9,"label",6),m(10),h(11,"fdTranslate"),s(),w(12,ai,1,4,"fd-multi-input",8),w(13,ii,1,4,"fd-multi-input",8),s(),w(14,ni,4,4,"div",5),w(15,ri,5,5,"div",5)}if(e&2){let o=c();g(o._data.showNodeTypeSelect?0:-1),p(3),A(" ",b(4,8,"platformApprovalFlow.addNodeDialogApproverType")," "),p(2),x("value",o._approverType),p(),J(o._approverTypesArray),p(4),z(b(11,10,"platformApprovalFlow.addNodeDialogUserOrTeam")),p(2),g(o._isSingleUserMode?12:-1),p(),g(o._isSingleUserMode?-1:13),p(),g(o._nodeType===o._nodeTypes.PARALLEL?14:-1),p(),g(o._checkDueDate?15:-1)}}function di(e,n){if(e&1){let o=S();d(0,"fdp-approval-flow-team-list",17),C("onTeamClick",function(a){_(o);let t=c(3);return u(t._viewTeamMembers(a))})("onTeamRadioClick",function(a){_(o);let t=c(3);return u(t._setSelectedTeam(a))}),s()}if(e&2){let o=c(3);v("isRtl",o._data.rtl)("teams",o._teams)("selectedTeamId",o._selectedTeam==null?null:o._selectedTeam.id)}}function pi(e,n){e&1&&k(0,"fd-busy-indicator",16),e&2&&v("loading",!0)("block",!0)}function si(e,n){if(e&1&&w(0,di,1,3,"fdp-approval-flow-team-list",15)(1,pi,1,2,"fd-busy-indicator",16),e&2){let o=c(2);g(o._data.teamDataSource.isDataLoading?1:0)}}function fi(e,n){if(e&1){let o=S();d(0,"fdp-approval-flow-user-list",19),C("onUserClick",function(a){_(o);let t=c(3);return u(t._seeUserDetails(a))})("onSelectionChange",function(a){_(o);let t=c(3);return u(t._selectedApprovers=a)}),s()}if(e&2){let o=c(3);v("users",o.viewService.isSelectUserMode?o._approvers:o._filteredTeamMembers)("isSelectable",o.viewService.isSelectUserMode)("selectedUsers",o._selectedApprovers)}}function ci(e,n){e&1&&k(0,"fd-busy-indicator",16),e&2&&v("loading",!0)("block",!0)}function mi(e,n){if(e&1&&w(0,fi,1,3,"fdp-approval-flow-user-list",18)(1,ci,1,2,"fd-busy-indicator",16),e&2){let o=c(2);g(o.viewService.isSelectUserMode||!o._data.userDataSource.isDataLoading?0:1)}}function _i(e,n){if(e&1&&k(0,"fdp-approval-flow-user-details",14),e&2){let o=c(2);v("user",o._userToShowDetails)("detailsTemplate",o._data.userDetailsTemplate)("details",o._userToShowDetailsData$)}}function ui(e,n){if(e&1&&(w(0,si,2,1),w(1,mi,2,1),w(2,_i,1,3,"fdp-approval-flow-user-details",14)),e&2){let o=c();g(o.viewService.isSelectTeamMode?0:-1),p(),g(o.viewService.isSelectUserMode||o.viewService.isTeamMembersMode?1:-1),p(),g(o.viewService.isUserDetailsMode&&o._userToShowDetails?2:-1)}}function vi(e,n){if(e&1){let o=S();d(0,"fd-button-bar",20),h(1,"fdTranslate"),C("click",function(){_(o);let a=c();return u(a._submit())}),s(),d(2,"fd-button-bar",21),h(3,"fdTranslate"),C("click",function(){_(o);let a=c();return u(a.dialogRef.close())}),s()}if(e&2){let o=c();v("label",b(1,3,"platformApprovalFlow.addNodeAddActionBtnLabel"))("disabled",o._isMainSubmitButtonDisabled),p(2),v("label",b(3,5,"platformApprovalFlow.addNodeCancelActionBtnLabel"))}}function wi(e,n){if(e&1){let o=S();d(0,"fd-button-bar",20),h(1,"fdTranslate"),C("click",function(){_(o);let a=c(2);return u(a._confirmSelectedApprovers())}),s(),d(2,"fd-button-bar",21),h(3,"fdTranslate"),C("click",function(){_(o);let a=c(2);return u(a._exitSelectMode())}),s()}if(e&2){let o=c(2);v("label",b(1,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!o._selectedApprovers.length),p(2),v("label",b(3,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function gi(e,n){if(e&1){let o=S();d(0,"fd-button-bar",20),h(1,"fdTranslate"),C("click",function(){_(o);let a=c(2);return u(a._confirmSelectedTeam())}),s(),d(2,"fd-button-bar",21),h(3,"fdTranslate"),C("click",function(){_(o);let a=c(2);return u(a._exitSelectMode())}),s()}if(e&2){let o=c(2);v("label",b(1,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!o._selectedTeam&&!o.viewService.team),p(2),v("label",b(3,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function hi(e,n){if(e&1){let o=S();d(0,"fd-button-bar",21),h(1,"fdTranslate"),C("click",function(){_(o);let a=c(2);return u(a._exitTeamMembersMode())}),s()}e&2&&v("label",b(1,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel"))}function Ci(e,n){if(e&1){let o=S();d(0,"fd-button-bar",21),h(1,"fdTranslate"),C("click",function(){_(o);let a=c(2);return u(a._exitUserDetailsMode())}),s()}e&2&&v("label",b(1,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel"))}function bi(e,n){if(e&1&&(w(0,wi,4,7),w(1,gi,4,7),w(2,hi,2,3,"fd-button-bar",22),w(3,Ci,2,3,"fd-button-bar",22)),e&2){let o=c();g(o.viewService.isSelectUserMode?0:-1),p(),g(o.viewService.isSelectTeamMode?1:-1),p(),g(o.viewService.isTeamMembersMode?2:-1),p(),g(o.viewService.isUserDetailsMode?3:-1)}}var le=function(e){return e.SERIAL="SERIAL",e.PARALLEL="PARALLEL",e}(le||{}),Ye=function(e){return e.SINGLE_USER="SINGLE_USER",e.ANYONE="ANYONE",e.EVERYONE="EVERYONE",e}(Ye||{}),Je=(()=>{let n=class n{constructor(i,a,t){this.dialogRef=i,this.viewService=a,this._cdr=t,this._nodeType=le.SERIAL,this._nodeTypes=le,this._nodeTypesArray=Object.keys(le),this._approverType=Ye.SINGLE_USER,this._approverTypes=Ye,this._approverTypesArray=Object.keys(Ye),this._dueDate=Lt.getNow(),this._selectMode=!1,this._approvers=[],this._teams=[],this._selectedApprovers=[],this._selectedTeamArray=[],this._selectedTeamMembers=[],this._filteredTeamMembers=[],this._checkDueDate=!1,this._displayUserFn=Ct,this._displayTeamFn=Yo,this._trackByFn=ce,this._addToNextSerial=!1}get _data(){return this.dialogRef.data}get _isSingleUserMode(){return this._approverType===this._approverTypes.SINGLE_USER}get _isMainSubmitButtonDisabled(){return!(this._isSingleUserMode?this._selectedApprovers:this._selectedTeamArray).length||this._checkDueDate&&!this._dueDate}get _headerArrowGlyph(){return"navigation-"+(this._data.rtl?"right":"left")+"-arrow"}ngOnInit(){this._data.teamDataSource.match(),this._data.userDataSource.match();let i=this._data.teamDataSource.open(),a=this._data.userDataSource.open();switch(this._dataSourceSub=et([i,a]).subscribe(([t,r])=>{if(this._teams=t,this._approvers=r,this._data.isEdit){this._checkDueDate=!!this._data.checkDueDate,this._checkDueDate&&this._data.node?.dueDate&&(this._dueDate=Lt.getFdDateByDate(new Date(this._data.node.dueDate))),this._selectedApprovers=[...this._data.node?.approvers??[]];let f=this._data.node?.approvalTeamId&&this._teams.find(l=>l.id===this._data.node?.approvalTeamId);f&&(this.viewService.selectTeam(f),this._selectedTeam=f,this._selectedTeamArray=[f],this._approverType=this._data.node?.isEveryoneApprovalNeeded?this._approverTypes.EVERYONE:this._approverTypes.ANYONE)}this._cdr.detectChanges()}),this._viewChangeSub=this.viewService.onViewChange.subscribe(()=>{this._onSearchStringChange(""),this._cdr.detectChanges()}),this._data.nodeTarget){case"empty":case"before":case"after":this._nodeType=this._nodeTypes.SERIAL;break;case"parallel":this._nodeType=this._nodeTypes.PARALLEL;break}}ngOnDestroy(){this._viewChangeSub.unsubscribe(),this._dataSourceSub.unsubscribe(),this._data.userDataSource.close(),this._data.teamDataSource.close()}_goToSelectMode(){this._selectMode=!0,this.viewService.setCurrentView(this._isSingleUserMode?ne.SELECT_USER:ne.SELECT_TEAM),this._cdr.detectChanges()}_exitSelectMode(){this._selectedApprovers=this._data.node?.approvers?.length?[...this._data.node.approvers]:[],!this._data.isEdit&&!this._data.node?.approvalTeamId&&this.viewService.resetTeam(),this._selectMode=!1,this.viewService.resetView(),this._cdr.detectChanges()}_setSelectedApprovers(i){this._selectedApprovers=i,this._confirmSelectedApprovers()}_confirmSelectedApprovers(){this._data.node&&(this._data.node.approvers=this._selectedApprovers,this._data.node.variousTeams=this._data.node.approvers.some(i=>i.teamId!==this._data.node.approvers[0].teamId),this._data.node.description=this._data.node.variousTeams?"":this._selectedApprovers[0]?.description,delete this._data.node.approvalTeamId,delete this._data.node.isEveryoneApprovalNeeded,this._exitSelectMode())}_setSelectedTeam(i){this.viewService.selectTeam(i)}_confirmSelectedTeam(){this.viewService.team&&(this._selectedTeam=this.viewService.team,this._selectedTeamArray=[this.viewService.team],this._data.node&&(this._data.node.variousTeams=!1,this._data.node.approvalTeamId=this.viewService.team.id,this._data.node.description=this.viewService.team.name,this._data.node.isEveryoneApprovalNeeded=this._approverType===Ye.EVERYONE),this._exitSelectMode())}_seeUserDetails(i){this.viewService.setCurrentView(ne.USER_DETAILS),this._userToShowDetails=i,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",i.id]])),this._cdr.detectChanges()}_exitUserDetailsMode(){this.viewService.setCurrentView(this.viewService.team?ne.VIEW_TEAM_MEMBERS:ne.SELECT_USER),this._userToShowDetails=void 0,this._userToShowDetailsData$=void 0,this._cdr.detectChanges()}_viewTeamMembers(i){this.viewService.selectTeam(i),this.viewService.setCurrentView(ne.VIEW_TEAM_MEMBERS),this._selectedTeamMembers=i.members,this._setFilteredTeamMembers(this._selectedTeamMembers),this._cdr.detectChanges()}_exitTeamMembersMode(){this.viewService.setCurrentView(ne.SELECT_TEAM),this.viewService.resetTeam(),this._selectedTeamMembers=[],this._cdr.detectChanges()}_submit(){this._data.node&&!this._isSingleUserMode&&this._selectedTeam&&(this._data.node.approvers=[...this._selectedTeam.members]),this._data.node&&this._checkDueDate&&(this._data.node.dueDate=this._dueDate.toDate()),this.dialogRef.close({node:this._data.node,nodeType:this._nodeType,toNextSerial:this._addToNextSerial})}_onSearchStringChange(i=""){let a=new Map([["query",i]]);this.viewService.isSelectUserMode?this._data.userDataSource.match(a):this.viewService.isSelectTeamMode?this._data.teamDataSource.match(a):this.viewService.isTeamMembersMode&&this._setFilteredTeamMembers(this._selectedTeamMembers.filter(t=>bt(t,i)))}_setFilteredTeamMembers(i){this._filteredTeamMembers=[...i],this._cdr.detectChanges()}};n.\u0275fac=function(a){return new(a||n)(L(Pe),L(yt),L(fe))},n.\u0275cmp=P({type:n,selectors:[["fdp-approval-flow-add-node"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-add-node"],decls:9,vars:8,consts:[["fdCompact",""],["fdkTemplate","header"],[3,"placeholder","suggestions"],[3,"click","glyph"],[3,"inputChange","placeholder","suggestions"],["fd-form-item",""],["fd-form-label",""],[3,"valueChange","value"],[3,"showAllButton","dropdownValues","ngModel","displayFn"],["fd-option","",3,"value"],[3,"ngModelChange","openChange","selectedChange","showAllButton","dropdownValues","ngModel","displayFn"],[3,"ngModelChange","openChange","showAllButton","dropdownValues","ngModel","displayFn"],[3,"ngModelChange","ngModel"],["type","single",3,"ngModelChange","state","ngModel"],[3,"user","detailsTemplate","details"],[3,"isRtl","teams","selectedTeamId"],[3,"loading","block"],[3,"onTeamClick","onTeamRadioClick","isRtl","teams","selectedTeamId"],[3,"users","isSelectable","selectedUsers"],[3,"onUserClick","onSelectionChange","users","isSelectable","selectedUsers"],["fdType","emphasized",3,"click","label","disabled"],["fdkInitialFocus","","fdType","transparent",3,"click","label"],["fdkInitialFocus","","fdType","transparent",3,"label"]],template:function(a,t){a&1&&(d(0,"fd-dialog",0)(1,"fd-dialog-header"),R(2,Za,7,6,"ng-template",1),s(),d(3,"fd-dialog-body"),w(4,li,16,12),w(5,ui,3,3),s(),d(6,"fd-dialog-footer"),w(7,vi,4,7),w(8,bi,4,4),s()()),a&2&&(p(),Z("show-search",t._selectMode&&!t._userToShowDetails),p(2),Z("fd-dialog__body--auto-height",t.viewService.isUserDetailsMode),p(),g(t._selectMode?-1:4),p(),g(t._selectMode?5:-1),p(2),g(t._selectMode?-1:7),p(),g(t._selectMode?8:-1))},dependencies:[Ue,K,We,Ie,Ae,gt,Ve,je,yo,No,Fo,Se,ae,te,oe,ct,To,St,He,xt,Re,Le,_o,X],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`,`.fdp-approval-flow-add-node .fd-dialog__body{width:20rem;height:27rem}.fdp-approval-flow-add-node .fd-dialog__body--auto-height{height:auto}
`],encapsulation:2,changeDetection:0});let e=n;return e})();var Ai=()=>[];function Si(e,n){if(e&1){let o=S();d(0,"fd-icon",8),C("click",function(){_(o);let a=c(2);return u(a._exitUserDetailsMode())})("keyup.space",function(){_(o);let a=c(2);return u(a._exitUserDetailsMode())})("keyup.enter",function(){_(o);let a=c(2);return u(a._exitUserDetailsMode())}),s()}if(e&2){let o=c(2);v("glyph","navigation-"+(o._data.rtl?"right":"left")+"-arrow")}}function xi(e,n){if(e&1&&m(0),e&2){let o=c(2);be(" ",o._data.node==null?null:o._data.node.description," (",(o._data.node==null||o._data.node.approvers==null?null:o._data.node.approvers.length)??0,") ")}}function yi(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.userDetailsHeader")," ")}function Ti(e,n){if(e&1){let o=S();d(0,"fdp-search-field",9),h(1,"fdTranslate"),C("inputChange",function(a){_(o);let t=c(2);return u(t._onSearchStringChange(a.text))}),s()}e&2&&v("placeholder",b(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",ve(4,Ai))}function Ei(e,n){if(e&1&&(d(0,"p"),w(1,Si,1,1,"fd-icon",6),w(2,xi,1,2)(3,yi,2,3),s(),w(4,Ti,2,5,"fdp-search-field",7)),e&2){let o=c();p(),g(o._userToShowDetails&&(o._data.node!=null&&o._data.node.approvers)&&o._data.node.approvers.length>1?1:-1),p(),g(o._isListMode&&!o._userToShowDetails?2:3),p(2),g(!o._userToShowDetails&&o._isListMode?4:-1)}}function Di(e,n){if(e&1&&k(0,"fdp-approval-flow-user-details",1),e&2){let o=c();v("user",o._userToShowDetails)("detailsTemplate",o._data.userDetailsTemplate)("details",o._userToShowDetailsData$)}}function Fi(e,n){if(e&1){let o=S();d(0,"fdp-approval-flow-user-list",10),C("onUserClick",function(a){_(o);let t=c();return u(t._seeUserDetails(a))})("onSelectionChange",function(a){_(o);let t=c();return u(t._selectedUsers=a)}),s()}if(e&2){let o=c();v("users",o._listItems)}}function Ni(e,n){if(e&1){let o=S();d(0,"fd-button-bar",11),h(1,"fdTranslate"),C("click",function(){_(o);let a=c();return u(a._sendReminder())}),s()}if(e&2){let o=c();v("label",b(1,2,"platformApprovalFlow.userDetailsSendReminderBtnLabel"))("disabled",!o._data.allowSendReminder||o._isListMode&&!o._selectedUsers.length)}}var Xe=(()=>{let n=class n{constructor(i,a){this.dialogRef=i,this._cdr=a,this._isListMode=!1,this._listItems=[],this._selectedUsers=[]}get _data(){return this.dialogRef.data}ngOnInit(){if(this._isListMode=(this._data.node?.approvers.length??0)>1,this._isListMode)this._setListItems(this._data.node?.approvers??[]);else{let i=this._data.watcher||this._data.node?.approvers[0];i?this._seeUserDetails(i):this.dialogRef.close()}}_setListItems(i=[]){this._listItems=[...i],this._cdr.detectChanges()}_exitUserDetailsMode(){this._userToShowDetails=void 0,this._isListMode=!0}_seeUserDetails(i){this._userToShowDetails=i,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",i.id]])),this._isListMode=!1,this._selectedUsers=[],this._cdr.detectChanges()}_sendReminder(){let i=this._isListMode?this._selectedUsers:this._data.node?.approvers;this.dialogRef.close(i)}_onSearchStringChange(i){if(!i){this._setListItems(this._data.node?.approvers);return}this._setListItems(this._data.node?.approvers.filter(a=>bt(a,i)))}};n.\u0275fac=function(a){return new(a||n)(L(Pe),L(fe))},n.\u0275cmp=P({type:n,selectors:[["fdp-approval-flow-approver-details"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-approver-details"],decls:10,vars:8,consts:[["fdkTemplate","header"],[3,"user","detailsTemplate","details"],[3,"users"],["fdCompact",""],["fdType","emphasized",3,"label","disabled"],["fdkInitialFocus","","fdType","transparent",3,"click","label"],["tabindex","0","role","button",3,"glyph"],["fdCompact","",3,"placeholder","suggestions"],["tabindex","0","role","button",3,"click","keyup.space","keyup.enter","glyph"],["fdCompact","",3,"inputChange","placeholder","suggestions"],[3,"onUserClick","onSelectionChange","users"],["fdType","emphasized",3,"click","label","disabled"]],template:function(a,t){a&1&&(d(0,"fd-dialog")(1,"fd-dialog-header"),R(2,Ei,5,3,"ng-template",0),s(),d(3,"fd-dialog-body"),w(4,Di,1,3,"fdp-approval-flow-user-details",1),w(5,Fi,1,1,"fdp-approval-flow-user-list",2),s(),d(6,"fd-dialog-footer",3),w(7,Ni,2,4,"fd-button-bar",4),d(8,"fd-button-bar",5),h(9,"fdTranslate"),C("click",function(){return t.dialogRef.close("Cancel")}),s()()()),a&2&&(p(),Z("show-search",!t._userToShowDetails&&t._isListMode),p(3),g(t._userToShowDetails?4:-1),p(),g(t._isListMode?5:-1),p(2),g(t._isListMode||t._userToShowDetails&&(t._data.node==null||t._data.node.approvers==null?null:t._data.node.approvers.length)===1?7:-1),p(),v("label",b(9,6,"platformApprovalFlow.userDetailsCancelBtnLabel")))},dependencies:[Ue,We,Ie,Ae,gt,K,Ve,xt,He,Re,Le,X],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`],encapsulation:2,changeDetection:0});let e=n;return e})();function Mi(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.messagesApproverAddedSuccess")," ")}function ki(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.messagesTeamAddedSuccess")," ")}function Ii(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.messagesNodeEdited")," ")}function Pi(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.messagesNodeRemovedSingular")," ")}function Vi(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.messagesNodeRemovedPlural")," ")}function Bi(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.messagesTeamRemoved")," ")}function Li(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.messagesErrorBuildGraph")," ")}function Ri(e,n){if(e&1){let o=S();d(0,"a",3),C("click",function(a){_(o);let t=c().$index,r=c();return u(r._undoLastAction(t,a))})("keyup.enter",function(a){_(o);let t=c().$index,r=c();return u(r._undoLastAction(t,a))})("keyup.space",function(a){_(o);let t=c().$index,r=c();return u(r._undoLastAction(t,a))}),m(1),h(2,"fdTranslate"),s()}e&2&&(p(),A(" ",b(2,1,"platformApprovalFlow.messagesUndoAction")," "))}function Wi(e,n){if(e&1){let o=S();d(0,"fd-message-strip",1),C("onDismiss",function(){let a=_(o).$index,t=c();return u(t._dismissMessage(a))}),d(1,"bdi")(2,"span"),w(3,Mi,2,3)(4,ki,2,3)(5,Ii,2,3)(6,Pi,2,3)(7,Vi,2,3)(8,Bi,2,3)(9,Li,2,3),s(),w(10,Ri,3,3,"a",2),s()()}if(e&2){let o,i=n.$implicit,a=c();v("type",i.type==="error"?"error":"success")("dismissible",i.type!=="error"),p(3),g((o=i.type)==="approverAddSuccess"?3:o==="teamAddSuccess"?4:o==="nodeEdit"?5:o==="nodeRemove"?6:o==="nodesRemove"?7:o==="teamRemove"?8:o==="error"?9:-1),p(7),g(a.undoLastActionAvailable?10:-1)}}var ia=(()=>{let n=class n{constructor(){this.messages=[],this.undoLastActionAvailable=!1,this.messagesChange=new V,this.undoLastAction=new V,this._trackByFn=ce}_dismissMessage(i){this.messages.splice(i,1)}_undoLastAction(i,a){a.preventDefault(),this._dismissMessage(i),this.undoLastAction.emit()}};n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=P({type:n,selectors:[["fdp-approval-flow-messages"]],hostAttrs:[1,"fdp-approval-flow-messages"],inputs:{messages:"messages",undoLastActionAvailable:"undoLastActionAvailable"},outputs:{messagesChange:"messagesChange",undoLastAction:"undoLastAction"},decls:2,vars:0,consts:[[1,"fdp-approval-flow-messages__item",3,"type","dismissible"],[1,"fdp-approval-flow-messages__item",3,"onDismiss","type","dismissible"],["href","#"],["href","#",3,"click","keyup.enter","keyup.space"]],template:function(a,t){a&1&&Y(0,Wi,11,4,"fd-message-strip",0,pe),a&2&&J(t.messages)},dependencies:[rt,X],styles:[`.fdp-approval-flow-messages__item:not(:last-child){margin-bottom:1rem}
`],encapsulation:2,changeDetection:0});let e=n;return e})();var Wt=(()=>{let n=class n{constructor(i){this.elRef=i,this.active=!1}_checkIfNodeDraggedInDropZone(i){this.active=!1;let a=this.elRef.nativeElement.getBoundingClientRect();a.top+a.height>i.top&&a.left+a.width>i.left&&a.bottom-a.height<i.bottom&&a.right-a.width<i.right&&(this.active=!0)}};n.\u0275fac=function(a){return new(a||n)(L(tt))},n.\u0275dir=ao({type:n,selectors:[["","fdp-approval-flow-drop-zone",""]],inputs:{placement:"placement"},exportAs:["fdp-approval-flow-drop-zone"]});let e=n;return e})();var zi=["overflowMenuButton"],Oi=["nodeContent"],ji=["*"],Ut=e=>({count:e}),Gi=e=>({node:e}),Qi=()=>({placement:"before-all"}),Hi=()=>({placement:"before"}),qi=()=>({placement:"after"}),Zi=()=>({placement:"after-all"});function Ki(e,n){if(e&1&&k(0,"div",11),e&2){let o=c();Z("fdp-approval-flow-node__vertical-line-before-solid",o._isVerticalLineBeforeSolid)}}function Yi(e,n){if(e&1&&k(0,"div",12),e&2){let o=c();Z("fdp-approval-flow-node__vertical-line-after-solid",o._isVerticalLineAfterSolid)}}function Ji(e,n){e&1&&k(0,"div",13)}function Xi(e,n){e&1&&k(0,"div",14)}function $i(e,n){e&1&&k(0,"div",15)}function en(e,n){if(e&1&&(w(0,Ji,1,0,"div",13),w(1,Xi,1,0,"div",14),w(2,$i,1,0,"div",15),no(3)),e&2){let o=c();g(o.renderArrow?0:-1),p(),g(o._isRoot&&(o.meta==null?null:o.meta.nodeIndex)===0?1:-1),p(),g(o._isFinal&&(o.meta==null?null:o.meta.nodeIndex)===0?2:-1)}}function tn(e,n){if(e&1){let o=S();d(0,"button",17),h(1,"fdTranslate"),C("click",function(a){return _(o),u(a.stopPropagation())}),s()}if(e&2){let o=c(2),i=U(14);v("title",b(1,3,"platformApprovalFlow.nodeMenuButtonTitle"))("fdMenuTrigger",i)("disabled",o._isEditActionsAvailable)}}function on(e,n){if(e&1&&w(0,tn,2,5,"button",16),e&2){let o=c();g(o.node!=null&&o.node.disableActions?-1:0)}}function an(e,n){if(e&1&&m(0),e&2){let o=c(2);A(" ",o.node.approvers[0].name," ")}}function nn(e,n){if(e&1&&(m(0),h(1,"fdTranslate")),e&2){let o=c(2);A(" ",Ne(1,1,"platformApprovalFlow.nodeMembersCount",se(4,Ut,o.node.approvers.length))," ")}}function rn(e,n){if(e&1&&m(0),e&2){let o=c(2);A(" ",o.node.approvers.length>1?o.node.description:o.node.approvers.length?o.node.approvers[0].description:""," ")}}function ln(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.nodeVariousTeams")," ")}function dn(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.nodeVariousTeams")," ")}function pn(e,n){}function sn(e,n){if(e&1&&R(0,pn,0,0,"ng-template",8),e&2){let o=c(5);v("ngTemplateOutlet",o.approvalStatusTemplate)("ngTemplateOutletContext",se(2,Gi,o.node))}}function fn(e,n){if(e&1&&w(0,sn,1,4,null,8),e&2){let o=c(4);g(o.approvalStatusTemplate?0:-1)}}function cn(e,n){if(e&1&&w(0,fn,1,1),e&2){let o=c(3);g(!o.checkDueDate||!o._showDueDateWarning?0:-1)}}function mn(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.statusApproved")," ")}function _n(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.statusRejected")," ")}function un(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.statusInProgress")," ")}function vn(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.statusNotStarted")," ")}function wn(e,n){if(e&1&&w(0,mn,2,3)(1,_n,2,3)(2,un,2,3)(3,vn,2,3),e&2){let o,i=c(4);g((o=i.node.status)==="approved"?0:o==="rejected"?1:o==="in progress"?2:o==="not started"?3:-1)}}function gn(e,n){if(e&1&&w(0,wn,4,1),e&2){let o=c(3);g(!o.checkDueDate||!o._showDueDateWarning?0:-1)}}function hn(e,n){e&1&&(m(0),h(1,"fdTranslate")),e&2&&A(" ",b(1,1,"platformApprovalFlow.nodeStatusDueToday")," ")}function Cn(e,n){if(e&1&&(m(0),h(1,"fdTranslate")),e&2){let o=c(4);A(" ",Ne(1,1,"platformApprovalFlow.nodeStatusDueInXDays",se(4,Ut,o.dueDateThreshold-o._dueIn))," ")}}function bn(e,n){if(e&1&&(m(0),h(1,"fdTranslate")),e&2){let o=c(4);A(" ",Ne(1,1,"platformApprovalFlow.nodeStatusXDaysOverdue",se(4,Ut,o._dueIn-o.dueDateThreshold))," ")}}function An(e,n){if(e&1&&(w(0,hn,2,3),w(1,Cn,2,6),w(2,bn,2,6)),e&2){let o=c(3);g(o._dueIn===o.dueDateThreshold?0:-1),p(),g(o._dueIn<o.dueDateThreshold?1:-1),p(),g(o._dueIn>o.dueDateThreshold?2:-1)}}function Sn(e,n){if(e&1&&(w(0,cn,1,1)(1,gn,1,1),w(2,An,3,3)),e&2){let o=c(2);g(o.approvalStatusTemplate?0:1),p(2),g(o.checkDueDate&&o._showDueDateWarning?2:-1)}}function xn(e,n){if(e&1&&(d(0,"div",18)(1,"div",19),w(2,an,1,1)(3,nn,2,6),s(),d(4,"div",20),w(5,rn,1,1)(6,ln,2,3),R(7,dn,2,3,"ng-template",null,4,re),s(),d(9,"fdp-object-status",21),R(10,Sn,3,2,"ng-template",22),s()()),e&2){let o=c();p(),Z("fdp-approval-flow-node__name--members-count",o.node.approvers.length>1),v("id",o.approvalFlowNodeId),p(),g(o.node.approvers.length===1?2:3),p(3),g(o.node.variousTeams?6:5),p(4),v("status",o._objectStatus)("inverted",!0)}}function yn(e,n){}function Tn(e,n){if(e&1&&R(0,yn,0,0,"ng-template",8),e&2){c();let o=U(12);v("ngTemplateOutlet",o)("ngTemplateOutletContext",ve(2,Qi))}}function En(e,n){}function Dn(e,n){if(e&1&&R(0,En,0,0,"ng-template",8),e&2){c();let o=U(12);v("ngTemplateOutlet",o)("ngTemplateOutletContext",ve(2,Hi))}}function Fn(e,n){}function Nn(e,n){if(e&1&&R(0,Fn,0,0,"ng-template",8),e&2){c();let o=U(12);v("ngTemplateOutlet",o)("ngTemplateOutletContext",ve(2,qi))}}function Mn(e,n){}function kn(e,n){if(e&1&&R(0,Mn,0,0,"ng-template",8),e&2){c();let o=U(12);v("ngTemplateOutlet",o)("ngTemplateOutletContext",ve(2,Zi))}}function In(e,n){if(e&1){let o=S();d(0,"button",25),h(1,"fdTranslate"),C("click",function(){_(o);let a=c().placement,t=c();return u(t.onAdd.emit(a))}),s()}if(e&2){let o=c().placement,i=U(2),a=c();I("visibility",i.active?"hidden":""),Z("fdp-approval-flow-node__add--blank",a._blank)("fdp-approval-flow-node__add--before",!a._blank&&(o==="before"||o==="before-all"))("fdp-approval-flow-node__add--before-all",!a._blank&&o==="before-all")("fdp-approval-flow-node__add--after",!a._blank&&(o==="after"||o==="after-all"))("fdp-approval-flow-node__add--after-all",o==="after-all"),v("title",b(1,13,"platformApprovalFlow.addNodeButtonTitle"))}}function Pn(e,n){if(e&1&&(w(0,In,2,15,"button",23),k(1,"div",24,5)),e&2){let o=n.placement,i=U(2),a=c();g(a.node.status!=="approved"?0:-1),p(),Z("fdp-approval-flow-node__drop-zone--active",i.active)("fdp-approval-flow-node__drop-zone--blank",a.isNextNodeBlank)("fdp-approval-flow-node__drop-zone--partial",a._dropZonePartial(o)),v("placement",o)}}function Vn(e,n){if(e&1){let o=S();d(0,"li",26),C("click",function(){_(o);let a=c();return U(14).close(),u(a.onAdd.emit("before"))}),d(1,"div",27)(2,"span",28),m(3),h(4,"fdTranslate"),s()()()}e&2&&(p(3),z(b(4,1,"platformApprovalFlow.nodeActionAddApproversBefore")))}function Bn(e,n){if(e&1){let o=S();d(0,"li",26),C("click",function(){_(o);let a=c();return U(14).close(),u(a.onAdd.emit("after"))}),d(1,"div",27)(2,"span",28),m(3),h(4,"fdTranslate"),s()()()}e&2&&(p(3),z(b(4,1,"platformApprovalFlow.nodeActionAddApproversAfter")))}function Ln(e,n){if(e&1){let o=S();d(0,"li",26),C("click",function(){_(o);let a=c();return U(14).close(),u(a.onAdd.emit("parallel"))}),d(1,"div",27)(2,"span",28),m(3),h(4,"fdTranslate"),s()()()}e&2&&(p(3),z(b(4,1,"platformApprovalFlow.nodeActionAddApproversParallel")))}function Rn(e,n){if(e&1){let o=S();d(0,"li",26),C("click",function(){_(o);let a=c();return U(14).close(),u(a.onEdit.emit())}),d(1,"div",27)(2,"span",28),m(3),h(4,"fdTranslate"),s()()()}e&2&&(p(3),A(" ",b(4,1,"platformApprovalFlow.nodeActionEditApprover")))}function Wn(e,n){if(e&1){let o=S();d(0,"li",26),C("click",function(){_(o);let a=c();return U(14).close(),u(a.onDelete.emit())}),d(1,"div",27)(2,"span",28),m(3),h(4,"fdTranslate"),s()()()}e&2&&(p(3),A(" ",b(4,1,"platformApprovalFlow.nodeActionRemove")))}var Un={approved:"positive",rejected:"negative","in progress":"informative","not started":""},na=1e3*60*60*24,zn=0,$e=(()=>{let n=class n{get _blank(){return!!this.node?.blank}get _space(){return!!this.node?.space}get _isRoot(){return this.meta?.isRoot}get _isFinal(){return this.meta?.isFinal}get _renderLineBefore(){return!this.node?.blank}get _renderLineAfter(){return!this.node?.blank||this._isFinal}get _isApproved(){return this.node&&ie(this.node)}get _isParentApproved(){return this.meta?.parents?.length?this.meta.parents.every(i=>ie(i)):!!this.meta?.rootNodesApproved}get _isNodeSelected(){return this.isEdit&&this._isSelected}get _isParallelStart(){return!!this.meta?.parallelStart}get _isParallelEnd(){return!!this.meta?.parallelEnd}get _isFirstInParallel(){return!!this.meta?.isFirstInParallel}get _isLastInParallel(){return!!this.meta?.isLastInParallel}get _lastBlank(){return this._blank&&this.node.targets.length===0}get _isSelected(){return!!this.node.selected}constructor(i,a,t){this._elRef=i,this._cdr=a,this._rtlService=t,this.renderArrow=!1,this.checkDueDate=!1,this.dueDateThreshold=7,this.allNodesInColumnApproved=!1,this.onAdd=new V,this.onEdit=new V,this.onDelete=new V,this._showDueDateWarning=!1,this._dueIn=0,this.approvalFlowNodeId="fdp-approval-flow-node-"+zn++,this._subscriptions=new ge}get _nativeElement(){return this._elRef.nativeElement}get _isNotStarted(){return!ht(this.node)}get _isEditActionsAvailable(){return this.node.status==="approved"||this.node.status==="rejected"}get _activeDropZones(){return this._dropZones.filter(i=>i.active)}get _isAnyDropZoneActive(){return this._activeDropZones.length>0}get _isVerticalLineBeforeSolid(){return this.meta?.parents.length?this.meta.parents.every(i=>ie(i)):!!this.meta?.isVerticalLineBeforeSolid}get _isVerticalLineAfterSolid(){return this.node?.targets.length?this._isVerticalLineBeforeSolid&&this.allNodesInColumnApproved:!!this.meta?.isVerticalLineAfterSolid}get _showAddButton(){return this.isEdit&&!this._blank&&!this._space&&!this.node?.disableActions}get _showAfterAllAddButton(){return this.isEdit&&!this._space&&!this.node?.disableActions}_dropZonePartial(i){return!this._blank&&(!this.isNextNodeBlank||i==="before")||this._lastBlank&&i==="after-all"}ngOnInit(){this._checkNodeStatus(),this._subscriptions.add(this._rtlService?.rtl.subscribe(()=>this._cdr.markForCheck()))}ngOnChanges(){this._checkNodeStatus()}ngOnDestroy(){this._subscriptions.unsubscribe()}_onMenuOpen(){this._menu.refreshPosition()}_focus(i){this._gridListItem?.focus(i)}_deactivateDropZones(){this._dropZones.forEach(i=>i.active=!1),this._cdr.detectChanges()}_checkIfNodeDraggedInDropZone(i){this._dropZones.forEach(a=>a._checkIfNodeDraggedInDropZone(i)),this._cdr.detectChanges()}_checkNodeStatus(){if(this.node){if(this.checkDueDate&&this.node.dueDate){let i=Number(new Date(this.node.dueDate))-this.dueDateThreshold*na,a=Date.now()-i;this._dueIn=Math.round(a/na),this._showDueDateWarning=!ie(this.node)&&i<Date.now(),this._objectStatus=this._showDueDateWarning?"critical":this._getNodeStatusClass(),this._cdr.detectChanges();return}this._objectStatus=this._getNodeStatusClass(),this._cdr.detectChanges()}}_getNodeStatusClass(){return this.statusColorMapping?this.statusColorMapping[this.node.status]:Un[this.node.status]}};n.\u0275fac=function(a){return new(a||n)(L(tt),L(fe),L(nt,8))},n.\u0275cmp=P({type:n,selectors:[["fdp-approval-flow-node"]],contentQueries:function(a,t,r){if(a&1&&ro(r,wt,5),a&2){let f;Q(f=H())&&(t._gridListItem=f.first)}},viewQuery:function(a,t){if(a&1&&(q(Bt,5),q(zi,5),q(Oi,5),q(Wt,5)),a&2){let r;Q(r=H())&&(t._menu=r.first),Q(r=H())&&(t._overflowMenuButton=r.first),Q(r=H())&&(t._nodeContent=r.first),Q(r=H())&&(t._dropZones=r)}},hostAttrs:[1,"fdp-approval-flow-node"],hostVars:36,hostBindings:function(a,t){a&2&&Z("fdp-approval-flow-node--first-root",t.meta==null?null:t.meta.firstOfMultipleRootNodes)("fdp-approval-flow-node--first-final",t.meta==null?null:t.meta.firstOfMultipleFinalNodes)("fdp-approval-flow-node--edit-mode",t.isEdit)("fdp-approval-flow-node--next-blank",t.isNextNodeBlank)("fdp-approval-flow-node--blank",t._blank)("fdp-approval-flow-node--space",t._space)("fdp-approval-flow-node--root",t._isRoot)("fdp-approval-flow-node--final",t._isFinal)("fdp-approval-flow-node--line-before",t._renderLineBefore)("fdp-approval-flow-node--line-after",t._renderLineAfter)("fdp-approval-flow-node--approved",t._isApproved)("fdp-approval-flow-node--parent-approved",t._isParentApproved)("fdp-approval-flow-node--selected",t._isNodeSelected)("fdp-approval-flow-node--parallel-start",t._isParallelStart)("fdp-approval-flow-node--parallel-end",t._isParallelEnd)("fdp-approval-flow-node--first-in-parallel",t._isFirstInParallel)("fdp-approval-flow-node--last-in-parallel",t._isLastInParallel)("fdp-approval-flow-node--last-blank",t._lastBlank)},inputs:{node:"node",meta:"meta",renderArrow:"renderArrow",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allNodesInColumnApproved:"allNodesInColumnApproved",approvalStatusTemplate:"approvalStatusTemplate",statusColorMapping:"statusColorMapping",isEdit:"isEdit",isNextNodeBlank:"isNextNodeBlank"},outputs:{onAdd:"onAdd",onEdit:"onEdit",onDelete:"onDelete"},features:[Fe],ngContentSelectors:ji,decls:20,vars:12,consts:[["overflowMenuButton",""],["nodeContent",""],["addNodeButton",""],["menu",""],["variousTeams",""],["dropZone","fdp-approval-flow-drop-zone"],[1,"fdp-approval-flow-node__vertical-line-before",3,"fdp-approval-flow-node__vertical-line-before-solid"],[1,"fdp-approval-flow-node__vertical-line-after",3,"fdp-approval-flow-node__vertical-line-after-solid"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["fdContentDensity","","placement","bottom-end",3,"isOpenChange"],["fd-menu-item",""],[1,"fdp-approval-flow-node__vertical-line-before"],[1,"fdp-approval-flow-node__vertical-line-after"],[1,"fdp-approval-flow-node__arrow"],[1,"fdp-approval-flow-node__carousel-start-marker"],[1,"fdp-approval-flow-node__carousel-end-marker"],["fd-button","","fdType","transparent","tabindex","0","glyph","overflow","fdCompact","",1,"fdp-approval-flow-node__menu-button",3,"title","fdMenuTrigger","disabled"],["fd-button","","fdType","transparent","tabindex","0","glyph","overflow","fdCompact","",1,"fdp-approval-flow-node__menu-button",3,"click","title","fdMenuTrigger","disabled"],[1,"fdp-approval-flow-node__info"],[1,"fdp-approval-flow-node__name",3,"id"],[1,"fdp-approval-flow-node__description"],[3,"status","inverted"],["fdpObjectStatusText",""],["fd-button","","glyph","add","fdCompact","",1,"fdp-approval-flow-node__add",3,"title","fdp-approval-flow-node__add--blank","fdp-approval-flow-node__add--before","fdp-approval-flow-node__add--before-all","fdp-approval-flow-node__add--after","fdp-approval-flow-node__add--after-all","visibility"],["fdp-approval-flow-drop-zone","",1,"fdp-approval-flow-node__drop-zone",3,"placement"],["fd-button","","glyph","add","fdCompact","",1,"fdp-approval-flow-node__add",3,"click","title"],["fd-menu-item","",3,"click"],["fd-menu-interactive",""],["fd-menu-title",""]],template:function(a,t){if(a&1){let r=S();io(),w(0,Ki,1,2,"div",6),w(1,Yi,1,2,"div",7),w(2,en,4,3),R(3,on,1,1,"ng-template",null,0,re)(5,xn,11,7,"ng-template",null,1,re),w(7,Tn,1,3,null,8),w(8,Dn,1,3,null,8),w(9,Nn,1,3,null,8),w(10,kn,1,3,null,8),R(11,Pn,3,8,"ng-template",null,2,re),d(13,"fd-menu",9,3),C("isOpenChange",function(){return _(r),u(t._onMenuOpen())}),w(15,Vn,5,3,"li",10),w(16,Bn,5,3,"li",10),w(17,Ln,5,3,"li",10),w(18,Rn,5,3,"li",10),w(19,Wn,5,3,"li",10),s()}a&2&&(g(t.meta!=null&&t.meta.renderVerticalLineBefore?0:-1),p(),g(t.meta!=null&&t.meta.renderVerticalLineAfter?1:-1),p(),g(!t._blank&&!t._space?2:-1),p(5),g(t._showAddButton&&(t.meta!=null&&t.meta.canAddNodeBeforeAll)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddBefore)?7:-1),p(),g(t._showAddButton&&(t.meta!=null&&t.meta.canAddNodeBefore)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddBefore)?8:-1),p(),g(t._showAddButton&&(t.meta!=null&&t.meta.canAddNodeAfter)&&(t.meta!=null&&t.meta.renderAddNodeAfterButton)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddAfter)?9:-1),p(),g(t._showAfterAllAddButton&&(t.meta!=null&&t.meta.canAddNodeAfterAll)&&(t.meta!=null&&t.meta.renderAddNodeAfterButton)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddAfter)?10:-1),p(5),g(t.meta!=null&&t.meta.canAddNodeBefore&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddBefore)?15:-1),p(),g(t.meta!=null&&t.meta.canAddNodeAfter&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddAfter)?16:-1),p(),g(t.meta!=null&&t.meta.canAddParallel&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddParallel)?17:-1),p(),g(t._isNotStarted&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableEdit)?18:-1),p(),g(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableRemove?-1:19))},dependencies:[Be,K,Ao,Do,Eo,Me,Wt,Bt,bo,Co,ho,X],styles:[`.fdp-approval-flow-node{display:block;box-sizing:border-box;position:relative;width:17.375rem;height:5.875rem;margin-bottom:1rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode{height:7.875rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-after:after{top:-4.9375rem;height:8.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{content:"";display:block;position:absolute;top:-3.9375rem;height:6.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before{left:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before-solid:before{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{right:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after-solid:after{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-before:before{left:auto;right:-2.0625rem}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-after:after{right:auto;left:-2.0625rem}.fdp-approval-flow-node .fdp-approval-flow-node__add{position:absolute;z-index:10;margin:calc(3.4375rem - 1px) auto auto;inset:0;border-radius:100%;min-width:1rem;max-width:1rem;min-height:1rem;max-height:1rem}.fdp-approval-flow-node .fdp-approval-flow-node__add fd-icon{line-height:1rem;font-size:.7rem;font-weight:900}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before{left:-2.5rem;right:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-2.8rem}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after{right:-2.5rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-2.8rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone{border-radius:.25rem;position:absolute;height:100%;z-index:1}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--active{background:#e5f0fa;background:var(--sapList_SelectionBackgroundColor, #e5f0fa);border:.125rem solid #0854a0;border:.125rem solid var(--sapButton_IconColor, #0854a0)}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--blank{width:100%;top:0}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--partial{width:10%;left:0;top:0}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank{background:transparent;box-shadow:none;pointer-events:none;cursor:default}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:before{content:"";display:block;position:absolute;width:calc(100% + 4rem);height:0;left:-2rem;top:calc(50% - .0625rem);border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{width:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:not(.fdp-approval-flow-node--last-blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{width:100%}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{content:"";width:2rem;height:0;display:block;position:absolute;top:calc(50% - .0625rem);bottom:0;pointer-events:none;border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{right:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--blank:before{border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parent-approved.fdp-approval-flow-node--line-before:before{left:-2rem;border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode.fdp-approval-flow-node--blank{pointer-events:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-end-marker{top:3.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__arrow{display:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{right:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{right:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{left:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{left:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{left:19.875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{right:-12.6875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:calc(100% + 4rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{width:4rem;left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{width:4rem;right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__add,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-after{visibility:hidden}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name{font-size:1rem;line-height:1.25rem;margin-bottom:.1rem;color:#32363a;color:var(--sapTextColor, #32363a)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__description{font-size:.875rem;line-height:1rem;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin-bottom:.4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow{width:0;height:0;border-style:solid;border-width:.375rem 0 .375rem .5rem;border-color:transparent transparent transparent #d9d9d9;border-color:transparent transparent transparent var(--sapGroup_TitleBorderColor, #d9d9d9);position:absolute;left:-.5rem;top:0;bottom:0;margin:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{z-index:1;background:#d9d9d9;background:var(--sapGroup_TitleBorderColor, #d9d9d9);display:block;position:absolute;width:.25rem;height:1rem;top:2.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__arrow{left:auto;right:-.5rem;border-width:.375rem .5rem .375rem 0;border-color:transparent #d9d9d9 transparent transparent;border-color:transparent var(--sapGroup_TitleBorderColor, #d9d9d9) transparent transparent}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-before:before{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-after:after{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count{direction:ltr;text-align:right}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before{right:-2.5rem;left:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-2.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after{left:-2.5rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-2.8rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{left:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{left:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{right:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{right:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{right:19.875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:calc(100% + 2rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{left:-12.6875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:calc(100% + 4rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{left:0}
`],encapsulation:2,changeDetection:0});let e=n;return e})();function On(e,n){e&1&&(d(0,"p"),m(1),h(2,"fdTranslate"),s()),e&2&&(p(),z(b(2,1,"platformApprovalFlow.selectTypeDialogMoveApproverAs")))}function jn(e,n){if(e&1){let o=S();d(0,"div",4)(1,"fd-checkbox",9),T("ngModelChange",function(a){_(o);let t=c();return y(t._toNextSerial,a)||(t._toNextSerial=a),u(a)}),m(2),h(3,"fdTranslate"),s()()}if(e&2){let o=c();p(),x("ngModel",o._toNextSerial),p(),A(" ",b(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}var Tt=(()=>{let n=class n{constructor(i){this._dialogRef=i,this._nodeType=le.SERIAL,this._nodeTypes=le,this._toNextSerial=!1}_submit(){this._dialogRef.close({type:this._nodeType,toNextSerial:this._toNextSerial})}};n.\u0275fac=function(a){return new(a||n)(L(Pe))},n.\u0275cmp=P({type:n,selectors:[["fdp-approval-flow-select-type"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-select-type"],decls:22,vars:20,consts:[["fdkTemplate","header"],["fdCompact",""],[1,"fd-form-label"],[1,"fdp-approval-flow-select-type__form"],["fd-form-item",""],["id","select-type-parallel","name","select-type-parallel",3,"ngModelChange","value","ngModel"],["id","select-type-serial","name","select-type-serial",3,"ngModelChange","value","ngModel"],["fdType","emphasized",3,"click","label"],["fdkInitialFocus","","fdType","transparent",3,"click","label"],[3,"ngModelChange","ngModel"]],template:function(a,t){a&1&&(d(0,"fd-dialog")(1,"fd-dialog-header"),R(2,On,3,3,"ng-template",0),s(),d(3,"fd-dialog-body",1)(4,"span",2),m(5),h(6,"fdTranslate"),s(),d(7,"fd-form-group",3)(8,"div",4)(9,"fd-radio-button",5),T("ngModelChange",function(f){return y(t._nodeType,f)||(t._nodeType=f),f}),m(10),h(11,"fdTranslate"),s()(),d(12,"div",4)(13,"fd-radio-button",6),T("ngModelChange",function(f){return y(t._nodeType,f)||(t._nodeType=f),f}),m(14),h(15,"fdTranslate"),s()(),w(16,jn,4,4,"div",4),s()(),d(17,"fd-dialog-footer",1)(18,"fd-button-bar",7),h(19,"fdTranslate"),C("click",function(){return t._submit()}),s(),d(20,"fd-button-bar",8),h(21,"fdTranslate"),C("click",function(){return t._dialogRef.close()}),s()()()),a&2&&(p(5),A(" ",b(6,10,"platformApprovalFlow.selectTypeDialogParallelOrSerial")," "),p(4),v("value",t._nodeTypes.PARALLEL),x("ngModel",t._nodeType),p(),A(" ",b(11,12,"platformApprovalFlow.selectTypeDialogNodeTypeParallel")," "),p(3),v("value",t._nodeTypes.SERIAL),x("ngModel",t._nodeType),p(),A(" ",b(15,14,"platformApprovalFlow.selectTypeDialogNodeTypeSerial")," "),p(2),g(t._nodeType===t._nodeTypes.PARALLEL?16:-1),p(2),v("label",b(19,16,"platformApprovalFlow.selectTypeDialogConfirmButton")),p(2),v("label",b(21,18,"platformApprovalFlow.selectTypeDialogCancelButton")))},dependencies:[Ue,We,Ie,Ve,K,ft,je,mt,ae,te,oe,ct,Re,Le,X],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`,`.fdp-approval-flow-select-type .fd-dialog__body{width:24rem}.fdp-approval-flow-select-type .fd-dialog__body .fd-form-item{margin-bottom:0}
`],encapsulation:2,changeDetection:0});let e=n;return e})();function Gn(e,n){if(e&1){let o=S();d(0,"button",2),h(1,"fdTranslate"),C("click",function(){_(o);let a=c();return u(a._addNode("empty"))}),s()}e&2&&v("label",b(1,1,"platformApprovalFlow.toolbarAddStepButton"))}function Qn(e,n){if(e&1){let o=S();d(0,"button",2),h(1,"fdTranslate"),C("click",function(){_(o);let a=c();return u(a.enterEditMode.emit())}),s()}e&2&&v("label",b(1,1,"platformApprovalFlow.toolbarEditButton"))}function Hn(e,n){if(e&1){let o=S();d(0,"button",2),h(1,"fdTranslate"),C("click",function(){_(o);let a=c(2);return u(a._addNode("before"))}),s()}e&2&&v("label",b(1,1,"platformApprovalFlow.toolbarAddApproversBefore"))}function qn(e,n){if(e&1){let o=S();d(0,"button",2),h(1,"fdTranslate"),C("click",function(){_(o);let a=c(2);return u(a._addNode("after"))}),s()}e&2&&v("label",b(1,1,"platformApprovalFlow.toolbarAddApproversAfter"))}function Zn(e,n){if(e&1){let o=S();d(0,"button",2),h(1,"fdTranslate"),C("click",function(){_(o);let a=c(2);return u(a._addNode("parallel"))}),s()}e&2&&v("label",b(1,1,"platformApprovalFlow.toolbarAddApproversParallel"))}function Kn(e,n){if(e&1){let o=S();d(0,"button",2),h(1,"fdTranslate"),C("click",function(){_(o);let a=c(2);return u(a.deleteSelectedNodes.emit())}),s()}e&2&&v("label",b(1,1,"platformApprovalFlow.toolbarRemove"))}function Yn(e,n){if(e&1){let o=S();d(0,"button",2),h(1,"fdTranslate"),C("click",function(){_(o);let a=c(2);return u(a._editSelectedNode())}),s()}e&2&&v("label",b(1,1,"platformApprovalFlow.toolbarEditApprover"))}function Jn(e,n){if(e&1&&(w(0,Hn,2,3,"button",1),w(1,qn,2,3,"button",1),w(2,Zn,2,3,"button",1),w(3,Kn,2,3,"button",1),w(4,Yn,2,3,"button",1)),e&2){let o=c();g(o._canAddBefore?0:-1),p(),g(o._canAddAfter?1:-1),p(),g(o._canAddParallel?2:-1),p(),g(o._canRemoveSelectedNodes?3:-1),p(),g(o._canEditNode?4:-1)}}var ra=(()=>{let n=class n{constructor(){this.isEditMode=!1,this.enterEditMode=new V,this.addNode=new V,this.editSelectedNode=new V,this.deleteSelectedNodes=new V,this._canRemoveSelectedNodes=!1,this._selectedNodes=[]}set selectedNodes(i){this._selectedNodes=i,this._canRemoveSelectedNodes=!!this.selectedNodes.length&&this.selectedNodes.every(a=>!a.disableActions&&!a.actionsConfig?.disableRemove)}get selectedNodes(){return this._selectedNodes}get _notApprovedSelectedNode(){return this.selectedNodes.length!==1||ie(this.selectedNodes[0])?null:this.selectedNodes[0]}get _canAddBefore(){let i=this._notApprovedSelectedNode;return!!i&&!i.disableActions&&!i.actionsConfig?.disableAddBefore&&!!this.graphMetadata[i.id].canAddNodeBefore}get _canAddAfter(){let i=this._notApprovedSelectedNode;return!!i&&!i.disableActions&&!i.actionsConfig?.disableAddAfter&&!!this.graphMetadata[i.id].canAddNodeAfter}get _canAddParallel(){let i=this._notApprovedSelectedNode;return!!this._notApprovedSelectedNode&&!i?.disableActions&&!i?.actionsConfig?.disableAddParallel&&!!this.graphMetadata[i.id].canAddParallel}get _canEditNode(){let i=this._notApprovedSelectedNode;return!!i&&!i.disableActions&&!i.actionsConfig?.disableEdit}_addNode(i){let a=this.selectedNodes[0];this.addNode.emit({node:a,target:i})}_editSelectedNode(){let i=this.selectedNodes[0];this.editSelectedNode.emit(i)}};n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=P({type:n,selectors:[["fdp-approval-flow-toolbar-actions"]],hostAttrs:[1,"fdp-approval-flow-toolbar-actions"],inputs:{graph:"graph",graphMetadata:"graphMetadata",selectedNodes:"selectedNodes",isEditMode:"isEditMode"},outputs:{enterEditMode:"enterEditMode",addNode:"addNode",editSelectedNode:"editSelectedNode",deleteSelectedNodes:"deleteSelectedNodes"},decls:4,vars:3,consts:[["fdCompact",""],["fd-button","",3,"label"],["fd-button","",3,"click","label"]],template:function(a,t){a&1&&(ot(0,0),w(1,Gn,2,3,"button",1),w(2,Qn,2,3,"button",1),w(3,Jn,5,5),at()),a&2&&(p(),g(!(!(t.graph==null||t.graph.columns==null)&&t.graph.columns.length)&&!(t.graph!=null&&t.graph.errors)?1:-1),p(),g(!(t.graph==null||t.graph.columns==null)&&t.graph.columns.length&&!t.isEditMode?2:-1),p(),g(t.isEditMode?3:-1))},dependencies:[K,Be,X],styles:[`.fdp-approval-flow-toolbar-actions .fd-button:not(:last-child){margin-right:.5rem}[dir=rtl] .fdp-approval-flow-toolbar-actions .fd-button:not(:last-child),.fdp-approval-flow-toolbar-actions[dir=rtl] .fd-button:not(:last-child){margin-right:0;margin-left:.5rem}
`],encapsulation:2,changeDetection:0});let e=n;return e})();var or=["graphContainerEl"],ar=["graphEl"],ir=["gridList"];function nr(e,n){if(e&1){let o=S();d(0,"fdp-approval-flow-toolbar-actions",11),C("enterEditMode",function(){_(o);let a=c();return u(a._enterEditMode())})("addNode",function(a){_(o);let t=c();return u(t._addNode(a.node,a.target))})("editSelectedNode",function(a){_(o);let t=c();return u(t._editNode(a))})("deleteSelectedNodes",function(){_(o);let a=c();return u(a._deleteSelectedNodes())}),s()}if(e&2){let o=c();v("graph",o._graph)("selectedNodes",o._selectedNodes)("graphMetadata",o._graphMetadata)("isEditMode",o._isEditMode)}}function rr(e,n){if(e&1){let o=S();d(0,"fd-avatar",15),C("avatarClicked",function(a){let t=_(o).$implicit,r=c(3);return u(r._onWatcherClick(t,a))}),s()}if(e&2){let o=n.$implicit;v("image",o.imgUrl||"")("label",o.name)("clickable",!0)("circle",!0)}}function lr(e,n){if(e&1&&Y(0,rr,1,4,"fd-avatar",14,Vt()._trackByFn,!0),e&2){let o=c(2);J(o._approvalProcess.watchers)}}function dr(e,n){if(e&1){let o=S();d(0,"div",13)(1,"fd-multi-input",16),h(2,"fdTranslate"),T("ngModelChange",function(a){_(o);let t=c(2);return y(t._selectedWatcherIds,a)||(t._selectedWatcherIds=a),u(a)}),C("ngModelChange",function(a){_(o);let t=c(2);return u(t._watchersSelectionChanged(a))}),s()()}if(e&2){let o=c(2);p(),v("dropdownValues",o._usersForWatchersList)("placeholder",b(2,6,"platformApprovalFlow.watchersInputPlaceholder"))("displayFn",o._displayUserFn)("valueFn",o._userValueFn)("showAllButton",!0),x("ngModel",o._selectedWatcherIds)}}function pr(e,n){if(e&1&&(d(0,"div",9)(1,"p",12),m(2),h(3,"fdTranslate"),s(),w(4,lr,2,0)(5,dr,3,8,"div",13),s()),e&2){let o=c();ue("aria-label",o.watchersLabel),p(2),A(" ",o.watchersLabel||b(3,3,"platformApprovalFlow.defaultWatchersLabel")," "),p(2),g(o._isEditMode?5:4)}}function sr(e,n){if(e&1){let o=S();d(0,"button",26),h(1,"fdTranslate"),C("click",function(){_(o);let a=c(4);return u(a.nextSlide(-1))}),k(2,"fd-icon",27),m(3),s()}if(e&2){let o=c(4);ue("aria-label",b(1,3,"platformApprovalFlow.prevButtonAriaLabel")),p(2),v("glyph","navigation-"+(o._rtl?"right":"left")+"-arrow"),p(),A(" ",o._carouselStepsLeft," ")}}function fr(e,n){if(e&1){let o=S();d(0,"button",28),h(1,"fdTranslate"),C("click",function(){_(o);let a=c(4);return u(a.nextSlide())}),m(2),k(3,"fd-icon",27),s()}if(e&2){let o=c(4);ue("aria-label",b(1,3,"platformApprovalFlow.nextButtonAriaLabel")),p(2),A(" ",o._carouselStepsRight," "),p(),v("glyph","navigation-"+(o._rtl?"left":"right")+"-arrow")}}function cr(e,n){if(e&1&&(d(0,"div",23),w(1,sr,4,5,"button",24),w(2,fr,4,5,"button",25),s()),e&2){let o=c(3);Z("fdp-approval-flow-carousel-controls--edit-mode",o._isEditMode),p(),g(o._carouselStepsLeft>0?1:-1),p(),g(o._carouselStepsRight>0?2:-1)}}function mr(e,n){}function _r(e,n){if(e&1&&R(0,mr,0,0,"ng-template",32),e&2){c();let o=U(1);v("ngTemplateOutlet",o._overflowMenuButton)}}function ur(e,n){}function vr(e,n){if(e&1&&R(0,ur,0,0,"ng-template",32),e&2){c();let o=U(1);v("ngTemplateOutlet",o._nodeContent)}}function wr(e,n){if(e&1){let o=S();d(0,"fdp-approval-flow-node",30,3),C("onAdd",function(a){let t=_(o).$implicit,r=c(4);return u(r._addNode(t,a))})("onEdit",function(){let a=_(o).$implicit,t=c(4);return u(t._editNode(a))})("onDelete",function(){let a=_(o).$implicit,t=c(4);return u(t._onNodeDelete(a))})("keydown",function(a){let t=_(o).$implicit,r=c(4);return u(r._onNodeKeyDown(a,t))})("cdkDragStarted",function(){_(o);let a=c(4);return u(a._dragDropInProgress=!0)})("cdkDragReleased",function(a){let t=_(o).$implicit,r=c(4);return u(r._onNodeDrop(t,a.source))})("cdkDragMoved",function(){let a=_(o).$implicit,t=c(4);return u(t._onNodeDragMoved(a))}),d(2,"fd-grid-list-item",31),C("press",function(){let a=_(o).$implicit,t=c(4);return u(t._onNodeClick(a))}),d(3,"fd-grid-list-item-toolbar"),w(4,_r,1,1,null,32),s(),k(5,"fd-avatar",33),R(6,vr,1,1,"ng-template",34),s()()}if(e&2){let o=n.$implicit,i=n.$index,a=U(1),t=c(),r=t.$implicit,f=t.$index,l=c(3);v("cdkDragDisabled",l._isCdkDragDisabled(o))("node",o)("meta",l._graphMetadata[o.id])("isEdit",l._isEditMode)("isNextNodeBlank",l._isNextNodeBlank(o,f,i))("checkDueDate",l.checkDueDate)("dueDateThreshold",l.dueDateThreshold)("renderArrow",f>0)("allNodesInColumnApproved",!!r.allNodesApproved)("approvalStatusTemplate",l.approvalStatusTemplate)("statusColorMapping",l.statusColorMapping),p(2),Z("fdp-approval-flow__graph-node-inner--edit",l._isEditMode),v("value",o)("selected",!!o.selected)("ariaLabelledBy",a.approvalFlowNodeId)("disableToolbarClick",!0),p(2),g(l._isEditMode?4:-1),p(),v("image",o.approvers.length===1?o.approvers[0].imgUrl:null)("label",o.approvers.length>1?o.description:null)("circle",!0)}}function gr(e,n){if(e&1&&(d(0,"div",22),Y(1,wr,7,21,"fdp-approval-flow-node",29,Vt()._trackByFn,!0),s()),e&2){let o=n.$implicit;p(),J(o.nodes)}}function hr(e,n){if(e&1&&(d(0,"div",18),w(1,cr,3,4,"div",19),d(2,"div",20,1)(4,"div",21,2),Y(6,gr,3,0,"div",22,pe),s()()()),e&2){let o=c(2);Z("fdp-approval-flow__container--extra-padding-start",!0)("fdp-approval-flow__container--extra-padding-end",!0),p(),g(o._scrollDiff>0?1:-1),p(),Z("fdp-approval-flow__graph-container--multiple-root-nodes",o._multipleRootNodes)("fdp-approval-flow__graph-container--multiple-final-nodes",o._multipleFinalNodes)("fd-scrollbar",!0),p(2),Z("fdp-approval-flow__graph--edit-mode",o._isEditMode),p(2),J(o._graph.columns)}}function Cr(e,n){if(e&1&&(d(0,"figure",35)(1,"figcaption",36)(2,"h3",37),m(3),h(4,"fdTranslate"),s(),d(5,"p",38),m(6),h(7,"fdTranslate"),s()()(),d(8,"div"),$t(),d(9,"svg",39),k(10,"path",40)(11,"path",41)(12,"path",42)(13,"path",43)(14,"path",44)(15,"path",45)(16,"path",46),s()()),e&2){let o=c(2);v("svgConfig",o._emptyApprovalFlowSpotConfig),p(3),A(" ",b(4,19,"platformApprovalFlow.emptyTitle")," "),p(3),A(" ",b(7,21,"platformApprovalFlow.emptyHint")," "),p(2),I("display","none"),p(2),I("fill","var(--sapIllus_PatternShadow)"),p(),I("fill","var(--sapIllus_ObjectFillColor)"),p(),I("fill","var(--sapIllus_BrandColorSecondary)"),p(),I("fill","var(--sapIllus_Layering1)"),p(),I("fill","var(--sapIllus_Layering1)"),p(),I("fill","var(--sapIllus_Layering1)"),p(),I("fill","var(--sapIllus_StrokeDetailColor)")}}function br(e,n){if(e&1&&w(0,hr,8,13,"div",17)(1,Cr,17,23),e&2){let o=c();g(o._graph.columns.length?0:1)}}function Ar(e,n){if(e&1){let o=S();d(0,"div",10)(1,"div",47)(2,"fd-bar-element")(3,"button",48),h(4,"fdTranslate"),C("click",function(){_(o);let a=c();return u(a._saveEditModeChanges())}),s()(),d(5,"fd-bar-element")(6,"button",49),h(7,"fdTranslate"),C("click",function(){_(o);let a=c();return u(a._exitEditMode())}),s()()()()}if(e&2){let o=c();p(3),v("label",b(4,4,"platformApprovalFlow.editModeSaveButtonLabel"))("disabled",o.disableSaveButton),p(3),v("label",b(7,6,"platformApprovalFlow.editModeExitButtonLabel"))("disabled",o.disableExitButton)}}var Sr=0,xe=(()=>{let n=class n{get approvalProcess(){return O(this._approvalProcess)}get _rtl(){return this._rtlService?.rtl.getValue()}get _selectedNodes(){return Te(this._graph).filter(i=>i.selected)}constructor(i,a,t,r,f){this._dialogService=i,this._cdr=a,this._injector=t,this.providers=r,this._rtlService=f,this.checkDueDate=!1,this.dueDateThreshold=7,this.allowSendRemindersForStatuses=["in progress","not started"],this.isEditAvailable=!1,this.allowAddParallelNodes=!0,this.disableSaveButton=!1,this.disableExitButton=!1,this.removeSpaceNode=!1,this.nodeClick=new V,this.afterNodeAdd=new V,this.afterNodeEdit=new V,this.valueChange=new V,this.sendReminders=new V,this.onDataRequested=new V,this.onDataReceived=new V,this._isCarousel=!1,this._graphMetadata={},this._isEditMode=!1,this._usersForWatchersList=[],this._selectedWatcherIds=[],this._messages=[],this._emptyApprovalFlowSpotConfig={spot:{url:"",id:"sapIllus-Spot-NoData"}},this._multipleRootNodes=!1,this._multipleFinalNodes=!1,this._dragDropInProgress=!1,this._displayUserFn=Ct,this._userValueFn=Jo,this._trackByFn=ce,this.approvalFlowUniqueId=`fdp-approval-flow-${++Sr}`,this._selectedWatchers=[],this._subscriptions=new ge,this._dataSourceChanged$=new Qt,this._getNextHorizontalNode=(l,M,B)=>{let j=B==="right"?1:-1,W=this._graph.columns[M+j]?.nodes[l];if(W)return W.blank||W.space?this._getNextHorizontalNode(l,M+j,B):W},this._getNextVerticalNode=(l,M,B)=>{let j=B==="down"?1:-1,W=this._graph.columns[M].nodes[l+j];if(W)return W.blank||W.space?this._getNextVerticalNode(l+j,M,B):W},console.log("ApprovalFlowComponent is deprecated and will be removed in next release.")}ngOnInit(){if(!this.userDataSource){let i=this.usersDataProviderEntityKey&&this.providers?.get(this.usersDataProviderEntityKey);i?this.userDataSource=new we(i):console.error("Could not resolve users data source")}if(!this.watcherDataSource){let i=this.watchersDataProviderEntityKey&&this.providers?.get(this.watchersDataProviderEntityKey);i?this.watcherDataSource=new we(i):console.error("Could not resolve watchers data source")}if(!this.teamDataSource){let i=this.teamsDataProviderEntityKey&&this.providers?.get(this.teamsDataProviderEntityKey);i?this.teamDataSource=new Oe(i):console.error("Could not resolve teams data source")}this._listenOnResize(),this._setupDataSourceSubscription()}ngOnChanges(i){if(i.value){let a=this.value??{watchers:[],nodes:[]};this._initialApprovalProcess=O(a),this._buildView(a)}(i.userDataSource||i.watcherDataSource||i.teamDataSource)&&this._dataSourceChanged$.next()}ngOnDestroy(){this._subscriptions.unsubscribe()}_isNextNodeBlank(i,a,t){let r=this._graph.columns[a+1]?.nodes[t],f=r?.blank,l=this._graphMetadata[r?.id]?.parallelEnd;return!i.blank&&!!f&&!l}_isCdkDragDisabled(i){return!this._isEditMode||i.blank||i.space||i.status!=="not started"}_onNodeClick(i){if(this._dragDropInProgress)return;this._dialogService.open(Xe,{data:ee({node:i,allowSendReminder:this.allowSendRemindersForStatuses.includes(i.status)},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(t=>{Array.isArray(t)&&this.sendReminders.emit({users:t,node:i})}),this.nodeClick.emit(i)}_onNodeAdd(i){this.afterNodeAdd.emit(i)}_onNodeEdit(i){this.afterNodeEdit.emit(i)}_onNodeSelectionChange(i){this._graph.columns.forEach(a=>{a.nodes.forEach(t=>{t.selected=!!i.selection.find(r=>r.id===t.id)})})}_onWatcherClick(i,a){a.preventDefault(),this._dialogService.open(Xe,{data:ee({watcher:i},this._defaultDialogOptions)})}getNodeMetadataByNodeId(i){return this._graphMetadata[i]}nextSlide(i=1){let t;if(i===1){let r=this._carouselStepsRight===1,f=this._carouselStepsCount-this._carouselStepsRight+1;t=this._carouselStepSize*f+(r?0:1)-this._graphEl.nativeElement.clientWidth}else{let r=this._carouselStepsLeft===1,f=this._carouselStepsLeft-1;t=this._carouselStepSize*f-(r?0:1)}this._setScrollPosition(t),this._cdr.detectChanges()}_setScrollPosition(i){this._graphContainerEl.nativeElement.scrollTo({left:i,behavior:"smooth"})}_onNodeKeyDown(i,a){if(!ke.isKeyCode(i,[38,40,39,37]))return;let{nodeIndex:t,columnIndex:r}=this._graphMetadata[a.id];i.preventDefault();let f;typeof t=="number"&&typeof r=="number"&&(ke.isKeyCode(i,38)?t>0&&(f=this._getNextVerticalNode(t,r,"up")):ke.isKeyCode(i,40)?f=this._getNextVerticalNode(t,r,"down"):ke.isKeyCode(i,37)?f=this._getNextHorizontalNode(t,r,this._rtl?"right":"left"):ke.isKeyCode(i,39)&&(f=this._getNextHorizontalNode(t,r,this._rtl?"left":"right"))),f&&this._focusNode(f)}_enterEditMode(){this.watcherDataSource.match(),this._editModeInitSub=this.watcherDataSource.open().subscribe(i=>{this._usersForWatchersList=i,this._selectedWatchers=this._approvalProcess.watchers,this._selectedWatcherIds=this._selectedWatchers.map(a=>a.id),this._isEditMode=!0,this._initialApprovalProcess=O(this._approvalProcess),this._cdr.detectChanges()}),this._subscriptions.add(this._editModeInitSub)}_saveEditModeChanges(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[];let i=de(ee({},this._approvalProcess),{watchers:this._selectedWatchers});this._buildView(i),this.valueChange.emit(i)}_exitEditMode(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._approvalProcess=O(this._initialApprovalProcess),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[],this._buildView(this._approvalProcess)}_watchersSelectionChanged(i){let a=new Set(i);this._selectedWatchers=co(this._selectedWatchers.concat(this._usersForWatchersList).filter(t=>a.has(t.id)),t=>t.id)}_undoLastAction(){this._approvalProcess=O(this._previousApprovalProcess),this._previousApprovalProcess=void 0,this._buildView(this._approvalProcess)}_addNode(i,a){let t=a==="before"&&!i.actionsConfig?.disableAddParallel;this._dialogService.open(Je,{data:ee({nodeTarget:a,showNodeTypeSelect:t,node:Object.assign(At(),{blank:!1}),checkDueDate:this.checkDueDate},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(f=>{if(!f)return;let{node:l,nodeType:M,toNextSerial:B}=f;if(l){switch(this._cacheCurrentApprovalProcess(),l.id=`tempId${(Math.random()*1e3).toFixed()}`,a){case"empty":this._enterEditMode();break;case"before":M===le.SERIAL&&(l.targets=[i.id],this._replaceTargets(i.id,[l.id])),M===le.PARALLEL&&this._processAddingParallelNode(l,i,B);break;case"before-all":l.targets=this._graph.columns[0].nodes.map(j=>j.id);break;case"after":l.targets=i.targets,i.targets=[l.id];break;case"after-all":{this._graphMetadata[i.targets[0]]?.parents?(l.targets=i.targets,this._replaceTargets(i.id,[l.id]),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(G=>G.id!==i.id)):this._graph.columns[this._graph.columns.length-1].nodes.forEach(G=>G.targets.push(l.id));break}case"parallel":this._processAddingParallelNode(l,i,B);break}this._showMessage(l.approvalTeamId?"teamAddSuccess":"approverAddSuccess"),this._approvalProcess.nodes.push(l),this._buildView(this._approvalProcess),this._onNodeAdd(l)}})}_editNode(i){this._dialogService.open(Je,{data:ee({isEdit:!0,node:Object.assign({},i),checkDueDate:this.checkDueDate},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(t=>{let r=t?.node;r&&(this._cacheCurrentApprovalProcess(),this._updateNode(r),this._showMessage("nodeEdit"),this._buildView(this._approvalProcess),this._onNodeEdit(i))})}_onNodeDelete(i){this._cacheCurrentApprovalProcess(),this._deleteNode(i),this._showMessage(i.approvalTeamId?"teamRemove":"nodeRemove"),this._buildView(this._approvalProcess)}_deleteSelectedNodes(){this._cacheCurrentApprovalProcess(),this._nodeComponents.filter(a=>a._isSelected).map(a=>a.node).forEach(a=>{this._deleteNode(a),this._buildView(this._approvalProcess)}),this._showMessage("nodesRemove")}_onNodeDragMoved(i){let a=this._nodeComponents.find(t=>t.node===i)?._nativeElement.getBoundingClientRect();a&&this._nodeComponents.forEach(t=>{t.node!==i&&t._dropZones.length&&t._checkIfNodeDraggedInDropZone(a)})}_focusNode(i){let a=this._nodeComponents.find(t=>t.node===i);a&&(this._moveColInView(i.colIndex??0),a._focus({preventScroll:!0}))}_onNodeDrop(i,a){a.reset(),setTimeout(()=>this._dragDropInProgress=!1);let t=this._nodeComponents.find(f=>f._isAnyDropZoneActive);if(!t)return;this._cacheCurrentApprovalProcess();let r=t._activeDropZones[0].placement;if(this._nodeComponents.forEach(f=>f._deactivateDropZones()),r==="after"){this._deleteNode(i),this._buildView(this._approvalProcess);let f=Te(this._graph).find(l=>l.id===t.node.targets[0]);f?.blank&&(this._deleteNode(f),this._buildView(this._approvalProcess)),i.targets=this._approvalProcess.nodes.find(l=>l.id===t.node.id)?.targets??[],t.node.targets=[i.id],this._finishDragDropProcess(i)}else if(r==="before")this._dialogService.open(Tt,void 0,this._injector).afterClosed.subscribe(l=>{if(!l)return;let{type:M,toNextSerial:B}=l;this._deleteNode(i),this._buildView(this._approvalProcess),M===le.SERIAL&&(this._replaceTargets(t.node.id,[i.id]),i.targets=[t.node.id]),M===le.PARALLEL&&this._processAddingParallelNode(i,t.node,B),this._finishDragDropProcess(i)});else if(r==="before-all"){this._deleteNode(i);let f=this._graph.columns[0].nodes;i.targets=f.map(l=>l.id),this._finishDragDropProcess(i)}else r==="after-all"&&(this._deleteNode(i),this._buildView(this._approvalProcess),i.targets=[...t.node.targets],t.node.targets.length===0?this._graph.columns[this._graph.columns.length-1].nodes.forEach(l=>l.targets.push(i.id)):(this._approvalProcess.nodes=this._approvalProcess.nodes.filter(f=>f.id!==t.node.id),this._replaceTargets(t.node.id,[i.id])),this._finishDragDropProcess(i))}_moveColInView(i){let a=this._graphEl.nativeElement.children[i].firstElementChild;if(!a)return;let{x:t,width:r}=a.getBoundingClientRect(),f=this._graphContainerEl.nativeElement.getBoundingClientRect().x,l=t-f,M=l+r;l<0?this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+l):M>this._graphEl.nativeElement.clientWidth&&this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+M-this._graphEl.nativeElement.clientWidth)}_finishDragDropProcess(i){this._approvalProcess.nodes.push(i),this._buildView(this._approvalProcess)}_showMessage(i){this._messages=[{type:i}]}_buildView(i){if(i.nodes||(i.nodes=[]),i.watchers||(i.watchers=[]),this._approvalProcess=i,this._graph=ta(this._approvalProcess.nodes),this.removeSpaceNode&&(this._graph.columns=this.removeSpaceNodesFromColumns(this._graph.columns)),this._graph.errors){this._showMessage("error");return}this._graphMetadata=oa(this._graph);let a=Te(this._graph);this._approvalProcess.nodes=a.filter(t=>!t.space),this._multipleRootNodes=a.filter(t=>this._graphMetadata[t.id].isRoot).length>1,this._multipleFinalNodes=a.filter(t=>this._graphMetadata[t.id].isFinal).length>1,this._cdr.detectChanges(),this._gridList?.clearSelection(),this._isEditMode||this._setScrollPosition(0)}_listenOnResize(){this._subscriptions.add(kt(Mt(window,"resize"),Mt(this._graphContainerEl.nativeElement,"scroll")).pipe(Kt(50,void 0,{leading:!0,trailing:!0})).subscribe(()=>{this._cdr.detectChanges()}))}_updateNode(i){let a=this._approvalProcess.nodes.findIndex(t=>t.id===i.id);a>-1&&(this._approvalProcess.nodes[a]=i)}_deleteNode(i){let a=[i],t=Te(this._graph),r=t.find(W=>W.id===i.id),f;do r?.targets.length===1&&(f=t.find(W=>W.id===r?.targets[0]),f?.blank&&this._graphMetadata[f.id].parents.length===1&&(a.push(f),r=f,f=t.find(W=>W.id===r?.targets[0])));while(f?.blank&&this._graphMetadata[f.id].parents.length===1);let l=this._graphMetadata[i.id].parents[0],M=i.targets[0],B=this._graphMetadata[l?.id]?.parallelStart,j=this._graphMetadata[M]?.parallelEnd,G=B&&j||a.length>1?[]:r?.targets??[];this._replaceTargets(i.id,G),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(W=>!a.includes(W))}_addParallelTargets(i,a){this._approvalProcess.nodes.forEach(t=>{Ee(t,i)&&t.targets.push(a)})}_replaceTargets(i,a){this._approvalProcess.nodes.forEach(t=>{Ee(t,i)&&(t.targets=t.targets.filter(r=>r!==i),t.targets.push(...a))})}_cacheCurrentApprovalProcess(){this._previousApprovalProcess=O(this._approvalProcess)}get _carouselStepSize(){return this._graphEl.nativeElement.scrollWidth/this._carouselStepsCount}get _scrollDiff(){return this._graphEl?this._graphEl.nativeElement.scrollWidth-this._graphEl.nativeElement.clientWidth:0}get _carouselStepsCount(){return this._graphEl.nativeElement.children.length}get _carouselStepsLeft(){return Math.ceil(this._graphContainerEl.nativeElement.scrollLeft/this._carouselStepSize)}get _carouselStepsRight(){return Math.ceil((this._scrollDiff-Math.round(this._graphContainerEl.nativeElement.scrollLeft))/this._carouselStepSize)}get _defaultDialogOptions(){return{teamDataSource:this.teamDataSource,userDataSource:this.userDataSource,userDetailsTemplate:this.userDetailsTemplate,rtl:this._rtl}}_findSerialNode(i,a){if(Number.isInteger(i)&&a?.some(f=>{let l=this._graphMetadata[f]?.nodeIndex;return Number.isInteger(l)&&l<=i-1}))return a??[];let r=this._approvalProcess.nodes.find(f=>f.id===a?.[0]);return this._findSerialNode(i,r?.targets)}_processAddingParallelNode(i,a,t=!1){if(i.targets=a.targets,this._addParallelTargets(a.id,i.id),t){let r=this._graphMetadata[a.id].nodeIndex,f=a.targets;if(r===0){let l=this._graphMetadata[a.id],B=(this._graph.columns?.[l.columnIndex]?.nodes).find((j,G)=>G>0&&!j.space);if(B){r=this._graphMetadata[B.id].columnIndex,f=B.targets,i.targets=this._findSerialNode(r,f);return}i.targets=a.targets;return}i.targets=this._findSerialNode(r,f)}}_setupDataSourceSubscription(){let i=this._dataSourceChanged$.pipe(Pt(null),Zt(()=>{let a=[this.teamDataSource,this.userDataSource,this.watcherDataSource].filter(Boolean).map(t=>kt(t.onDataRequested().pipe(It(!0)),t.onDataReceived().pipe(It(!1))).pipe(Pt(t.isDataLoading)));return et(a)}),Ht(a=>a.some(Boolean)),qt()).subscribe(a=>{a?this.onDataRequested.emit():this.onDataReceived.emit()});this._subscriptions.add(i)}removeSpaceNodesFromColumns(i){let a=[];return i.forEach(t=>{let r=t.nodes.filter(l=>!l.space),f=de(ee({},t),{nodes:r});a.push(f)}),a}};n.\u0275fac=function(a){return new(a||n)(L(go),L(fe),L(eo),L(xo,8),L(nt,8))},n.\u0275cmp=P({type:n,selectors:[["fdp-approval-flow"]],viewQuery:function(a,t){if(a&1&&(q(or,5),q(ar,5),q(ir,5),q($e,5)),a&2){let r;Q(r=H())&&(t._graphContainerEl=r.first),Q(r=H())&&(t._graphEl=r.first),Q(r=H())&&(t._gridList=r.first),Q(r=H())&&(t._nodeComponents=r)}},inputs:{title:"title",value:"value",userDataSource:"userDataSource",watcherDataSource:"watcherDataSource",teamDataSource:"teamDataSource",userDetailsTemplate:"userDetailsTemplate",approvalStatusTemplate:"approvalStatusTemplate",statusColorMapping:"statusColorMapping",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allowSendRemindersForStatuses:"allowSendRemindersForStatuses",isEditAvailable:"isEditAvailable",watchersLabel:"watchersLabel",allowAddParallelNodes:"allowAddParallelNodes",disableSaveButton:"disableSaveButton",disableExitButton:"disableExitButton",usersDataProviderEntityKey:"usersDataProviderEntityKey",teamsDataProviderEntityKey:"teamsDataProviderEntityKey",watchersDataProviderEntityKey:"watchersDataProviderEntityKey",removeSpaceNode:"removeSpaceNode"},outputs:{nodeClick:"nodeClick",afterNodeAdd:"afterNodeAdd",afterNodeEdit:"afterNodeEdit",valueChange:"valueChange",sendReminders:"sendReminders",onDataRequested:"onDataRequested",onDataReceived:"onDataReceived"},features:[lo([yt]),Fe],decls:11,vars:10,consts:[["gridList",""],["graphContainerEl",""],["graphEl",""],["approvalFlowNode",""],["fdCompact",""],[3,"messagesChange","undoLastAction","messages","undoLastActionAvailable"],[1,"fdp-approval-flow__toolbar",3,"selectionChange","selectionMode"],[3,"title"],[3,"graph","selectedNodes","graphMetadata","isEditMode"],[1,"fdp-approval-flow__watchers"],["fd-bar",""],[3,"enterEditMode","addNode","editSelectedNode","deleteSelectedNodes","graph","selectedNodes","graphMetadata","isEditMode"],[1,"fdp-approval-flow__watchers-title"],[1,"fdp-approval-flow__watchers-input-container"],["size","xs",3,"image","label","clickable","circle"],["size","xs",3,"avatarClicked","image","label","clickable","circle"],[3,"ngModelChange","dropdownValues","placeholder","displayFn","valueFn","showAllButton","ngModel"],[1,"fdp-approval-flow__container",3,"fdp-approval-flow__container--extra-padding-start","fdp-approval-flow__container--extra-padding-end"],[1,"fdp-approval-flow__container"],[1,"fdp-approval-flow-carousel-controls",3,"fdp-approval-flow-carousel-controls--edit-mode"],[1,"fdp-approval-flow__graph-container"],[1,"fdp-approval-flow__graph"],[1,"fdp-approval-flow__graph-column"],[1,"fdp-approval-flow-carousel-controls"],[1,"fdp-approval-flow-carousel-controls__button--prev-slide"],[1,"fdp-approval-flow-carousel-controls__button--next-slide"],[1,"fdp-approval-flow-carousel-controls__button--prev-slide",3,"click"],[3,"glyph"],[1,"fdp-approval-flow-carousel-controls__button--next-slide",3,"click"],["cdkDrag","",3,"cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","approvalStatusTemplate","statusColorMapping"],["cdkDrag","",3,"onAdd","onEdit","onDelete","keydown","cdkDragStarted","cdkDragReleased","cdkDragMoved","cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","approvalStatusTemplate","statusColorMapping"],["type","active",1,"fdp-approval-flow__graph-node-inner",3,"press","value","selected","ariaLabelledBy","disableToolbarClick"],[3,"ngTemplateOutlet"],["fd-grid-list-item-image","","size","xs",3,"image","label","circle"],["fd-grid-list-item-body",""],["fd-illustrated-message","","type","spot",3,"svgConfig"],["fd-illustrated-message-figcaption",""],["fd-illustrated-message-title",""],["fd-illustrated-message-text",""],["xmlns","http://www.w3.org/2000/svg","width","128","height","128","viewBox","0 0 128 128","id","sapIllus-Spot-NoData"],["d","M41.6179,32.7174H84.6273a1,1,0,0,1,.723.3092l7.2445,7.5824,7.4817,7.8491a1,1,0,0,1,.2761.69l-.0046,55.6069a4.1038,4.1038,0,0,1-.8787,2.1212A4.0564,4.0564,0,0,1,98.1,107.9631l-56.3858.0313a2.6167,2.6167,0,0,1-3.0812-3.2309l-.0152-69.0594Z",1,"sapIllus_PatternShadow"],["d","M35.7928,27.4987H78.8022a1,1,0,0,1,.723.3092L86.77,35.39l7.4816,7.8492a1,1,0,0,1,.2762.69l-.0046,55.6069a3,3,0,0,1-3,3H35.808a2.9946,2.9946,0,0,1-3-2.9913c-.01-12.0564-.0423-57.0116-.0152-69.0595A2.9943,2.9943,0,0,1,35.7928,27.4987Z",1,"sapIllus_ObjectFillColor"],["d","M93.2978,44.5335H78.8208a.9925.9925,0,0,1-.974-1.01V28.5108a.97.97,0,0,1,1.6628-.7143L93.9865,42.8092A1.0151,1.0151,0,0,1,93.2978,44.5335Z",1,"sapIllus_BrandColorSecondary"],["d","M104.608,38.9485l5.9157-1.7721c1.32-.3954.7584-2.5258-.5689-2.1282L104.0392,36.82c-1.32.3953-.7584,2.5258.5688,2.1282Z",1,"sapIllus_Layering1"],["d","M85.2973,21.2465l.9718-5.9331c.2154-1.3151-1.777-1.8807-1.9941-.5554l-.9718,5.9332c-.2155,1.3151,1.777,1.8807,1.9941.5553Z",1,"sapIllus_Layering1"],["d","M95.3034,29.0015a1.01,1.01,0,0,1-.6837-.267,1.0783,1.0783,0,0,1-.0864-1.4932l5.9511-6.8857a1.01,1.01,0,0,1,1.4538-.0884,1.0785,1.0785,0,0,1,.0865,1.4932l-5.9511,6.8858A1.0164,1.0164,0,0,1,95.3034,29.0015Z",1,"sapIllus_Layering1"],["d","M94.8747,42.8861,80.0855,27.4623a1.5152,1.5152,0,0,0-1.0885-.4636H35.807a3.509,3.509,0,0,0-3.5146,3.4836c-.0294,13.2857.0137,66.7559.0157,69.0257a3.5076,3.5076,0,0,0,3.5146,3.4894H91.7709a3.5106,3.5106,0,0,0,3.5146-3.4982l.005-55.5785A1.49,1.49,0,0,0,94.8747,42.8861Zm-16.21-14.8355a1.15,1.15,0,0,1,.2561-.0309,1.04,1.04,0,0,1,.51.2134l14.276,14.8837.0194.02a.5891.5891,0,0,1,.0968.6251c-.1016.1764-.4086.24-.69.24L78.8355,44a.6031.6031,0,0,1-.5472-.6131c-.0087-4.9588-.017-9.9015-.0035-14.8689A.5189.5189,0,0,1,78.6646,28.0506Zm13.1062,73.95H35.8188a2.5045,2.5045,0,0,1-2.5107-2.491c-.002-2.2694-.0451-55.74-.0157-69.0248a2.5054,2.5054,0,0,1,2.5107-2.4861H77.3684a1.49,1.49,0,0,0-.0976.5106V43.4934A1.5145,1.5145,0,0,0,78.7894,45H78.92L94.286,47.9749l-.0046,51.5269A2.5074,2.5074,0,0,1,91.7708,102.0006Z",1,"sapIllus_StrokeDetailColor"],["fd-bar-right",""],["fd-button","","fdType","emphasized",3,"click","label","disabled"],["fd-button","","fdType","transparent",3,"click","label","disabled"]],template:function(a,t){if(a&1){let r=S();ot(0,4),d(1,"fdp-approval-flow-messages",5),T("messagesChange",function(l){return _(r),y(t._messages,l)||(t._messages=l),u(l)}),C("undoLastAction",function(){return _(r),u(t._undoLastAction())}),s(),d(2,"fd-grid-list",6,0),C("selectionChange",function(l){return _(r),u(t._onNodeSelectionChange(l))}),d(4,"fd-grid-list-title-bar",7),h(5,"fdTranslate"),k(6,"fd-grid-list-title-bar-spacer"),w(7,nr,1,4,"fdp-approval-flow-toolbar-actions",8),s(),w(8,pr,6,5,"div",9),w(9,br,2,1),s(),w(10,Ar,8,8,"div",10),at()}a&2&&(p(),x("messages",t._messages),v("undoLastActionAvailable",!!t._previousApprovalProcess),p(),v("selectionMode",t._isEditMode?"multiSelect":"none"),p(2),v("title",t.title||b(5,8,"platformApprovalFlow.defaultTitle")),p(3),g(t.isEditAvailable?7:-1),p(),g(t._approvalProcess.watchers!=null&&t._approvalProcess.watchers.length||t._isEditMode?8:-1),p(),g(t._graph.errors?-1:9),p(),g(t._isEditMode?10:-1))},dependencies:[K,ia,Oo,zo,Uo,ra,_t,Se,ae,te,oe,Ae,$e,mo,wt,Ro,Me,jo,Wo,uo,wo,vo,Be,qo,Go,Ho,Qo,X],styles:[`.fd-scrollbar{border:0;-webkit-box-sizing:border-box;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:normal;margin-block:0;margin-inline:0;overflow:auto;padding-block:0;padding-inline:0;scrollbar-color:var(--fdScrollbar_Thumb_Color) var(--fdScrollbar_Track_Color)}.fd-scrollbar:after,.fd-scrollbar:before{-webkit-box-sizing:inherit;box-sizing:inherit;font-size:inherit}.fd-scrollbar.is-focus,.fd-scrollbar:focus{outline:none;z-index:5}.fd-scrollbar::-webkit-scrollbar{height:var(--fdScrollbar_Dimension);width:var(--fdScrollbar_Dimension)}.fd-scrollbar::-webkit-scrollbar-corner,.fd-scrollbar::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color)}.fd-scrollbar::-webkit-scrollbar-thumb{background-color:transparent;border:var(--fdScrollbar_Thumb_Offset) solid transparent;border-radius:calc(var(--fdScrollbar_Thumb_Border_Radius) - var(--fdScrollbar_Thumb_Offset));-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color);box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color)}.fd-scrollbar::-webkit-scrollbar-thumb:active,.fd-scrollbar::-webkit-scrollbar-thumb:hover{-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color);box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color)}.fd-scrollbar--container::-webkit-scrollbar-corner,.fd-scrollbar--container::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color);border-radius:0 var(--fdScrollbar_Border_Radius) var(--fdScrollbar_Border_Radius) 0}.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-corner,.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-track,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-corner,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-track{border-radius:var(--fdScrollbar_Border_Radius) 0 0 var(--fdScrollbar_Border_Radius)}.fdp-approval-flow__watchers{margin-bottom:.5rem;padding-left:.5rem}.fdp-approval-flow__watchers-title{font-size:.875em;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin:1rem 0 .5rem}.fdp-approval-flow__watchers fd-avatar{margin-right:.5rem;cursor:pointer}.fdp-approval-flow__watchers fd-avatar:focus{outline-offset:.0625rem;outline-width:.0625rem;outline-style:dotted;outline-color:var(--sapContent_FocusColor, #0854a0)}.fdp-approval-flow__watchers .fdp-approval-flow__watchers-input-container{width:17.375rem}[dir=rtl] .fdp-approval-flow__watchers,.fdp-approval-flow__watchers[dir=rtl]{padding-right:.5rem}[dir=rtl] .fdp-approval-flow__watchers fd-avatar,.fdp-approval-flow__watchers[dir=rtl] fd-avatar{margin-left:.5rem;margin-right:0}.fdp-approval-flow__container{max-width:100%;position:relative;padding:0 .5rem}.fdp-approval-flow__container--extra-padding-start{padding-left:2rem}.fdp-approval-flow__container--extra-padding-end{padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start{padding-left:.5rem;padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-end{padding-right:.5rem;padding-left:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end{padding-right:2rem;padding-left:2rem}.fdp-approval-flow__graph-container{position:relative;overflow:auto;padding-top:.5rem;padding-bottom:2rem;padding-left:2rem}.fdp-approval-flow__graph-container--multiple-root-nodes{padding-left:4rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-root-nodes,.fdp-approval-flow__graph-container--multiple-root-nodes[dir=rtl]{padding-right:2rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-final-nodes,.fdp-approval-flow__graph-container--multiple-final-nodes[dir=rtl]{padding-left:0}.fdp-approval-flow-carousel-controls{position:absolute;display:flex;align-items:center;width:100%;height:6.375rem;padding-top:.5rem;left:0}.fdp-approval-flow-carousel-controls--edit-mode{height:8.375rem}.fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--next-slide{position:absolute;border:none;background:transparent;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);display:flex;justify-content:space-between;width:2rem;align-items:center;cursor:pointer}.fdp-approval-flow-carousel-controls__button--prev-slide fd-icon,.fdp-approval-flow-carousel-controls__button--next-slide fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;top:.0625rem}.fdp-approval-flow-carousel-controls__button--prev-slide{left:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--prev-slide[dir=rtl]{left:auto;right:0}.fdp-approval-flow-carousel-controls__button--next-slide{right:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--next-slide,.fdp-approval-flow-carousel-controls__button--next-slide[dir=rtl]{left:0;right:auto}.fdp-approval-flow__graph{display:flex;align-items:flex-start;position:relative;left:0;transition:left .3s}.fdp-approval-flow__graph-column{margin-right:4rem;position:relative}[dir=rtl] .fdp-approval-flow__graph-column:first-child,.fdp-approval-flow__graph-column[dir=rtl]:first-child{margin-right:2rem}.fdp-approval-flow__graph fdp-approval-flow-node+fdp-approval-flow-node:not(:last-child){margin-bottom:1rem}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner{padding:0}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content{margin-left:auto}[dir=rtl] .fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content,.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content[dir=rtl]{margin-left:0;margin-right:auto}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--actions{display:none}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner:not(.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner--edit) .fd-toolbar.fd-grid-list__item-toolbar{display:none}.cdk-overlay-container{z-index:1002!important}
/*! Bundled license information:

fundamental-styles/dist/scrollbar.css:
  (*!
   * Fundamental Library Styles v0.40.1
   * Copyright (c) 2025 SAP SE or an SAP affiliate company.
   * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)
   *)
*/
`],encapsulation:2,changeDetection:0});let e=n;return e})();var Et=(()=>{let n=class n{};n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=oo({type:n}),n.\u0275inj=Jt({imports:[xe,$e,Xe,Je,He,St,Tt]});let e=n;return e})();var yr=["reminderTemplate"];function Tr(e,n){e&1&&m(0),e&2&&A(" ","Approved"," ")}function Er(e,n){e&1&&m(0),e&2&&A(" ","Rejected"," ")}function Dr(e,n){e&1&&m(0),e&2&&A(" ","In progress"," ")}function Fr(e,n){e&1&&m(0),e&2&&A(" ","Not started"," ")}function Nr(e,n){e&1&&m(0),e&2&&A(" ","Denied"," ")}function Mr(e,n){e&1&&m(0),e&2&&A(" ","Withdrawn"," ")}function kr(e,n){if(e&1&&w(0,Tr,1,1)(1,Er,1,1)(2,Dr,1,1)(3,Fr,1,1)(4,Nr,1,1)(5,Mr,1,1),e&2){let o,i=n.node;g((o=i.status)==="approved"?0:o==="rejected"?1:o==="in progress"?2:o==="not started"?3:o==="denied"?4:o==="withdrawn"?5:-1)}}function Ir(e,n){if(e&1&&(d(0,"p")(1,"span"),m(2,"Mobile"),s(),d(3,"a",25),m(4),s()()),e&2){let o=c().data;I("display","flex")("flex-direction","column"),p(3),v("href","tel:"+o.phone,Ce),p(),z(o.phone)}}function Pr(e,n){if(e&1&&(d(0,"p")(1,"span"),m(2,"Phone"),s(),d(3,"a",25),m(4),s()()),e&2){let o=c().data;I("display","flex")("flex-direction","column"),p(3),v("href","tel:"+o.phone,Ce),p(),z(o.phone)}}function Vr(e,n){if(e&1&&(d(0,"p")(1,"span"),m(2,"E-mail"),s(),d(3,"a",25),m(4),s()()),e&2){let o=c().data;I("display","flex")("flex-direction","column"),p(3),v("href","mailto:"+o.email,Ce),p(),z(o.email)}}function Br(e,n){if(e&1&&(d(0,"h4"),m(1,"Contact info"),s(),w(2,Ir,5,6,"p",24),w(3,Pr,5,6,"p",24),w(4,Vr,5,6,"p",24),d(5,"h4"),m(6,"Company"),s(),d(7,"p")(8,"span"),m(9,"Name"),s(),d(10,"span"),m(11),s()(),d(12,"p")(13,"span"),m(14,"Address"),s(),d(15,"span"),m(16,"481 West Street, Anytown OH, 83749, USA"),s()()),e&2){let o=n.data;I("margin-bottom",1,"rem"),p(2),g(o!=null&&o.phone?2:-1),p(),g(o!=null&&o.phone?3:-1),p(),g(o!=null&&o.email?4:-1),p(),I("margin-top",1.5,"rem")("margin-bottom",1,"rem"),p(2),I("display","flex")("flex-direction","column"),p(4),A("Company A",o==null?null:o.email),p(),I("display","flex")("flex-direction","column")}}function Lr(e,n){if(e&1&&m(0),e&2){let o=c().$implicit;A(" Reminder has been sent to ",o.data.targets[0].name," ")}}function Rr(e,n){if(e&1&&m(0),e&2){let o=c().$implicit;be(" Reminder has been sent to ",o.data.targets.length," members of ",o.data.node.description," ")}}function Wr(e,n){if(e&1&&w(0,Lr,1,1)(1,Rr,1,2),e&2){let o=n.$implicit;g(o.data.targets.length===1?0:1)}}function Ur(e,n){if(e&1&&(d(0,"option",5),m(1),h(2,"titlecase"),s()),e&2){let o=n.$implicit;v("value",o),p(),z(b(2,2,o))}}var da=(()=>{let n=class n{constructor(i){this._messageToastService=i,this.graphs=qr(),this.examples=["empty","simple","medium","complex"],this.selectedExample="complex",this.approvalProcess=this.graphs[this.selectedExample],this.userDataSource=new we(new Dt),this.watcherDataSource=new we(new Dt),this.teamDataSource=new Oe(new Ot),this.checkDueDate=!1,this.setNotStartedStatuses=!1,this.editModeEnabled=!0,this.nodeActionsDisabled=!1,this.nodeActionsConfig={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1,disableEdit:!1,disableRemove:!1},this.nodeActionsConfigForNewNodes={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1},this.allStatuses=["in progress","not started","approved","rejected","denied","withdrawn"],this.sendReminderStatuses=["in progress","not started"],this.disableSaveButton=!1,this.disableExitButton=!1,this.colorMapping={approved:"positive",rejected:"negative","in progress":"informative","not started":"neutral",denied:"critical",withdrawn:"negative"},this._subscriptions=new ge,this.newNodes=new Map}ngOnDestroy(){this._subscriptions.unsubscribe()}valueChanged(i){console.log("valueChanged",i)}sendReminders(i){this._messageToastService.open(this._reminderTemplate,{data:{targets:i.users,node:i.node},duration:5e3})}changeExampleData(){this.approvalProcess=O(this.graphs[this.selectedExample])}toggleNodeActions(i){let a=this._approvalFlow.approvalProcess,t=O(a);t.nodes.forEach(r=>{r.disableActions=i}),this.approvalProcess=t}toggleSpecificNodeAction(i,a){let t=this._approvalFlow.approvalProcess,r=O(t);r.nodes.forEach(f=>{f.actionsConfig=de(ee({},f.actionsConfig),{[i]:a})}),this.approvalProcess=r}newNodeSettingsChange(){this._approvalFlow.approvalProcess.nodes.forEach(a=>{if(this.newNodes.has(a.id)){let t=this._approvalFlow.getNodeMetadataByNodeId(a.id);t.canAddNodeAfter=!this.nodeActionsConfigForNewNodes.disableAddAfter,t.canAddNodeBefore=!this.nodeActionsConfigForNewNodes.disableAddBefore,t.canAddParallel=!this.nodeActionsConfigForNewNodes.disableAddParallel}})}nodeClick(i){console.log("Node click handler",i)}afterNodeAdd(i){console.log("After node add handler",i),this.newNodes.set(i.id,i),this.newNodeSettingsChange()}afterNodeEdit(i){console.log("After node edit handler",i),this.newNodeSettingsChange()}setNotStarted(){let i=this._approvalFlow.approvalProcess,a=new Map(this.graphs[this.selectedExample].nodes.map(r=>[r.id,r])),t=O(i);t.nodes=t.nodes.map(r=>{let f=this.setNotStartedStatuses||!a.has(r.id)?"not started":a.get(r.id).status;return de(ee({},r),{status:f})}),this.approvalProcess=t}};n.\u0275fac=function(a){return new(a||n)(L(vt))},n.\u0275cmp=P({type:n,selectors:[["fdp-platform-approval-flow-custom-status-example"]],viewQuery:function(a,t){if(a&1&&(q(xe,5),q(yr,5)),a&2){let r;Q(r=H())&&(t._approvalFlow=r.first),Q(r=H())&&(t._reminderTemplate=r.first)}},decls:71,vars:45,consts:[["approvalStatusTemplate",""],["userDetailsTemplate",""],["reminderTemplate",""],["title","Basic Approval Flow Demo",3,"nodeClick","afterNodeAdd","afterNodeEdit","valueChange","sendReminders","value","userDetailsTemplate","approvalStatusTemplate","statusColorMapping","userDataSource","watcherDataSource","teamDataSource","checkDueDate","allowSendRemindersForStatuses","isEditAvailable","disableSaveButton","disableExitButton"],[3,"ngModelChange","ngModel"],[3,"value"],["type","checkbox",3,"ngModelChange","ngModel"],["id","disableAddingNodeBefore","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeBefore"],["id","disableAddingNodeAfter","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeAfter"],["id","disableAddingNodeParallel","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeParallel"],["id","disableEditingNode","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableEditingNode"],["id","disableRemovingNode","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableRemovingNode"],["fdCompact","",3,"ngModelChange","dropdownValues","ngModel"],["id","disableAddingNodeBeforeForNewNodes","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeBeforeForNewNodes"],["id","disableAddingNodeAfterForNewNodes","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeAfterForNewNodes"],["id","disableAddingNodeParallelForNewNodes","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeParallelForNewNodes"],[3,"display","flex-direction"],[3,"href"]],template:function(a,t){if(a&1){let r=S();d(0,"fdp-approval-flow",3),C("nodeClick",function(l){return _(r),u(t.nodeClick(l))})("afterNodeAdd",function(l){return _(r),u(t.afterNodeAdd(l))})("afterNodeEdit",function(l){return _(r),u(t.afterNodeEdit(l))})("valueChange",function(l){return _(r),u(t.valueChanged(l))})("sendReminders",function(l){return _(r),u(t.sendReminders(l))}),s(),R(1,kr,6,1,"ng-template",null,0,re)(3,Br,17,18,"ng-template",null,1,re)(5,Wr,2,1,"ng-template",null,2,re),d(7,"p"),m(8," Selected example: "),d(9,"select",4),T("ngModelChange",function(l){return _(r),y(t.selectedExample,l)||(t.selectedExample=l),u(l)}),C("ngModelChange",function(){return _(r),u(t.changeExampleData())}),Y(10,Ur,3,4,"option",5,pe),s()(),d(12,"p"),m(13,'Enable "Edit mode": '),d(14,"input",6),T("ngModelChange",function(l){return _(r),y(t.editModeEnabled,l)||(t.editModeEnabled=l),u(l)}),s()(),d(15,"p"),m(16,"Enable due date warnings: "),d(17,"input",6),T("ngModelChange",function(l){return _(r),y(t.checkDueDate,l)||(t.checkDueDate=l),u(l)}),s()(),d(18,"p"),m(19,' Set all statuses to "Not Started": '),d(20,"input",6),T("ngModelChange",function(l){return _(r),y(t.setNotStartedStatuses,l)||(t.setNotStartedStatuses=l),u(l)}),C("ngModelChange",function(){return _(r),u(t.setNotStarted())}),s()(),d(21,"p"),m(22," Disable all node actions: "),d(23,"input",6),T("ngModelChange",function(l){return _(r),y(t.nodeActionsDisabled,l)||(t.nodeActionsDisabled=l),u(l)}),C("ngModelChange",function(l){return _(r),u(t.toggleNodeActions(l))}),s()(),d(24,"p"),m(25,"Disable certain node actions:"),s(),d(26,"div")(27,"p")(28,"input",7),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfig.disableAddBefore,l)||(t.nodeActionsConfig.disableAddBefore=l),u(l)}),C("ngModelChange",function(l){return _(r),u(t.toggleSpecificNodeAction("disableAddBefore",l))}),s(),d(29,"label",8),m(30,"Disable adding before"),s()(),d(31,"p")(32,"input",9),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfig.disableAddAfter,l)||(t.nodeActionsConfig.disableAddAfter=l),u(l)}),C("ngModelChange",function(l){return _(r),u(t.toggleSpecificNodeAction("disableAddAfter",l))}),s(),d(33,"label",10),m(34,"Disable adding after"),s()(),d(35,"p")(36,"input",11),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfig.disableAddParallel,l)||(t.nodeActionsConfig.disableAddParallel=l),u(l)}),C("ngModelChange",function(l){return _(r),u(t.toggleSpecificNodeAction("disableAddParallel",l))}),s(),d(37,"label",12),m(38,"Disable adding parallel"),s()(),d(39,"p")(40,"input",13),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfig.disableEdit,l)||(t.nodeActionsConfig.disableEdit=l),u(l)}),C("ngModelChange",function(l){return _(r),u(t.toggleSpecificNodeAction("disableEdit",l))}),s(),d(41,"label",14),m(42,"Disable editing"),s()(),d(43,"p")(44,"input",15),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfig.disableRemove,l)||(t.nodeActionsConfig.disableRemove=l),u(l)}),C("ngModelChange",function(l){return _(r),u(t.toggleSpecificNodeAction("disableRemove",l))}),s(),d(45,"label",16),m(46,"Disable removing"),s()()(),d(47,"p"),m(48," Allow sending reminders to approvers with statuses: "),d(49,"fd-multi-input",17),T("ngModelChange",function(l){return _(r),y(t.sendReminderStatuses,l)||(t.sendReminderStatuses=l),u(l)}),s()(),d(50,"p"),m(51,"Disable certain node actions for newly added nodes:"),s(),d(52,"div")(53,"p")(54,"input",18),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfigForNewNodes.disableAddBefore,l)||(t.nodeActionsConfigForNewNodes.disableAddBefore=l),u(l)}),C("ngModelChange",function(){return _(r),u(t.newNodeSettingsChange())}),s(),d(55,"label",19),m(56,"Disable adding before"),s()(),d(57,"p")(58,"input",20),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfigForNewNodes.disableAddAfter,l)||(t.nodeActionsConfigForNewNodes.disableAddAfter=l),u(l)}),C("ngModelChange",function(){return _(r),u(t.newNodeSettingsChange())}),s(),d(59,"label",21),m(60,"Disable adding after"),s()(),d(61,"p")(62,"input",22),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfigForNewNodes.disableAddParallel,l)||(t.nodeActionsConfigForNewNodes.disableAddParallel=l),u(l)}),C("ngModelChange",function(){return _(r),u(t.newNodeSettingsChange())}),s(),d(63,"label",23),m(64,"Disable adding parallel"),s()()(),d(65,"p"),m(66,'Disable "Save" button: '),d(67,"input",6),T("ngModelChange",function(l){return _(r),y(t.disableSaveButton,l)||(t.disableSaveButton=l),u(l)}),s()(),d(68,"p"),m(69,'Disable "Exit" button: '),d(70,"input",6),T("ngModelChange",function(l){return _(r),y(t.disableExitButton,l)||(t.disableExitButton=l),u(l)}),s()()}if(a&2){let r=U(2),f=U(4);v("value",t.approvalProcess)("userDetailsTemplate",f)("approvalStatusTemplate",r)("statusColorMapping",t.colorMapping)("userDataSource",t.userDataSource)("watcherDataSource",t.watcherDataSource)("teamDataSource",t.teamDataSource)("checkDueDate",t.checkDueDate)("allowSendRemindersForStatuses",t.sendReminderStatuses)("isEditAvailable",t.editModeEnabled)("disableSaveButton",t.disableSaveButton)("disableExitButton",t.disableExitButton),p(9),x("ngModel",t.selectedExample),p(),J(t.examples),p(4),x("ngModel",t.editModeEnabled),p(3),x("ngModel",t.checkDueDate),p(3),x("ngModel",t.setNotStartedStatuses),p(3),x("ngModel",t.nodeActionsDisabled),p(5),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfig.disableAddBefore),p(4),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfig.disableAddAfter),p(4),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfig.disableAddParallel),p(4),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfig.disableEdit),p(4),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfig.disableRemove),p(3),I("display","flex")("align-items","center")("flex-wrap","wrap"),p(2),I("margin-left",.5,"rem"),v("dropdownValues",t.allStatuses),x("ngModel",t.sendReminderStatuses),p(5),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfigForNewNodes.disableAddBefore),p(4),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfigForNewNodes.disableAddAfter),p(4),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfigForNewNodes.disableAddParallel),p(5),x("ngModel",t.disableSaveButton),p(3),x("ngModel",t.disableExitButton)}},dependencies:[Et,xe,ae,pt,st,lt,dt,te,oe,Se,K,Ge,it],encapsulation:2});let e=n;return e})(),zr=1e3*60*60*24,zt=()=>[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}],pa={};zt().forEach(e=>pa[e.id]=e);var Or=()=>[{id:"teamId1",name:"Accounting team",description:"",members:["uid66171","uid66161","uid66151","uid66141"].map(e=>E(e))},{id:"teamId2",name:"Sales team",description:"",members:["uid77111","uid77115","uid77135","uid81955"].map(e=>E(e))},{id:"teamId3",name:"Legal team",description:"",members:["uid28141","uid08141","uid99641"].map(e=>E(e))},{id:"teamId4",name:"Marketing team",description:"",members:["uid38141","uid37866","uid09141","uid81353","uid81355","uid99655","uid09641","uid99651"].map(e=>E(e))}],jr=()=>({watchers:[E("uid66161")],nodes:[]}),Gr=()=>({watchers:[E("uid66161")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[E("uid81955")],status:"approved",targets:["ID2"],dueDate:F(30),createDate:F(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[E("uid66171")],status:"in progress",targets:["ID3"],dueDate:F(10),createDate:F(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[E("uid81355")],status:"withdrawn",targets:[],dueDate:F(10),createDate:F(-30)}]}),Qr=()=>({watchers:[E("uid66151"),E("uid77115")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[E("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:F(30),createDate:F(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[E("uid66171")],status:"in progress",targets:["ID3"],dueDate:F(30),createDate:F(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[E("uid77135")],status:"approved",targets:["ID3"],dueDate:F(30),createDate:F(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[E("uid77111"),E("uid09641"),E("uid09141"),E("uid37866"),E("uid99641"),E("uid38141")],status:"not started",targets:["ID3"],dueDate:F(5),createDate:F(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[E("uid81355")],status:"not started",targets:["ID4"],dueDate:F(30),createDate:F(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[E("uid99651")],status:"not started",targets:[],dueDate:F(30),createDate:F(-30)}]}),Hr=()=>({watchers:[E("uid66151"),E("uid66141"),E("uid99651"),E("uid99655")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[E("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:F(30),createDate:F(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[E("uid66171")],status:"in progress",targets:["ID3"],dueDate:F(30),createDate:F(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[E("uid28141")],status:"approved",targets:["ID220"],dueDate:F(30),createDate:F(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[E("uid77111"),E("uid09641")],status:"in progress",targets:["ID2220"],dueDate:F(3),createDate:F(-30)},{id:"ID220",name:"node name",description:"node description",approvers:[E("uid08141")],status:"denied",targets:["ID3"],dueDate:F(30),createDate:F(-30)},{id:"ID2220",name:"node name",description:"Marketing",approvers:[E("uid81353")],status:"withdrawn",targets:["ID3"],dueDate:F(30),createDate:F(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[E("uid81355")],status:"not started",targets:["ID4"],dueDate:F(30),createDate:F(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[E("uid99651")],status:"not started",targets:[],dueDate:F(30),createDate:F(-30)}]}),qr=()=>({empty:jr(),simple:Gr(),medium:Qr(),complex:Hr()});function E(e){return pa[e]}function F(e){return new Date(Date.now()+zr*e)}var Dt=class extends ze{fetch(n){let o=zt(),i=n.get("query")?.toLowerCase();return i&&(o=o.filter(a=>a.name?.toLowerCase().startsWith(i))),he(O(o)).pipe(De(500))}getOne(n){let o=n.get("id"),i=zt().find(a=>a.id===o);return he(de(ee({},i),{phone:Math.random().toFixed(13).toString().replace("0.",""),email:`${i.name.toLowerCase().split(" ").join(".")}@company.com`}))}},Ot=class extends ze{fetch(n){let o=Or(),i=n.get("query")?.toLowerCase();return i&&(o=o.filter(a=>a.name?.toLowerCase().startsWith(i))),he(O(o)).pipe(De(500))}};var Zr=["approvalFlowComponent"],Kr=["reminderTemplate"];function Yr(e,n){if(e&1&&(d(0,"p")(1,"span"),m(2,"Mobile"),s(),d(3,"a",25),m(4),s()()),e&2){let o=c().data;I("display","flex")("flex-direction","column"),p(3),v("href","tel:"+o.phone,Ce),p(),z(o.phone)}}function Jr(e,n){if(e&1&&(d(0,"p")(1,"span"),m(2,"Phone"),s(),d(3,"a",25),m(4),s()()),e&2){let o=c().data;I("display","flex")("flex-direction","column"),p(3),v("href","tel:"+o.phone,Ce),p(),z(o.phone)}}function Xr(e,n){if(e&1&&(d(0,"p")(1,"span"),m(2,"E-mail"),s(),d(3,"a",25),m(4),s()()),e&2){let o=c().data;I("display","flex")("flex-direction","column"),p(3),v("href","mailto:"+o.email,Ce),p(),z(o.email)}}function $r(e,n){if(e&1&&(d(0,"h4"),m(1,"Contact info"),s(),w(2,Yr,5,6,"p",24),w(3,Jr,5,6,"p",24),w(4,Xr,5,6,"p",24),d(5,"h4"),m(6,"Company"),s(),d(7,"p")(8,"span"),m(9,"Name"),s(),d(10,"span"),m(11),s()(),d(12,"p")(13,"span"),m(14,"Address"),s(),d(15,"span"),m(16,"481 West Street, Anytown OH, 83749, USA"),s()()),e&2){let o=n.data;I("margin-bottom",1,"rem"),p(2),g(o!=null&&o.phone?2:-1),p(),g(o!=null&&o.phone?3:-1),p(),g(o!=null&&o.email?4:-1),p(),I("margin-top",1.5,"rem")("margin-bottom",1,"rem"),p(2),I("display","flex")("flex-direction","column"),p(4),A("Company A",o==null?null:o.email),p(),I("display","flex")("flex-direction","column")}}function el(e,n){if(e&1&&m(0),e&2){let o=c().$implicit;A(" Reminder has been sent to ",o.data.targets[0].name," ")}}function tl(e,n){if(e&1&&m(0),e&2){let o=c().$implicit;be(" Reminder has been sent to ",o.data.targets.length," members of ",o.data.node.description," ")}}function ol(e,n){if(e&1&&w(0,el,1,1)(1,tl,1,2),e&2){let o=n.$implicit;g(o.data.targets.length===1?0:1)}}function al(e,n){if(e&1&&(d(0,"option",5),m(1),h(2,"titlecase"),s()),e&2){let o=n.$implicit;v("value",o),p(),z(b(2,2,o))}}var sa=(()=>{let n=class n{constructor(i){this._messageToastService=i,this.graphs=sl(),this.examples=["empty","simple","medium","complex"],this.selectedExample="complex",this.approvalProcess=this.graphs[this.selectedExample],this.userDataSource=new we(new Ft),this.watcherDataSource=new we(new Ft),this.teamDataSource=new Oe(new Gt),this.checkDueDate=!1,this.setNotStartedStatuses=!1,this.editModeEnabled=!0,this.nodeActionsDisabled=!1,this.nodeActionsConfig={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1,disableEdit:!1,disableRemove:!1},this.nodeActionsConfigForNewNodes={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1},this.allStatuses=["in progress","not started","approved","rejected"],this.sendReminderStatuses=["in progress","not started"],this.isRemoveSpaceNode=!1,this.disableSaveButton=!1,this.disableExitButton=!1,this._subscriptions=new ge,this.newNodes=new Map}ngOnDestroy(){this._subscriptions.unsubscribe()}valueChanged(i){console.log("valueChanged",i)}sendReminders(i){this._messageToastService.open(this._reminderTemplate,{data:{targets:i.users,node:i.node},duration:5e3})}changeExampleData(){this.approvalProcess=O(this.graphs[this.selectedExample])}toggleNodeActions(i){let a=this._approvalFlow.approvalProcess,t=O(a);t.nodes.forEach(r=>{r.disableActions=i}),this.approvalProcess=t}toggleSpecificNodeAction(i,a){let t=this._approvalFlow.approvalProcess,r=O(t);r.nodes.forEach(f=>{f.actionsConfig=de(ee({},f.actionsConfig),{[i]:a})}),this.approvalProcess=r}newNodeSettingsChange(){this._approvalFlow.approvalProcess.nodes.forEach(a=>{if(this.newNodes.has(a.id)){let t=this._approvalFlow.getNodeMetadataByNodeId(a.id);t.canAddNodeAfter=!this.nodeActionsConfigForNewNodes.disableAddAfter,t.canAddNodeBefore=!this.nodeActionsConfigForNewNodes.disableAddBefore,t.canAddParallel=!this.nodeActionsConfigForNewNodes.disableAddParallel}})}nodeClick(i){console.log("Node click handler",i)}afterNodeAdd(i){console.log("After node add handler",i),this.newNodes.set(i.id,i),this.newNodeSettingsChange()}afterNodeEdit(i){console.log("After node edit handler",i),this.newNodeSettingsChange()}setNotStarted(){let i=this._approvalFlow.approvalProcess,a=new Map(this.graphs[this.selectedExample].nodes.map(r=>[r.id,r])),t=O(i);t.nodes=t.nodes.map(r=>{let f=this.setNotStartedStatuses||!a.has(r.id)?"not started":a.get(r.id).status;return de(ee({},r),{status:f})}),this.approvalProcess=t}};n.\u0275fac=function(a){return new(a||n)(L(vt))},n.\u0275cmp=P({type:n,selectors:[["fdp-platform-approval-flow-example"]],viewQuery:function(a,t){if(a&1&&(q(Zr,5),q(Kr,5)),a&2){let r;Q(r=H())&&(t._approvalFlow=r.first),Q(r=H())&&(t._reminderTemplate=r.first)}},decls:73,vars:45,consts:[["approvalFlowComponent",""],["userDetailsTemplate",""],["reminderTemplate",""],["title","Basic Approval Flow Demo",3,"nodeClick","afterNodeAdd","afterNodeEdit","valueChange","sendReminders","value","userDetailsTemplate","userDataSource","watcherDataSource","teamDataSource","checkDueDate","allowSendRemindersForStatuses","isEditAvailable","disableSaveButton","disableExitButton","removeSpaceNode"],[3,"ngModelChange","ngModel"],[3,"value"],["type","checkbox",3,"ngModelChange","ngModel"],["id","disableAddingNodeBefore","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeBefore"],["id","disableAddingNodeAfter","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeAfter"],["id","disableAddingNodeParallel","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeParallel"],["id","disableEditingNode","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableEditingNode"],["id","disableRemovingNode","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableRemovingNode"],["fdCompact","",3,"ngModelChange","dropdownValues","ngModel"],["id","disableAddingNodeBeforeForNewNodes","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeBeforeForNewNodes"],["id","disableAddingNodeAfterForNewNodes","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeAfterForNewNodes"],["id","disableAddingNodeParallelForNewNodes","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeParallelForNewNodes"],[3,"display","flex-direction"],[3,"href"]],template:function(a,t){if(a&1){let r=S();d(0,"fdp-approval-flow",3,0),C("nodeClick",function(l){return _(r),u(t.nodeClick(l))})("afterNodeAdd",function(l){return _(r),u(t.afterNodeAdd(l))})("afterNodeEdit",function(l){return _(r),u(t.afterNodeEdit(l))})("valueChange",function(l){return _(r),u(t.valueChanged(l))})("sendReminders",function(l){return _(r),u(t.sendReminders(l))}),s(),R(2,$r,17,18,"ng-template",null,1,re)(4,ol,2,1,"ng-template",null,2,re),d(6,"p"),m(7," Selected example: "),d(8,"select",4),T("ngModelChange",function(l){return _(r),y(t.selectedExample,l)||(t.selectedExample=l),u(l)}),C("ngModelChange",function(){return _(r),u(t.changeExampleData())}),Y(9,al,3,4,"option",5,pe),s()(),d(11,"p"),m(12,'Enable "Edit mode": '),d(13,"input",6),T("ngModelChange",function(l){return _(r),y(t.editModeEnabled,l)||(t.editModeEnabled=l),u(l)}),s()(),d(14,"p"),m(15,"Enable due date warnings: "),d(16,"input",6),T("ngModelChange",function(l){return _(r),y(t.checkDueDate,l)||(t.checkDueDate=l),u(l)}),s()(),d(17,"p"),m(18,' Set all statuses to "Not Started": '),d(19,"input",6),T("ngModelChange",function(l){return _(r),y(t.setNotStartedStatuses,l)||(t.setNotStartedStatuses=l),u(l)}),C("ngModelChange",function(){return _(r),u(t.setNotStarted())}),s()(),d(20,"p"),m(21," Disable all node actions: "),d(22,"input",6),T("ngModelChange",function(l){return _(r),y(t.nodeActionsDisabled,l)||(t.nodeActionsDisabled=l),u(l)}),C("ngModelChange",function(l){return _(r),u(t.toggleNodeActions(l))}),s()(),d(23,"p"),m(24,"Disable certain node actions:"),s(),d(25,"div")(26,"p")(27,"input",7),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfig.disableAddBefore,l)||(t.nodeActionsConfig.disableAddBefore=l),u(l)}),C("ngModelChange",function(l){return _(r),u(t.toggleSpecificNodeAction("disableAddBefore",l))}),s(),d(28,"label",8),m(29,"Disable adding before"),s()(),d(30,"p")(31,"input",9),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfig.disableAddAfter,l)||(t.nodeActionsConfig.disableAddAfter=l),u(l)}),C("ngModelChange",function(l){return _(r),u(t.toggleSpecificNodeAction("disableAddAfter",l))}),s(),d(32,"label",10),m(33,"Disable adding after"),s()(),d(34,"p")(35,"input",11),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfig.disableAddParallel,l)||(t.nodeActionsConfig.disableAddParallel=l),u(l)}),C("ngModelChange",function(l){return _(r),u(t.toggleSpecificNodeAction("disableAddParallel",l))}),s(),d(36,"label",12),m(37,"Disable adding parallel"),s()(),d(38,"p")(39,"input",13),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfig.disableEdit,l)||(t.nodeActionsConfig.disableEdit=l),u(l)}),C("ngModelChange",function(l){return _(r),u(t.toggleSpecificNodeAction("disableEdit",l))}),s(),d(40,"label",14),m(41,"Disable editing"),s()(),d(42,"p")(43,"input",15),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfig.disableRemove,l)||(t.nodeActionsConfig.disableRemove=l),u(l)}),C("ngModelChange",function(l){return _(r),u(t.toggleSpecificNodeAction("disableRemove",l))}),s(),d(44,"label",16),m(45,"Disable removing"),s()()(),d(46,"p"),m(47," Allow sending reminders to approvers with statuses: "),d(48,"fd-multi-input",17),T("ngModelChange",function(l){return _(r),y(t.sendReminderStatuses,l)||(t.sendReminderStatuses=l),u(l)}),s()(),d(49,"p"),m(50,"Disable certain node actions for newly added nodes:"),s(),d(51,"div")(52,"p")(53,"input",18),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfigForNewNodes.disableAddBefore,l)||(t.nodeActionsConfigForNewNodes.disableAddBefore=l),u(l)}),C("ngModelChange",function(){return _(r),u(t.newNodeSettingsChange())}),s(),d(54,"label",19),m(55,"Disable adding before"),s()(),d(56,"p")(57,"input",20),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfigForNewNodes.disableAddAfter,l)||(t.nodeActionsConfigForNewNodes.disableAddAfter=l),u(l)}),C("ngModelChange",function(){return _(r),u(t.newNodeSettingsChange())}),s(),d(58,"label",21),m(59,"Disable adding after"),s()(),d(60,"p")(61,"input",22),T("ngModelChange",function(l){return _(r),y(t.nodeActionsConfigForNewNodes.disableAddParallel,l)||(t.nodeActionsConfigForNewNodes.disableAddParallel=l),u(l)}),C("ngModelChange",function(){return _(r),u(t.newNodeSettingsChange())}),s(),d(62,"label",23),m(63,"Disable adding parallel"),s()()(),d(64,"p"),m(65,'Disable "Save" button: '),d(66,"input",6),T("ngModelChange",function(l){return _(r),y(t.disableSaveButton,l)||(t.disableSaveButton=l),u(l)}),s()(),d(67,"p"),m(68,'Disable "Exit" button: '),d(69,"input",6),T("ngModelChange",function(l){return _(r),y(t.disableExitButton,l)||(t.disableExitButton=l),u(l)}),s()(),d(70,"p"),m(71,"Remove space node: "),d(72,"input",6),T("ngModelChange",function(l){return _(r),y(t.isRemoveSpaceNode,l)||(t.isRemoveSpaceNode=l),u(l)}),s()()}if(a&2){let r=U(3);v("value",t.approvalProcess)("userDetailsTemplate",r)("userDataSource",t.userDataSource)("watcherDataSource",t.watcherDataSource)("teamDataSource",t.teamDataSource)("checkDueDate",t.checkDueDate)("allowSendRemindersForStatuses",t.sendReminderStatuses)("isEditAvailable",t.editModeEnabled)("disableSaveButton",t.disableSaveButton)("disableExitButton",t.disableExitButton)("removeSpaceNode",t.isRemoveSpaceNode),p(8),x("ngModel",t.selectedExample),p(),J(t.examples),p(4),x("ngModel",t.editModeEnabled),p(3),x("ngModel",t.checkDueDate),p(3),x("ngModel",t.setNotStartedStatuses),p(3),x("ngModel",t.nodeActionsDisabled),p(5),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfig.disableAddBefore),p(4),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfig.disableAddAfter),p(4),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfig.disableAddParallel),p(4),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfig.disableEdit),p(4),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfig.disableRemove),p(3),I("display","flex")("align-items","center")("flex-wrap","wrap"),p(2),I("margin-left",.5,"rem"),v("dropdownValues",t.allStatuses),x("ngModel",t.sendReminderStatuses),p(5),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfigForNewNodes.disableAddBefore),p(4),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfigForNewNodes.disableAddAfter),p(4),v("disabled",t.nodeActionsDisabled),x("ngModel",t.nodeActionsConfigForNewNodes.disableAddParallel),p(5),x("ngModel",t.disableSaveButton),p(3),x("ngModel",t.disableExitButton),p(3),x("ngModel",t.isRemoveSpaceNode)}},dependencies:[Et,xe,ae,pt,st,lt,dt,te,oe,Se,K,Ge,it],encapsulation:2});let e=n;return e})(),il=1e3*60*60*24,jt=()=>[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}],fa={};jt().forEach(e=>fa[e.id]=e);var nl=()=>[{id:"teamId1",name:"Accounting team",description:"",members:["uid66171","uid66161","uid66151","uid66141"].map(e=>D(e))},{id:"teamId2",name:"Sales team",description:"",members:["uid77111","uid77115","uid77135","uid81955"].map(e=>D(e))},{id:"teamId3",name:"Legal team",description:"",members:["uid28141","uid08141","uid99641"].map(e=>D(e))},{id:"teamId4",name:"Marketing team",description:"",members:["uid38141","uid37866","uid09141","uid81353","uid81355","uid99655","uid09641","uid99651"].map(e=>D(e))}],rl=()=>({watchers:[D("uid66161")],nodes:[]}),ll=()=>({watchers:[D("uid66161")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[D("uid81955")],status:"approved",targets:["ID2"],dueDate:N(30),createDate:N(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[D("uid66171")],status:"in progress",targets:["ID3"],dueDate:N(10),createDate:N(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[D("uid81355")],status:"not started",targets:[],dueDate:N(10),createDate:N(-30)}]}),dl=()=>({watchers:[D("uid66151"),D("uid77115")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[D("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:N(30),createDate:N(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[D("uid66171")],status:"in progress",targets:["ID3"],dueDate:N(30),createDate:N(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[D("uid77135")],status:"approved",targets:["ID3"],dueDate:N(30),createDate:N(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[D("uid77111"),D("uid09641"),D("uid09141"),D("uid37866"),D("uid99641"),D("uid38141")],status:"not started",targets:["ID3"],dueDate:N(5),createDate:N(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[D("uid81355")],status:"not started",targets:["ID4"],dueDate:N(30),createDate:N(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[D("uid99651")],status:"not started",targets:[],dueDate:N(30),createDate:N(-30)}]}),pl=()=>({watchers:[D("uid66151"),D("uid66141"),D("uid99651"),D("uid99655")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[D("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:N(30),createDate:N(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[D("uid66171")],status:"in progress",targets:["ID3"],dueDate:N(30),createDate:N(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[D("uid28141")],status:"approved",targets:["ID220"],dueDate:N(30),createDate:N(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[D("uid77111"),D("uid09641")],status:"in progress",targets:["ID2220"],dueDate:N(3),createDate:N(-30)},{id:"ID220",name:"node name",description:"node description",approvers:[D("uid08141")],status:"rejected",targets:["ID3"],dueDate:N(30),createDate:N(-30)},{id:"ID2220",name:"node name",description:"Marketing",approvers:[D("uid81353")],status:"not started",targets:["ID3"],dueDate:N(30),createDate:N(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[D("uid81355")],status:"not started",targets:["ID4"],dueDate:N(30),createDate:N(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[D("uid99651")],status:"not started",targets:[],dueDate:N(30),createDate:N(-30)}]}),sl=()=>({empty:rl(),simple:ll(),medium:dl(),complex:pl()});function D(e){return fa[e]}function N(e){return new Date(Date.now()+il*e)}var Ft=class extends ze{fetch(n){let o=jt(),i=n.get("query")?.toLowerCase();return i&&(o=o.filter(a=>a.name?.toLowerCase().startsWith(i))),he(O(o)).pipe(De(500))}getOne(n){let o=n.get("id"),i=jt().find(a=>a.id===o);return he(de(ee({},i),{phone:Math.random().toFixed(13).toString().replace("0.",""),email:`${i.name.toLowerCase().split(" ").join(".")}@company.com`}))}},Gt=class extends ze{fetch(n){let o=nl(),i=n.get("query")?.toLowerCase();return i&&(o=o.filter(a=>a.name?.toLowerCase().startsWith(i))),he(O(o)).pipe(De(500))}};var fl="platform-approval-flow-example.component.html",cl="platform-approval-flow-example.component.ts",ml="platform-approval-flow-custom-status-example.component.ts",_l="platform-approval-flow-custom-status-example.component.html",ca=(()=>{let n=class n{constructor(){this.basic=[{language:"html",code:qe(fl),fileName:"platform-approval-flow-example",name:"approval-flow-example"},{language:"typescript",code:qe(cl),fileName:"platform-approval-flow-example",component:"PlatformApprovalFlowExampleComponent",name:"approval-flow-example"}],this.status=[{language:"html",code:qe(_l),fileName:"platform-approval-flow-custom-status-example",name:"platform-approval-flow-custom-status-example"},{language:"typescript",code:qe(ml),fileName:"platform-approval-flow-custom-status-example",component:"PlatformApprovalFlowCustomStatusExampleComponent",name:"platform-approval-flow-custom-status-example"}]}};n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=P({type:n,selectors:[["app-approval-flow"]],decls:20,vars:2,consts:[["id","approval-flow","componentName","approval-flow"],[3,"exampleFiles"],["id","custom-width","componentName","table"]],template:function(a,t){a&1&&(d(0,"fd-docs-section-title",0),m(1," Approval flow "),s(),d(2,"component-example"),k(3,"fdp-platform-approval-flow-example"),s(),k(4,"code-example",1)(5,"separator"),d(6,"fd-docs-section-title",2),m(7,` Approval Flow with custom statuses
`),s(),d(8,"description")(9,"p"),m(10," In this example we have custom status defined on the application level. We need to provide a "),d(11,"code"),m(12,"approvalStatusTemplate"),s(),m(13," template to tell the "),d(14,"code"),m(15,"ApprovalFlow"),s(),m(16," component how to handle these different states "),s()(),d(17,"component-example"),k(18,"fdp-platform-approval-flow-custom-status-example"),s(),k(19,"code-example",1)),a&2&&(p(4),v("exampleFiles",t.basic),p(15),v("exampleFiles",t.status))},dependencies:[Io,Mo,sa,So,Po,ut,Ge,da],encapsulation:2});let e=n;return e})();var ma=(()=>{let n=class n{};n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=P({type:n,selectors:[["fd-approval-flow-header"]],decls:19,vars:1,consts:[["type","warning",3,"dismissible"],["label","SAP Ariba Component","title","SAP Ariba Component","color","8"],["module","PlatformApprovalFlowModule","subPackage","approval-flow"]],template:function(a,t){a&1&&(d(0,"fd-doc-page")(1,"header"),m(2,"Approval Flow"),s(),d(3,"fd-message-strip",0),m(4," DEPRECATED. The component is not a standard SAP Design System component. "),s(),k(5,"fd-info-label",1),d(6,"description"),m(7," The Approval Flow component is a complex component which tracks and manages the approval process for a business object. From the Approval Flow component a user is able to: "),d(8,"ul")(9,"li"),m(10,"See the progress of the approval process"),s(),d(11,"li"),m(12,"Add, edit, move (drag and drop) and delete approvers"),s(),d(13,"li"),m(14,"Add and remove watchers"),s(),d(15,"li"),m(16,"Send reminder notifications to approvers"),s()()(),k(17,"import",2)(18,"fd-header-tabs"),s()),a&2&&(p(3),v("dismissible",!1))},dependencies:[ko,Bo,rt,Ko,Zo,ut,Lo,Vo],encapsulation:2});let e=n;return e})();var vc=[{path:"",component:ma,children:[{path:"",component:ca}],data:{primary:!0}}],wc="approval-flow",gc="approvalFlow",hc="platformApprovalFlow";export{gc as API_FILE_KEY,hc as I18N_KEY,wc as LIBRARY_NAME,vc as ROUTES};
