import{c as j,d as z,e as B,h as q,t as R,u as G,x as J}from"./chunk-2LTBYWJU.js";import{$a as b,Ad as L,C as g,Ca as o,Db as E,Eb as I,Fb as P,Gb as k,Hb as H,Jh as Q,Kb as f,Lb as d,Ma as x,P as v,Wc as V,Za as F,_ as p,bb as w,ca as h,cb as D,da as _,db as S,eb as a,fb as r,gb as l,hb as c,la as C,ma as M,mc as N,o as s,pb as T,qc as O,sb as A,vb as m,xa as y,zd as $}from"./chunk-KJ35K6QL.js";import"./chunk-66YHNWRR.js";var U=["menu"];function W(i,u){if(i&1&&c(0,"button",3),i&2){let t=m(),e=P(6);a("label","Select a file ("+t.files().length+")")("fdMenu",!0)("fdMenuTrigger",e)}}function X(i,u){if(i&1){let t=T();r(0,"li",7),A("click",function(){let n=h(t).$implicit,K=m();return _(K.getFile(n))}),r(1,"div",8)(2,"span",9),f(3),l()()()}if(i&2){let t=u.$implicit,e=m();H("is-selected",t===e.activeFile()),o(3),d(t)}}var de=(()=>{class i{constructor(){this.menu=O("menu"),this._route=p(V),this._apiService=p(J),this.activeFile=C(""),this.files=N(()=>{let e=this._route.snapshot.data.content;return e?[...e].sort():[]}),this.result=L($(this.activeFile).pipe(v(e=>e?this._apiService.getComponentHtml(e).pipe(g(n=>(console.warn(`Did not find file ${e}.
Error:`,n),s(`<h2>Error loading ${e}</h2>`)))):s("<h2>No API files found.</h2>"))),{initialValue:""});let t=this.files();t.length>0&&this.activeFile.set(t[0]),M(()=>{this.activeFile(),this.menu()?.close()})}getFile(t){this.activeFile.set(t)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=x({type:i,selectors:[["fd-api"]],viewQuery:function(e,n){e&1&&E(n.menu,U,5),e&2&&I()},decls:10,vars:8,consts:[["menu",""],[1,"api-main-container"],[1,"api-main-header"],["fd-button","",3,"label","fdMenu","fdMenuTrigger"],["placement","bottom-start",3,"fillControlMode"],["fd-menu-item","",3,"is-selected"],[3,"innerHTML"],["fd-menu-item","",3,"click"],["fd-menu-interactive",""],["fd-menu-title",""]],template:function(e,n){e&1&&(r(0,"div",1)(1,"h2",2),f(2),l(),c(3,"span"),F(4,W,1,3,"button",3),r(5,"fd-menu",4,0),D(7,X,4,3,"li",5,w),l()(),c(9,"div",6)),e&2&&(o(2),d(n.activeFile()),o(),k("display","flex")("flex-grow","1"),o(),b(n.files().length>1?4:-1),o(),a("fillControlMode",null),o(2),S(n.files()),o(2),a("innerHTML",n.result(),y))},dependencies:[Q,G,R,B,z,j,q],styles:[".api-main-header[_ngcontent-%COMP%]{margin:0;font-weight:700;text-rendering:optimizeLegibility}.api-main-container[_ngcontent-%COMP%]{margin-top:2em;display:flex;align-items:center;justify-content:flex-start;flex-wrap:wrap}fd-popover[_ngcontent-%COMP%]     .fd-button{margin-right:0}"],changeDetection:0})}}return i})();export{de as ApiComponent};
