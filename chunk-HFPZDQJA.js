import{a as Qe}from"./chunk-TI3XTER4.js";import{e as it,f as nt,g as lt,h as He,j as rt,l as pt,m as dt}from"./chunk-HGABOZUM.js";import{b as st,c as ft,d as _t,e as ct}from"./chunk-IXZ4IDJI.js";import{a as $e}from"./chunk-QSHHMXP7.js";import{Aa as Yo,Ib as Ge,Lc as tt,Mc as at,ab as mo,ac as De,ec as Ze,h as Zo,nb as Jo,oc as et,pc as ot,qc as Ee,ra as Ko,za as co}from"./chunk-RMD675XB.js";import{c as Ho,d as $o,e as Qo,h as qo,t as _o}from"./chunk-2LTBYWJU.js";import{D as je,r as We,w as Xo,x as ye}from"./chunk-VVVYTGKZ.js";import{$a as c,$h as Se,$i as ee,Ab as U,Bb as z,Ca as r,Cf as Uo,Ch as le,Dd as we,Ec as ue,Eh as Oo,Ei as X,F as po,Fb as P,Fc as Lo,Gb as q,Hb as M,I as Co,Jh as be,Ji as J,Ka as N,Kb as g,Kd as Ro,Lb as H,Lh as xe,Ma as k,Mb as x,Mh as Wo,Na as Do,Nb as ze,O as so,Oa as Eo,P as bo,Ph as jo,Qb as I,Rb as V,S as xo,Sa as E,Sb as B,Sh as Ae,Va as ie,W as Ao,Wa as fo,Wb as Vo,Wh as Te,X as To,Xb as ne,Yb as K,Za as _,Zb as Bo,_ as So,a as Be,bb as se,bi as Go,ca as u,cb as W,d as ho,da as w,db as j,ea as yo,eb as m,ec as v,fb as d,fc as h,ga as Fo,gb as s,gc as ve,hb as D,ia as No,ja as y,kc as Ne,lb as Re,mb as Ue,pb as b,ph as R,qa as ce,r as go,rh as zo,s as Le,sb as C,ta as Pe,u as lo,vb as l,ve as Oe,vf as he,wb as ko,wc as Y,wd as O,x as ro,xb as Mo,xh as ge,yb as Io,yd as Po,yh as Ce,zb as me}from"./chunk-KJ35K6QL.js";import{a as de,b as no}from"./chunk-66YHNWRR.js";function G(o){return o.status==="approved"}function qe(o){return o.status!=="not started"}function mt(o){return o?.name}function Ke(o){return o?.name}function vt(o){return o?.id}function Ye(o,n){return o.name.toLowerCase().indexOf(n.toLowerCase())>-1}function oe(o,n){return n?.id??o}function fe(o){return o.columns.reduce((n,e)=>n.concat(e.nodes),[])}function ut(o,n){return n.filter(e=>_e(e,o.id))}function Xe(){return{id:`blankId${(Math.random()*1e3).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",blank:!0}}function wt(){return{id:`spaceId${(Math.random()*1e3).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",space:!0}}function _e(o,n){return o.targets.includes(n)}function gt(o){let n={columns:[],errors:!1};if(!o.length)return n;let e=yt(o),a=Ft(o);if(!e.length||!a.length)return console.warn("Err: Not possible to build graph because root or final nodes aren't present!"),n.errors=!0,n;let t=Nt(e,o);if(!t.length)return console.warn("Err: Not possible to build graph!"),n.errors=!0,n;let i=Dt(t),p=Et(i),f=Mt(p),A=It(f),T=Vt(A),F=Bt(T),L=Lt(F),S=Pt(L);return n.columns=Ut(S),n}function Ct(o){let n=fe(o),e={};return o.columns.forEach((a,t)=>{a.nodes.forEach((i,p)=>{let f=ut(i,n),A=f.length?f.every(pe=>G(pe)):!1,T=!f.length&&!i.space,F=!i.targets.length&&!i.space,L=f.length>1,S=t===0&&a.nodes.length>1&&p===0,re=t===o.columns.length-1&&a.nodes.length>1&&p===0;e[i.id]={parents:f,isRoot:T,isFinal:F,parallelStart:i.targets.length>1,parallelEnd:L,columnIndex:t,nodeIndex:p,canAddNodeBefore:!qe(i)&&!A,canAddNodeBeforeAll:T&&S,canAddNodeAfter:!G(i),canAddNodeAfterAll:!G(i)&&(F&&re||L&&i.blank),canAddParallel:!G(i),isVerticalLineBeforeSolid:i.space&&o.columns[t-1]?.allNodesApproved,isVerticalLineAfterSolid:i.space&&a.allNodesApproved,firstOfMultipleRootNodes:S,firstOfMultipleFinalNodes:re,rootNodesApproved:t===0&&a.allNodesApproved}})}),o.columns.forEach(a=>{a.nodes.forEach((t,i)=>{let p=e[t.id];p.isLastInParallel=e[t.targets[0]]?.parallelEnd,p.isFirstInParallel=e[p.parents[0]?.id]?.parallelStart;let f=a.index,A=f?o.columns[f-1]:void 0,T=f?o.columns[f+1]:void 0,F=A?.nodes[i],L=T?.nodes[i];p.renderAddNodeAfterButton=p.canAddNodeAfter&&(p.isFinal||p.parallelStart||p.isLastInParallel||L?.blank);let S=T?.nodes;if(p.parallelStart&&S){let pe=S.filter(ae=>t.targets.includes(ae.id)),io=S.findIndex(ae=>ae.id===pe[0].id),te=S.findIndex(ae=>ae.id===pe[pe.length-1].id);for(let ae=io+1;ae<=te;ae++)e[S[ae].id].renderVerticalLineBefore=!0}let re=A?.nodes;if(p.parallelEnd&&re){let pe=re.findIndex(te=>te.id===p.parents[0].id),io=re.findIndex(te=>te.id===p.parents[p.parents.length-1].id);for(let te=pe+1;te<=io;te++)e[re[te].id].renderVerticalLineAfter=!0}p.renderVerticalLineBefore=p.renderVerticalLineBefore?!0:i>0&&!F,p.renderVerticalLineAfter=p.renderVerticalLineAfter?!0:i>0&&!L})}),e}function yt(o){return o.filter(n=>o.every(e=>!_e(e,n.id)))}function Ft(o){return o.filter(n=>!n.targets.length)}function Nt(o,n){let e=[],a=[];for(let t=0;t<o.length;t++)for(a.push([o[t]]);a.length;){let i=a.pop(),p;if(i&&(p=i[i.length-1]),!p)return[];p.targets.length?p.targets.forEach(f=>{let A=n.find(F=>F.id===f);if(!A)return;let T=[...i,A];a.push(T)}):e.push(i)}return e}function Dt(o){let n=[];return o.forEach(e=>{let a=e.length-1;for(let t=e.length-1;t>0&&e[t].blank;--t)a=t-1;e[a].targets=[],n.push(e.slice(0,a+1))}),n}function Et(o){let n=[],e=o.map(t=>t.length),a=Math.max(...e);return o.forEach(t=>{if(t.length===a){n.push(t);return}t.forEach((i,p)=>{let f=kt(i,n);if(f.length&&f[0].id!==t[p+1]?.id){t.splice(p+1,0,...f);return}let A=o.map(F=>F.indexOf(i)),T=Math.max(...A);if(p<T){f=ht(T-p,t[p-1].status),f[f.length-1].targets=[i.id],t[p-1].targets=[f[0].id],t.splice(p,0,...f);return}if(p===T&&p===t.length-1){f=ht(a-t.length,t[p].status),t[p].targets=[f[0].id],t.splice(p+1,0,...f);return}}),n.push(t)}),n}function kt(o,n){let e=[],a=n.find(t=>{let i=t.indexOf(o);return i>-1&&t[i+1]?.blank});if(a){let t=a.indexOf(o)+1,i=a.findIndex((p,f)=>f>t&&!p.blank);e.push(...a.slice(t,i>0?i:void 0))}return e}function ht(o,n){let e=[],a,t;for(let i=o;i>0;i--)a=Object.assign({},Xe(),{targets:t?[t]:[],status:n}),t=a.id,e.unshift(a);return e}function Mt(o){if(o.length===1)return o;let n=[],e=0;o.forEach((i,p)=>{for(let f=0;f<o.length;f++)if(p!==f&&!n.some(A=>p===A[1]&&f===A[0])){e=0;for(let A=0;A<i.length;A++)i[A].id===o[f][A].id&&e++;n.push([p,f,e])}}),n=n.sort((i,p)=>i[2]>p[2]?-1:1);let a=[],t=[];return n.forEach(i=>{a.some(p=>p===i[0])||(t.push(o[i[0]]),a.push(i[0])),a.some(p=>p===i[1])||(t.push(o[i[1]]),a.push(i[1]))}),t}function It(o){let n=[];return o.forEach((e,a)=>{e.forEach(t=>{o.forEach((i,p)=>{p!==a&&i.indexOf(t)>-1&&i.splice(i.indexOf(t),1,wt())})}),n.push(e)}),n}function Vt(o){return o.reduce((n,e)=>(e.every(a=>a.space)||n.push(e),n),[])}function Bt(o){let n=[],e=[];for(let a=0;a<o[0].length;a++){e=[];for(let t=0;t<o.length;t++)e.push(o[t][a]);n.push(e)}return n}function Lt(o){let n=[];return o.forEach(e=>{let a;for(let t=e.length-1;t>=0;t--)if(!e[t].space){a=t;break}a<e.length?n.push(e.slice(0,a+1)):n.push(e)}),n}function Pt(o){let n=[];return o.forEach(e=>{e.every(t=>t.blank||t.space)?e.forEach(t=>{t.blank&&Rt(t.id,t.targets,o)}):n.push(e)}),n}function Rt(o,n,e){e.forEach(a=>{a.forEach(t=>{_e(t,o)&&(t.targets=t.targets.filter(i=>i!==o),t.targets.push(...n))})})}function Ut(o){let n=[];return o.forEach((e,a)=>{e.forEach(t=>t.colIndex=a),n.push({nodes:e,index:a,allNodesApproved:e.every(t=>G(t))})}),n}var zt=o=>({image:"",ariaLabel:o});function Ot(o,n){if(o&1){let e=b();d(0,"div",1)(1,"fd-radio-button",2),B("ngModelChange",function(t){u(e);let i=l();return V(i.selectedTeamId,t)||(i.selectedTeamId=t),w(t)}),C("click",function(){let t=u(e).$implicit,i=l();return w(i.onTeamRadioClick.emit(t))}),s(),d(2,"fdp-standard-list-item",3),C("click",function(){let t=u(e).$implicit,i=l();return w(i._showTeamDetails(t))}),s(),D(3,"fd-icon",4),s()}if(o&2){let e=n.$implicit,a=n.$index,t=l();r(),m("value",e.id)("name","team-radio"+a),I("ngModel",t.selectedTeamId),ie("id","team-radio"+a),r(),m("avatar",K(9,zt,e.name))("description",e.description||e.members.length+" members")("title",e.name),ie("id","approval-team-"+e.id),r(),m("glyph","navigation-"+(t.isRtl?"left":"right")+"-arrow")}}var eo=(()=>{class o{constructor(){this.teams=[],this.isRtl=!1,this.onTeamClick=new y,this.onTeamRadioClick=new y,this._trackByFn=oe}_showTeamDetails(e){this.onTeamClick.emit(e)}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=k({type:o,selectors:[["fdp-approval-flow-team-list"]],hostAttrs:[1,"fdp-approval-flow-team-list"],inputs:{teams:"teams",isRtl:"isRtl",selectedTeamId:"selectedTeamId"},outputs:{onTeamClick:"onTeamClick",onTeamRadioClick:"onTeamRadioClick"},decls:4,vars:1,consts:[["fdCompact","",3,"hasByLine"],["fd-form-item",""],[3,"ngModelChange","click","value","name","ngModel"],[3,"click","avatar","description","title"],[3,"glyph"]],template:function(a,t){a&1&&(d(0,"fdp-list",0)(1,"fd-form-group"),W(2,Ot,4,11,"div",1,t._trackByFn,!0),s()()),a&2&&(m("hasByLine",!0),r(2),j(t.teams))},dependencies:[De,O,We,ye,Ge,ee,X,J,Ee,le],styles:[`.fdp-approval-flow-team-list .fd-form-item{position:relative;margin-bottom:0}.fdp-approval-flow-team-list .fd-form-item fd-radio-button{position:absolute;z-index:1;top:1.4rem}.fdp-approval-flow-team-list .fd-form-item .fd-list__item{padding-left:2rem!important;cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-icon{position:absolute;right:1rem;top:2rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-avatar{color:#fff;color:var(--sapBaseColor, #fff)}[dir=rtl] .fdp-approval-flow-team-list .fd-form-item fd-icon,.fdp-approval-flow-team-list[dir=rtl] .fd-form-item fd-icon{right:auto;left:1rem}[dir=rtl] .fdp-approval-flow-team-list .fd-list__item,.fdp-approval-flow-team-list[dir=rtl] .fd-list__item{padding-right:2rem!important;padding-left:0!important}
`],encapsulation:2,changeDetection:0})}}return o})();var Wt=o=>({data:o});function jt(o,n){}function Gt(o,n){if(o&1&&(E(0,jt,0,0,"ng-template",4),v(1,"async")),o&2){let e=l();m("ngTemplateOutlet",e.detailsTemplate)("ngTemplateOutletContext",K(4,Wt,h(1,2,e.details)))}}var oo=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=k({type:o,selectors:[["fdp-approval-flow-user-details"]],hostAttrs:[1,"fdp-approval-flow-user-details"],inputs:{user:"user",details:"details",detailsTemplate:"detailsTemplate"},decls:8,vars:4,consts:[[1,"fdp-approval-flow-user-details__user-info"],["size","s",3,"image"],[1,"fdp-approval-flow-user-details__name"],[1,"fdp-approval-flow-user-details__description"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(a,t){a&1&&(d(0,"div",0),D(1,"fd-avatar",1),d(2,"div")(3,"div",2),g(4),s(),d(5,"div",3),g(6),s()()(),_(7,Gt,2,6,null,4)),a&2&&(r(),m("image",t.user.imgUrl),r(3),H(t.user.name),r(2),H(t.user.description),r(),c(t.detailsTemplate?7:-1))},dependencies:[Ze,ue,Lo],styles:[`.fdp-approval-flow-user-details__user-info{display:flex;align-items:center;margin-bottom:1rem}.fdp-approval-flow-user-details__name{font-size:1rem}.fdp-approval-flow-user-details__description{color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70)}
`],encapsulation:2,changeDetection:0})}}return o})();var Zt=o=>({count:o}),Ht=(o,n)=>({image:o,ariaLabel:n});function $t(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.userListSelectedItemsCountSingular")," ")}function Qt(o,n){if(o&1&&(g(0),v(1,"fdTranslate")),o&2){let e=l(2);x(" ",ve(1,1,"platformApprovalFlow.userListSelectedItemsCountPlural",K(4,Zt,e._allSelectedUsers.length))," ")}}function qt(o,n){if(o&1&&(d(0,"div",0),_(1,$t,2,3)(2,Qt,2,6),s()),o&2){let e=l();r(),c(e._allSelectedUsers.length===1?1:2)}}function Kt(o,n){if(o&1){let e=b();d(0,"fdp-standard-list-item",3),C("click",function(t){let i=u(e).$implicit,p=l();return t.stopPropagation(),w(p.onUserClick.emit(i))}),s()}if(o&2){let e=n.$implicit,a=l();m("id",a._idPrefix+e.id)("avatar",Bo(6,Ht,e.imgUrl,e.name))("description",e.description)("ariaLabel",e.name)("title",e.name),ie("id",a._idPrefix+e.id)}}var bt=100,Yt=10,Fe=(()=>{class o{constructor(e){this._cdr=e,this.users=[],this.selectedUsers=[],this.isSelectable=!0,this.onUserClick=new y,this.onSelectionChange=new y,this._selectedItems=[],this._idPrefix="approval-node-user-",this._trackByFn=oe,this._displayUsers=[],this._allSelectedUsers=[],this._destroyed$=So(No),this._dontCallSelection=!1}ngAfterViewInit(){this.selectedUsers.length&&(this._selectItems(this.selectedUsers),this._allSelectedUsers=[...this.selectedUsers],this._cdr.markForCheck()),this.isSelectable&&this._listenToListItemChange()}ngOnChanges(e){e.users&&this._collectDataProgressive()}ngOnDestroy(){this._killInterval()}_onSelect(e){if(!this._dontCallSelection){if(this._selectedItems=e.selectedItems,e.removed){let a=e.removed.map(t=>t.id);this._allSelectedUsers=this._allSelectedUsers.filter(t=>!a.includes(`${this._idPrefix+t.id}`))}e.added&&this._allSelectedUsers.push(...this._getUsersFromSelectedItems(e.added)),this.onSelectionChange.emit(this._allSelectedUsers),this._cdr.detectChanges()}}_getUsersFromSelectedItems(e){return e.map(a=>this.users.find(t=>`${this._idPrefix+t.id}`===a.id)).filter(a=>!!a)}_collectDataProgressive(){if(this._killInterval(),this._displayUsers=[],!this.users?.length)return;let e={currentIndex:0};this._userCollectorIntervalFn(e),this._intervalID=window.setInterval(this._userCollectorIntervalFn.bind(this),Yt,e)}_userCollectorIntervalFn(e){let a=e.currentIndex+bt,t=[];for(let i=e.currentIndex;i<=a;i++){if(i>=this.users.length){this._killInterval();break}t.push(this.users[i])}e.currentIndex+=bt,this._displayUsers.push(...t),this._cdr.markForCheck()}_killInterval(){this._intervalID&&clearInterval(this._intervalID)}_listenToListItemChange(){this.listItems.changes.pipe(Po(this._destroyed$)).subscribe(()=>{this._selectItems(this._allSelectedUsers),this._cdr.detectChanges()})}_selectItems(e){this._dontCallSelection=!0;let a=e.map(i=>this._idPrefix+i.id),t=this.listItems.filter(i=>a.includes(i.id));this.list._clearSelection(),this._selectedItems=[...t],this._selectedItems.forEach(i=>{i._selected=!0,this.list._selectItem(i)}),this._dontCallSelection=!1}static{this.\u0275fac=function(a){return new(a||o)(N(Y))}}static{this.\u0275cmp=k({type:o,selectors:[["fdp-approval-flow-user-list"]],viewQuery:function(a,t){if(a&1&&me(De,5)(Ee,5),a&2){let i;U(i=z())&&(t.list=i.first),U(i=z())&&(t.listItems=i)}},hostAttrs:[1,"fdp-approval-flow-user-list"],inputs:{users:"users",selectedUsers:"selectedUsers",isSelectable:"isSelectable"},outputs:{onUserClick:"onUserClick",onSelectionChange:"onSelectionChange"},features:[ce],decls:4,vars:7,consts:[[1,"fdp-approval-flow-user-list__selected-count"],[3,"ngModelChange","selectedItemChange","selectionMode","selection","navigationIndicator","hasByLine","ngModel","selectedItems"],[3,"id","avatar","description","ariaLabel","title"],[3,"click","id","avatar","description","ariaLabel","title"]],template:function(a,t){a&1&&(_(0,qt,3,1,"div",0),d(1,"fdp-list",1),B("ngModelChange",function(p){return V(t._selectedItems,p)||(t._selectedItems=p),p}),C("selectedItemChange",function(p){return t._onSelect(p)}),W(2,Kt,1,9,"fdp-standard-list-item",2,t._trackByFn,!0),s()),a&2&&(c(t._allSelectedUsers.length?0:-1),r(),m("selectionMode",t.isSelectable?"multi":"none")("selection",t.isSelectable)("navigationIndicator",!0)("hasByLine",!0),I("ngModel",t._selectedItems),m("selectedItems",t._selectedItems),r(),j(t._displayUsers))},dependencies:[De,ee,X,J,Ee,R],styles:[`.fdp-approval-flow-user-list{display:block;margin-top:-1rem}.fdp-approval-flow-user-list__selected-count{line-height:2rem;margin:0 -1rem;padding:0 1rem;background:#f2f2f2;background:var(--sapList_HeaderBackground, #f2f2f2)}
`],encapsulation:2,changeDetection:0})}}return o})();var Z=(function(o){return o.SELECT_TEAM="SELECT_TEAM",o.SELECT_USER="SELECT_USER",o.VIEW_TEAM_MEMBERS="VIEW_TEAM_MEMBERS",o.USER_DETAILS="USER_DETAILS",o})(Z||{}),to=(()=>{class o{constructor(){this.onViewChange=new y}get isUserDetailsMode(){return this.currentView===Z.USER_DETAILS}get isTeamMembersMode(){return this.currentView===Z.VIEW_TEAM_MEMBERS}get isSelectUserMode(){return this.currentView===Z.SELECT_USER}get isSelectTeamMode(){return this.currentView===Z.SELECT_TEAM}get team(){return this.selectedTeam}setCurrentView(e){this.currentView=e,this.onViewChange.emit()}resetView(){this.currentView=void 0,this.onViewChange.emit()}selectTeam(e){this.selectedTeam=e}resetTeam(){this.selectedTeam=void 0}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=Ao({token:o,factory:o.\u0275fac})}}return o})();var Jt=()=>[];function ea(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.addNodeDialogHeaderAddApprovers")," ")}function oa(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.addNodeDialogHeaderEditApprover")," ")}function ta(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.addNodeDialogHeaderAddApproverTeam")," ")}function aa(o,n){if(o&1){let e=b();d(0,"fd-icon",3),C("click",function(){u(e);let t=l(2);return w(t._exitTeamMembersMode())}),s(),g(1)}if(o&2){let e=l(2);m("glyph",e._headerArrowGlyph),r(),ze(" ",(e.viewService.team==null?null:e.viewService.team.name)??""," (",(e.viewService.team==null||e.viewService.team.members==null?null:e.viewService.team.members.length)??0,") ")}}function ia(o,n){if(o&1){let e=b();d(0,"fd-icon",3),C("click",function(){u(e);let t=l(2);return w(t._exitUserDetailsMode())}),s(),g(1),v(2,"fdTranslate")}if(o&2){let e=l(2);m("glyph",e._headerArrowGlyph),r(),x(" ",h(2,2,"platformApprovalFlow.addNodeDialogHeaderDetail")," ")}}function na(o,n){if(o&1){let e=b();d(0,"fdp-search-field",4),v(1,"fdTranslate"),C("inputChange",function(t){u(e);let i=l(2);return w(i._onSearchStringChange(t.text))}),s()}if(o&2){let e=l(2);m("placeholder",h(1,3,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",ne(5,Jt))("inputText",e._searchInput)}}function la(o,n){if(o&1&&(d(0,"p"),_(1,ea,2,3),_(2,oa,2,3),_(3,ta,2,3),_(4,aa,2,3),_(5,ia,3,4),s(),_(6,na,2,6,"fdp-search-field",2)),o&2){let e=l();r(),c(!e._selectMode&&!e._data.isEdit?1:-1),r(),c(!e._selectMode&&e._data.isEdit?2:-1),r(),c(e.viewService.isSelectUserMode||e.viewService.isSelectTeamMode?3:-1),r(),c(e.viewService.isTeamMembersMode?4:-1),r(),c(e.viewService.isUserDetailsMode?5:-1),r(),c(e._selectMode&&!e._userToShowDetails?6:-1)}}function ra(o,n){if(o&1&&(d(0,"li",9),g(1),v(2,"fdTranslate"),s()),o&2){let e=l().$implicit;m("value",e),r(),x(" ",h(2,2,"platformApprovalFlow.addNodeDialogNodeTypeSerial")," ")}}function pa(o,n){if(o&1&&(d(0,"li",9),g(1),v(2,"fdTranslate"),s()),o&2){let e=l().$implicit;m("value",e),r(),x(" ",h(2,2,"platformApprovalFlow.addNodeDialogNodeTypeParallel")," ")}}function da(o,n){if(o&1&&_(0,ra,3,4,"li",9)(1,pa,3,4,"li",9),o&2){let e,a=n.$implicit,t=l(3);c((e=a)===t._nodeTypes.SERIAL?0:e===t._nodeTypes.PARALLEL?1:-1)}}function sa(o,n){if(o&1){let e=b();d(0,"div",5)(1,"label",6),g(2),v(3,"fdTranslate"),s(),d(4,"fd-select",7),B("valueChange",function(t){u(e);let i=l(2);return V(i._nodeType,t)||(i._nodeType=t),w(t)}),W(5,da,2,1,null,null,se),s()()}if(o&2){let e=l(2);r(2),x(" ",h(3,2,"platformApprovalFlow.addNodeDialogNodeType")," "),r(2),I("value",e._nodeType),r(),j(e._nodeTypesArray)}}function fa(o,n){if(o&1&&(d(0,"li",9),g(1),v(2,"fdTranslate"),s()),o&2){let e=l().$implicit;m("value",e),r(),x(" ",h(2,2,"platformApprovalFlow.addNodeDialogApproverTypeUser")," ")}}function _a(o,n){if(o&1&&(d(0,"li",9),g(1),v(2,"fdTranslate"),s()),o&2){let e=l().$implicit;m("value",e),r(),x(" ",h(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamAnyone")," ")}}function ca(o,n){if(o&1&&(d(0,"li",9),g(1),v(2,"fdTranslate"),s()),o&2){let e=l().$implicit;m("value",e),r(),x(" ",h(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamEveryone")," ")}}function ma(o,n){if(o&1&&_(0,fa,3,4,"li",9)(1,_a,3,4,"li",9)(2,ca,3,4,"li",9),o&2){let e,a=n.$implicit,t=l(2);c((e=a)===t._approverTypes.SINGLE_USER?0:e===t._approverTypes.ANYONE?1:e===t._approverTypes.EVERYONE?2:-1)}}function va(o,n){if(o&1){let e=b();d(0,"fd-multi-input",10),B("ngModelChange",function(t){u(e);let i=l(2);return V(i._selectedApprovers,t)||(i._selectedApprovers=t),w(t)}),C("openChange",function(){u(e);let t=l(2);return w(t._goToSelectMode())})("selectedChange",function(t){u(e);let i=l(2);return w(i._setSelectedApprovers(t))}),s()}if(o&2){let e=l(2);m("showAllButton",!1)("dropdownValues",e._selectedApprovers),I("ngModel",e._selectedApprovers),m("displayFn",e._displayUserFn)}}function ua(o,n){if(o&1){let e=b();d(0,"fd-multi-input",11),B("ngModelChange",function(t){u(e);let i=l(2);return V(i._selectedTeamArray,t)||(i._selectedTeamArray=t),w(t)}),C("openChange",function(){u(e);let t=l(2);return w(t._goToSelectMode())}),s()}if(o&2){let e=l(2);m("showAllButton",!1)("dropdownValues",e._selectedTeamArray),I("ngModel",e._selectedTeamArray),m("displayFn",e._displayTeamFn)}}function wa(o,n){if(o&1){let e=b();d(0,"div",5)(1,"fd-checkbox",12),B("ngModelChange",function(t){u(e);let i=l(2);return V(i._addToNextSerial,t)||(i._addToNextSerial=t),w(t)}),g(2),v(3,"fdTranslate"),s()()}if(o&2){let e=l(2);r(),I("ngModel",e._addToNextSerial),r(),x(" ",h(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}function ha(o,n){if(o&1){let e=b();d(0,"div",5)(1,"label",6),g(2),v(3,"fdTranslate"),s(),d(4,"fd-date-picker",13),B("ngModelChange",function(t){u(e);let i=l(2);return V(i._dueDate,t)||(i._dueDate=t),w(t)}),s()()}if(o&2){let e=l(2);r(2),H(h(3,3,"platformApprovalFlow.addNodeDialogDueDate")),r(2),m("state",e._dueDate?null:"error"),I("ngModel",e._dueDate)}}function ga(o,n){if(o&1){let e=b();_(0,sa,7,4,"div",5),d(1,"div",5)(2,"label",6),g(3),v(4,"fdTranslate"),s(),d(5,"fd-select",7),B("valueChange",function(t){u(e);let i=l();return V(i._approverType,t)||(i._approverType=t),w(t)}),W(6,ma,3,1,null,null,se),s()(),d(8,"div",5)(9,"label",6),g(10),v(11,"fdTranslate"),s(),_(12,va,1,4,"fd-multi-input",8),_(13,ua,1,4,"fd-multi-input",8),s(),_(14,wa,4,4,"div",5),_(15,ha,5,5,"div",5)}if(o&2){let e=l();c(e._data.showNodeTypeSelect?0:-1),r(3),x(" ",h(4,8,"platformApprovalFlow.addNodeDialogApproverType")," "),r(2),I("value",e._approverType),r(),j(e._approverTypesArray),r(4),H(h(11,10,"platformApprovalFlow.addNodeDialogUserOrTeam")),r(2),c(e._isSingleUserMode?12:-1),r(),c(e._isSingleUserMode?-1:13),r(),c(e._nodeType===e._nodeTypes.PARALLEL?14:-1),r(),c(e._checkDueDate?15:-1)}}function Ca(o,n){if(o&1){let e=b();d(0,"fdp-approval-flow-team-list",17),C("onTeamClick",function(t){u(e);let i=l(3);return w(i._viewTeamMembers(t))})("onTeamRadioClick",function(t){u(e);let i=l(3);return w(i._setSelectedTeam(t))}),s()}if(o&2){let e=l(3);m("isRtl",e._data.rtl)("teams",e._teams)("selectedTeamId",e._selectedTeam==null?null:e._selectedTeam.id)}}function ba(o,n){o&1&&D(0,"fd-busy-indicator",16),o&2&&m("loading",!0)("block",!0)}function xa(o,n){if(o&1&&_(0,Ca,1,3,"fdp-approval-flow-team-list",15)(1,ba,1,2,"fd-busy-indicator",16),o&2){let e=l(2);c(e._data.teamDataSource.isDataLoading?1:0)}}function Aa(o,n){if(o&1){let e=b();d(0,"fdp-approval-flow-user-list",19),C("onUserClick",function(t){u(e);let i=l(3);return w(i._seeUserDetails(t))})("onSelectionChange",function(t){u(e);let i=l(3);return w(i._selectedApprovers=t)}),s()}if(o&2){let e=l(3);m("users",e.viewService.isSelectUserMode?e._approvers:e._filteredTeamMembers)("isSelectable",e.viewService.isSelectUserMode)("selectedUsers",e._selectedApprovers)}}function Ta(o,n){o&1&&D(0,"fd-busy-indicator",16),o&2&&m("loading",!0)("block",!0)}function Sa(o,n){if(o&1&&_(0,Aa,1,3,"fdp-approval-flow-user-list",18)(1,Ta,1,2,"fd-busy-indicator",16),o&2){let e=l(2);c(e.viewService.isSelectUserMode||!e._data.userDataSource.isDataLoading?0:1)}}function ya(o,n){if(o&1&&D(0,"fdp-approval-flow-user-details",14),o&2){let e=l(2);m("user",e._userToShowDetails)("detailsTemplate",e._data.userDetailsTemplate)("details",e._userToShowDetailsData$)}}function Fa(o,n){if(o&1&&(_(0,xa,2,1),_(1,Sa,2,1),_(2,ya,1,3,"fdp-approval-flow-user-details",14)),o&2){let e=l();c(e.viewService.isSelectTeamMode?0:-1),r(),c(e.viewService.isSelectUserMode||e.viewService.isTeamMembersMode?1:-1),r(),c(e.viewService.isUserDetailsMode&&e._userToShowDetails?2:-1)}}function Na(o,n){if(o&1){let e=b();d(0,"fd-button-bar",20),v(1,"fdTranslate"),C("click",function(){u(e);let t=l();return w(t._submit())}),s(),d(2,"fd-button-bar",21),v(3,"fdTranslate"),C("click",function(){u(e);let t=l();return w(t.dialogRef.close())}),s()}if(o&2){let e=l();m("label",h(1,3,"platformApprovalFlow.addNodeAddActionBtnLabel"))("disabled",e._isMainSubmitButtonDisabled),r(2),m("label",h(3,5,"platformApprovalFlow.addNodeCancelActionBtnLabel"))}}function Da(o,n){if(o&1){let e=b();d(0,"fd-button-bar",20),v(1,"fdTranslate"),C("click",function(){u(e);let t=l(2);return w(t._confirmSelectedApprovers())}),s(),d(2,"fd-button-bar",21),v(3,"fdTranslate"),C("click",function(){u(e);let t=l(2);return w(t._exitSelectMode())}),s()}if(o&2){let e=l(2);m("label",h(1,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!e._selectedApprovers.length),r(2),m("label",h(3,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function Ea(o,n){if(o&1){let e=b();d(0,"fd-button-bar",20),v(1,"fdTranslate"),C("click",function(){u(e);let t=l(2);return w(t._confirmSelectedTeam())}),s(),d(2,"fd-button-bar",21),v(3,"fdTranslate"),C("click",function(){u(e);let t=l(2);return w(t._exitSelectMode())}),s()}if(o&2){let e=l(2);m("label",h(1,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!e._selectedTeam&&!e.viewService.team),r(2),m("label",h(3,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function ka(o,n){if(o&1){let e=b();d(0,"fd-button-bar",21),v(1,"fdTranslate"),C("click",function(){u(e);let t=l(2);return w(t._exitTeamMembersMode())}),s()}o&2&&m("label",h(1,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel"))}function Ma(o,n){if(o&1){let e=b();d(0,"fd-button-bar",21),v(1,"fdTranslate"),C("click",function(){u(e);let t=l(2);return w(t._exitUserDetailsMode())}),s()}o&2&&m("label",h(1,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel"))}function Ia(o,n){if(o&1&&(_(0,Da,4,7),_(1,Ea,4,7),_(2,ka,2,3,"fd-button-bar",22),_(3,Ma,2,3,"fd-button-bar",22)),o&2){let e=l();c(e.viewService.isSelectUserMode?0:-1),r(),c(e.viewService.isSelectTeamMode?1:-1),r(),c(e.viewService.isTeamMembersMode?2:-1),r(),c(e.viewService.isUserDetailsMode?3:-1)}}var Q=(function(o){return o.SERIAL="SERIAL",o.PARALLEL="PARALLEL",o})(Q||{}),ke=(function(o){return o.SINGLE_USER="SINGLE_USER",o.ANYONE="ANYONE",o.EVERYONE="EVERYONE",o})(ke||{}),Me=(()=>{class o{constructor(e,a,t){this.dialogRef=e,this.viewService=a,this._cdr=t,this._nodeType=Q.SERIAL,this._nodeTypes=Q,this._nodeTypesArray=Object.keys(Q),this._approverType=ke.SINGLE_USER,this._approverTypes=ke,this._approverTypesArray=Object.keys(ke),this._dueDate=mo.getNow(),this._selectMode=!1,this._approvers=[],this._teams=[],this._selectedApprovers=[],this._selectedTeamArray=[],this._selectedTeamMembers=[],this._filteredTeamMembers=[],this._checkDueDate=!1,this._displayUserFn=Ke,this._displayTeamFn=mt,this._trackByFn=oe,this._addToNextSerial=!1,this._searchInput=""}get _data(){return this.dialogRef.data}get _isSingleUserMode(){return this._approverType===this._approverTypes.SINGLE_USER}get _isMainSubmitButtonDisabled(){return!(this._isSingleUserMode?this._selectedApprovers:this._selectedTeamArray).length||this._checkDueDate&&!this._dueDate}get _headerArrowGlyph(){return"navigation-"+(this._data.rtl?"right":"left")+"-arrow"}ngOnInit(){this._data.teamDataSource.match(),this._data.userDataSource.match();let e=this._data.teamDataSource.open(),a=this._data.userDataSource.open();switch(this._dataSourceSub=Le([e,a]).subscribe(([t,i])=>{if(this._teams=t,this._approvers=i,this._data.isEdit){this._checkDueDate=!!this._data.checkDueDate,this._checkDueDate&&this._data.node?.dueDate&&(this._dueDate=mo.getFdDateByDate(new Date(this._data.node.dueDate))),this._selectedApprovers=[...this._data.node?.approvers??[]];let p=this._data.node?.approvalTeamId&&this._teams.find(f=>f.id===this._data.node?.approvalTeamId);p&&(this.viewService.selectTeam(p),this._selectedTeam=p,this._selectedTeamArray=[p],this._approverType=this._data.node?.isEveryoneApprovalNeeded?this._approverTypes.EVERYONE:this._approverTypes.ANYONE)}this._cdr.detectChanges()}),this._viewChangeSub=this.viewService.onViewChange.subscribe(()=>{this._cdr.detectChanges()}),this._data.nodeTarget){case"empty":case"before":case"after":this._nodeType=this._nodeTypes.SERIAL;break;case"parallel":this._nodeType=this._nodeTypes.PARALLEL;break}}ngOnDestroy(){this._viewChangeSub.unsubscribe(),this._dataSourceSub.unsubscribe(),this._data.userDataSource.close(),this._data.teamDataSource.close()}_goToSelectMode(){this._selectMode=!0,this.viewService.setCurrentView(this._isSingleUserMode?Z.SELECT_USER:Z.SELECT_TEAM),this._cdr.detectChanges()}_exitSelectMode(){this._searchInput="",this._onSearchStringChange(""),this._selectedApprovers=this._data.node?.approvers?.length?[...this._data.node.approvers]:[],!this._data.isEdit&&!this._data.node?.approvalTeamId&&this.viewService.resetTeam(),this._selectMode=!1,this.viewService.resetView(),this._cdr.detectChanges()}_setSelectedApprovers(e){this._selectedApprovers=e,this._confirmSelectedApprovers()}_confirmSelectedApprovers(){this._data.node&&(this._data.node.approvers=this._selectedApprovers,this._data.node.variousTeams=this._data.node.approvers.some(e=>e.teamId!==this._data.node.approvers[0].teamId),this._data.node.description=this._data.node.variousTeams?"":this._selectedApprovers[0]?.description,delete this._data.node.approvalTeamId,delete this._data.node.isEveryoneApprovalNeeded,this._exitSelectMode())}_setSelectedTeam(e){this.viewService.selectTeam(e)}_confirmSelectedTeam(){this.viewService.team&&(this._selectedTeam=this.viewService.team,this._selectedTeamArray=[this.viewService.team],this._data.node&&(this._data.node.variousTeams=!1,this._data.node.approvalTeamId=this.viewService.team.id,this._data.node.description=this.viewService.team.name,this._data.node.isEveryoneApprovalNeeded=this._approverType===ke.EVERYONE),this._exitSelectMode())}_seeUserDetails(e){this.viewService.setCurrentView(Z.USER_DETAILS),this._userToShowDetails=e,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",e.id]])),this._cdr.detectChanges()}_exitUserDetailsMode(){this.viewService.setCurrentView(this.viewService.team?Z.VIEW_TEAM_MEMBERS:Z.SELECT_USER),this._userToShowDetails=void 0,this._userToShowDetailsData$=void 0,this._cdr.detectChanges()}_viewTeamMembers(e){this.viewService.selectTeam(e),this.viewService.setCurrentView(Z.VIEW_TEAM_MEMBERS),this._selectedTeamMembers=e.members,this._setFilteredTeamMembers(this._selectedTeamMembers),this._cdr.detectChanges()}_exitTeamMembersMode(){this.viewService.setCurrentView(Z.SELECT_TEAM),this.viewService.resetTeam(),this._selectedTeamMembers=[],this._cdr.detectChanges()}_submit(){this._data.node&&!this._isSingleUserMode&&this._selectedTeam&&(this._data.node.approvers=[...this._selectedTeam.members]),this._data.node&&this._checkDueDate&&(this._data.node.dueDate=this._dueDate.toDate()),this.dialogRef.close({node:this._data.node,nodeType:this._nodeType,toNextSerial:this._addToNextSerial})}_onSearchStringChange(e=""){this._searchInput=e;let a=new Map([["query",e]]);this.viewService.isSelectUserMode?this._data.userDataSource.match(a):this.viewService.isSelectTeamMode?this._data.teamDataSource.match(a):this.viewService.isTeamMembersMode&&this._setFilteredTeamMembers(this._selectedTeamMembers.filter(t=>Ye(t,e)))}_setFilteredTeamMembers(e){this._filteredTeamMembers=[...e],this._cdr.detectChanges()}static{this.\u0275fac=function(a){return new(a||o)(N(ge),N(to),N(Y))}}static{this.\u0275cmp=k({type:o,selectors:[["fdp-approval-flow-add-node"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-add-node"],decls:9,vars:8,consts:[["fdCompact",""],["fdkTemplate","header"],[3,"placeholder","suggestions","inputText"],[3,"click","glyph"],[3,"inputChange","placeholder","suggestions","inputText"],["fd-form-item",""],["fd-form-label",""],[3,"valueChange","value"],[3,"showAllButton","dropdownValues","ngModel","displayFn"],["fd-option","",3,"value"],[3,"ngModelChange","openChange","selectedChange","showAllButton","dropdownValues","ngModel","displayFn"],[3,"ngModelChange","openChange","showAllButton","dropdownValues","ngModel","displayFn"],[3,"ngModelChange","ngModel"],["type","single",3,"ngModelChange","state","ngModel"],[3,"user","detailsTemplate","details"],[3,"isRtl","teams","selectedTeamId"],[3,"loading","block"],[3,"onTeamClick","onTeamRadioClick","isRtl","teams","selectedTeamId"],[3,"users","isSelectable","selectedUsers"],[3,"onUserClick","onSelectionChange","users","isSelectable","selectedUsers"],["fdType","emphasized",3,"click","label","disabled"],["fdkInitialFocus","","fdType","transparent",3,"click","label"],["fdkInitialFocus","","fdType","transparent",3,"label"]],template:function(a,t){a&1&&(d(0,"fd-dialog",0)(1,"fd-dialog-header"),E(2,la,7,6,"ng-template",1),s(),d(3,"fd-dialog-body"),_(4,ga,16,12),_(5,Fa,3,3),s(),d(6,"fd-dialog-footer"),_(7,Na,4,7),_(8,Ia,4,4),s()()),a&2&&(r(),M("show-search",t._selectMode&&!t._userToShowDetails),r(2),M("fd-dialog__body--auto-height",t.viewService.isUserDetailsMode),r(),c(t._selectMode?-1:4),r(),c(t._selectMode?5:-1),r(2),c(t._selectMode?-1:7),r(),c(t._selectMode?8:-1))},dependencies:[Se,O,Te,he,le,Qe,Ce,ye,Xo,at,tt,$e,ee,X,J,je,Jo,eo,Fe,oo,Ae,xe,zo,R],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`,`.fdp-approval-flow-add-node .fd-dialog__body{width:20rem;height:27rem}.fdp-approval-flow-add-node .fd-dialog__body--auto-height{height:auto}
`],encapsulation:2,changeDetection:0})}}return o})();var Va=()=>[];function Ba(o,n){if(o&1){let e=b();d(0,"fd-icon",8),C("click",function(){u(e);let t=l(2);return w(t._exitUserDetailsMode())})("keyup.space",function(){u(e);let t=l(2);return w(t._exitUserDetailsMode())})("keyup.enter",function(){u(e);let t=l(2);return w(t._exitUserDetailsMode())}),s()}if(o&2){let e=l(2);m("glyph","navigation-"+(e._data.rtl?"right":"left")+"-arrow")}}function La(o,n){if(o&1&&g(0),o&2){let e=l(2);ze(" ",e._data.node==null?null:e._data.node.description," (",(e._data.node==null||e._data.node.approvers==null?null:e._data.node.approvers.length)??0,") ")}}function Pa(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.userDetailsHeader")," ")}function Ra(o,n){if(o&1){let e=b();d(0,"fdp-search-field",9),v(1,"fdTranslate"),C("inputChange",function(t){u(e);let i=l(2);return w(i._onSearchStringChange(t.text))}),s()}o&2&&m("placeholder",h(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",ne(4,Va))}function Ua(o,n){if(o&1&&(d(0,"p"),_(1,Ba,1,1,"fd-icon",6),_(2,La,1,2)(3,Pa,2,3),s(),_(4,Ra,2,5,"fdp-search-field",7)),o&2){let e=l();r(),c(e._userToShowDetails&&(e._data.node!=null&&e._data.node.approvers)&&e._data.node.approvers.length>1?1:-1),r(),c(e._isListMode&&!e._userToShowDetails?2:3),r(2),c(!e._userToShowDetails&&e._isListMode?4:-1)}}function za(o,n){if(o&1&&D(0,"fdp-approval-flow-user-details",1),o&2){let e=l();m("user",e._userToShowDetails)("detailsTemplate",e._data.userDetailsTemplate)("details",e._userToShowDetailsData$)}}function Oa(o,n){if(o&1){let e=b();d(0,"fdp-approval-flow-user-list",10),C("onUserClick",function(t){u(e);let i=l();return w(i._seeUserDetails(t))})("onSelectionChange",function(t){u(e);let i=l();return w(i._selectedUsers=t)}),s()}if(o&2){let e=l();m("users",e._listItems)}}function Wa(o,n){if(o&1){let e=b();d(0,"fd-button-bar",11),v(1,"fdTranslate"),C("click",function(){u(e);let t=l();return w(t._sendReminder())}),s()}if(o&2){let e=l();m("label",h(1,2,"platformApprovalFlow.userDetailsSendReminderBtnLabel"))("disabled",!e._data.allowSendReminder||e._isListMode&&!e._selectedUsers.length)}}var Ie=(()=>{class o{constructor(e,a){this.dialogRef=e,this._cdr=a,this._isListMode=!1,this._listItems=[],this._selectedUsers=[]}get _data(){return this.dialogRef.data}ngOnInit(){if(this._isListMode=(this._data.node?.approvers.length??0)>1,this._isListMode)this._setListItems(this._data.node?.approvers??[]);else{let e=this._data.watcher||this._data.node?.approvers[0];e?this._seeUserDetails(e):this.dialogRef.close()}}_setListItems(e=[]){this._listItems=[...e],this._cdr.detectChanges()}_exitUserDetailsMode(){this._userToShowDetails=void 0,this._isListMode=!0}_seeUserDetails(e){this._userToShowDetails=e,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",e.id]])),this._isListMode=!1,this._selectedUsers=[],this._cdr.detectChanges()}_sendReminder(){let e=this._isListMode?this._selectedUsers:this._data.node?.approvers;this.dialogRef.close(e)}_onSearchStringChange(e){if(!e){this._setListItems(this._data.node?.approvers);return}this._setListItems(this._data.node?.approvers.filter(a=>Ye(a,e)))}static{this.\u0275fac=function(a){return new(a||o)(N(ge),N(Y))}}static{this.\u0275cmp=k({type:o,selectors:[["fdp-approval-flow-approver-details"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-approver-details"],decls:10,vars:8,consts:[["fdkTemplate","header"],[3,"user","detailsTemplate","details"],[3,"users"],["fdCompact",""],["fdType","emphasized",3,"label","disabled"],["fdkInitialFocus","","fdType","transparent",3,"click","label"],["tabindex","0","role","button",3,"glyph"],["fdCompact","",3,"placeholder","suggestions"],["tabindex","0","role","button",3,"click","keyup.space","keyup.enter","glyph"],["fdCompact","",3,"inputChange","placeholder","suggestions"],[3,"onUserClick","onSelectionChange","users"],["fdType","emphasized",3,"click","label","disabled"]],template:function(a,t){a&1&&(d(0,"fd-dialog")(1,"fd-dialog-header"),E(2,Ua,5,3,"ng-template",0),s(),d(3,"fd-dialog-body"),_(4,za,1,3,"fdp-approval-flow-user-details",1),_(5,Oa,1,1,"fdp-approval-flow-user-list",2),s(),d(6,"fd-dialog-footer",3),_(7,Wa,2,4,"fd-button-bar",4),d(8,"fd-button-bar",5),v(9,"fdTranslate"),C("click",function(){return t.dialogRef.close("Cancel")}),s()()()),a&2&&(r(),M("show-search",!t._userToShowDetails&&t._isListMode),r(3),c(t._userToShowDetails?4:-1),r(),c(t._isListMode?5:-1),r(2),c(t._isListMode||t._userToShowDetails&&(t._data.node==null||t._data.node.approvers==null?null:t._data.node.approvers.length)===1?7:-1),r(),m("label",h(9,6,"platformApprovalFlow.userDetailsCancelBtnLabel")))},dependencies:[Se,Te,he,le,Qe,O,Ce,oo,Fe,Ae,xe,R],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`],encapsulation:2,changeDetection:0})}}return o})();function ja(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.messagesApproverAddedSuccess")," ")}function Ga(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.messagesTeamAddedSuccess")," ")}function Za(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.messagesNodeEdited")," ")}function Ha(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.messagesNodeRemovedSingular")," ")}function $a(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.messagesNodeRemovedPlural")," ")}function Qa(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.messagesTeamRemoved")," ")}function qa(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.messagesErrorBuildGraph")," ")}function Ka(o,n){if(o&1){let e=b();d(0,"a",3),C("click",function(t){u(e);let i=l().$index,p=l();return w(p._undoLastAction(i,t))})("keyup.enter",function(t){u(e);let i=l().$index,p=l();return w(p._undoLastAction(i,t))})("keyup.space",function(t){u(e);let i=l().$index,p=l();return w(p._undoLastAction(i,t))}),g(1),v(2,"fdTranslate"),s()}o&2&&(r(),x(" ",h(2,1,"platformApprovalFlow.messagesUndoAction")," "))}function Ya(o,n){if(o&1){let e=b();d(0,"fd-message-strip",1),C("onDismiss",function(){let t=u(e).$index,i=l();return w(i._dismissMessage(t))}),d(1,"bdi")(2,"span"),_(3,ja,2,3)(4,Ga,2,3)(5,Za,2,3)(6,Ha,2,3)(7,$a,2,3)(8,Qa,2,3)(9,qa,2,3),s(),_(10,Ka,3,3,"a",2),s()()}if(o&2){let e,a=n.$implicit,t=l();m("type",a.type==="error"?"error":"success")("dismissible",a.type!=="error"),r(3),c((e=a.type)==="approverAddSuccess"?3:e==="teamAddSuccess"?4:e==="nodeEdit"?5:e==="nodeRemove"?6:e==="nodesRemove"?7:e==="teamRemove"?8:e==="error"?9:-1),r(7),c(t.undoLastActionAvailable?10:-1)}}var xt=(()=>{class o{constructor(){this.messages=[],this.undoLastActionAvailable=!1,this.messagesChange=new y,this.undoLastAction=new y,this._trackByFn=oe}_dismissMessage(e){this.messages.splice(e,1)}_undoLastAction(e,a){a.preventDefault(),this._dismissMessage(e),this.undoLastAction.emit()}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=k({type:o,selectors:[["fdp-approval-flow-messages"]],hostAttrs:[1,"fdp-approval-flow-messages"],inputs:{messages:"messages",undoLastActionAvailable:"undoLastActionAvailable"},outputs:{messagesChange:"messagesChange",undoLastAction:"undoLastAction"},decls:2,vars:0,consts:[[1,"fdp-approval-flow-messages__item",3,"type","dismissible"],[1,"fdp-approval-flow-messages__item",3,"onDismiss","type","dismissible"],["href","#"],["href","#",3,"click","keyup.enter","keyup.space"]],template:function(a,t){a&1&&W(0,Ya,11,4,"fd-message-strip",0,se),a&2&&j(t.messages)},dependencies:[Zo,R],styles:[`.fdp-approval-flow-messages__item:not(:last-child){margin-bottom:1rem}
`],encapsulation:2,changeDetection:0})}}return o})();var uo=(()=>{class o{constructor(e){this.elRef=e,this.active=!1}_checkIfNodeDraggedInDropZone(e){this.active=!1;let a=this.elRef.nativeElement.getBoundingClientRect();a.top+a.height>e.top&&a.left+a.width>e.left&&a.bottom-a.height<e.bottom&&a.right-a.width<e.right&&(this.active=!0)}static{this.\u0275fac=function(a){return new(a||o)(N(Pe))}}static{this.\u0275dir=Eo({type:o,selectors:[["","fdp-approval-flow-drop-zone",""]],inputs:{placement:"placement"},exportAs:["fdp-approval-flow-drop-zone"]})}}return o})();var Ja=["overflowMenuButton"],ei=["nodeContent"],oi=["*"],wo=o=>({count:o}),ti=o=>({node:o}),ai=()=>({placement:"before-all"}),ii=()=>({placement:"before"}),ni=()=>({placement:"after"}),li=()=>({placement:"after-all"});function ri(o,n){if(o&1&&D(0,"div",11),o&2){let e=l();M("fdp-approval-flow-node__vertical-line-before-solid",e._isVerticalLineBeforeSolid)}}function pi(o,n){if(o&1&&D(0,"div",12),o&2){let e=l();M("fdp-approval-flow-node__vertical-line-after-solid",e._isVerticalLineAfterSolid)}}function di(o,n){o&1&&D(0,"div",13)}function si(o,n){o&1&&D(0,"div",14)}function fi(o,n){o&1&&D(0,"div",15)}function _i(o,n){if(o&1&&(_(0,di,1,0,"div",13),_(1,si,1,0,"div",14),_(2,fi,1,0,"div",15),Mo(3)),o&2){let e=l();c(e.renderArrow?0:-1),r(),c(e._isRoot&&(e.meta==null?null:e.meta.nodeIndex)===0?1:-1),r(),c(e._isFinal&&(e.meta==null?null:e.meta.nodeIndex)===0?2:-1)}}function ci(o,n){if(o&1){let e=b();d(0,"button",17),v(1,"fdTranslate"),C("click",function(t){return u(e),w(t.stopPropagation())}),s()}if(o&2){let e=l(2),a=P(14);m("title",h(1,3,"platformApprovalFlow.nodeMenuButtonTitle"))("fdMenuTrigger",a)("disabled",e._isEditActionsAvailable)}}function mi(o,n){if(o&1&&_(0,ci,2,5,"button",16),o&2){let e=l();c(e.node!=null&&e.node.disableActions?-1:0)}}function vi(o,n){if(o&1&&g(0),o&2){let e=l(2);x(" ",e.node.approvers[0].name," ")}}function ui(o,n){if(o&1&&(g(0),v(1,"fdTranslate")),o&2){let e=l(2);x(" ",ve(1,1,"platformApprovalFlow.nodeMembersCount",K(4,wo,e.node.approvers.length))," ")}}function wi(o,n){if(o&1&&g(0),o&2){let e=l(2);x(" ",e.node.approvers.length>1?e.node.description:e.node.approvers.length?e.node.approvers[0].description:""," ")}}function hi(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.nodeVariousTeams")," ")}function gi(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.nodeVariousTeams")," ")}function Ci(o,n){}function bi(o,n){if(o&1&&E(0,Ci,0,0,"ng-template",8),o&2){let e=l(5);m("ngTemplateOutlet",e.approvalStatusTemplate)("ngTemplateOutletContext",K(2,ti,e.node))}}function xi(o,n){if(o&1&&_(0,bi,1,4,null,8),o&2){let e=l(4);c(e.approvalStatusTemplate?0:-1)}}function Ai(o,n){if(o&1&&_(0,xi,1,1),o&2){let e=l(3);c(!e.checkDueDate||!e._showDueDateWarning?0:-1)}}function Ti(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.statusApproved")," ")}function Si(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.statusRejected")," ")}function yi(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.statusInProgress")," ")}function Fi(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.statusNotStarted")," ")}function Ni(o,n){if(o&1&&_(0,Ti,2,3)(1,Si,2,3)(2,yi,2,3)(3,Fi,2,3),o&2){let e,a=l(4);c((e=a.node.status)==="approved"?0:e==="rejected"?1:e==="in progress"?2:e==="not started"?3:-1)}}function Di(o,n){if(o&1&&_(0,Ni,4,1),o&2){let e=l(3);c(!e.checkDueDate||!e._showDueDateWarning?0:-1)}}function Ei(o,n){o&1&&(g(0),v(1,"fdTranslate")),o&2&&x(" ",h(1,1,"platformApprovalFlow.nodeStatusDueToday")," ")}function ki(o,n){if(o&1&&(g(0),v(1,"fdTranslate")),o&2){let e=l(4);x(" ",ve(1,1,"platformApprovalFlow.nodeStatusDueInXDays",K(4,wo,e.dueDateThreshold-e._dueIn))," ")}}function Mi(o,n){if(o&1&&(g(0),v(1,"fdTranslate")),o&2){let e=l(4);x(" ",ve(1,1,"platformApprovalFlow.nodeStatusXDaysOverdue",K(4,wo,e._dueIn-e.dueDateThreshold))," ")}}function Ii(o,n){if(o&1&&(_(0,Ei,2,3),_(1,ki,2,6),_(2,Mi,2,6)),o&2){let e=l(3);c(e._dueIn===e.dueDateThreshold?0:-1),r(),c(e._dueIn<e.dueDateThreshold?1:-1),r(),c(e._dueIn>e.dueDateThreshold?2:-1)}}function Vi(o,n){if(o&1&&(_(0,Ai,1,1)(1,Di,1,1),_(2,Ii,3,3)),o&2){let e=l(2);c(e.approvalStatusTemplate?0:1),r(2),c(e.checkDueDate&&e._showDueDateWarning?2:-1)}}function Bi(o,n){if(o&1&&(d(0,"div",18)(1,"div",19),_(2,vi,1,1)(3,ui,2,6),s(),d(4,"div",20),_(5,wi,1,1)(6,hi,2,3),E(7,gi,2,3,"ng-template",null,4,Ne),s(),d(9,"fdp-object-status",21),E(10,Vi,3,2,"ng-template",22),s()()),o&2){let e=l();r(),M("fdp-approval-flow-node__name--members-count",e.node.approvers.length>1),m("id",e.approvalFlowNodeId),r(),c(e.node.approvers.length===1?2:3),r(3),c(e.node.variousTeams?6:5),r(4),m("status",e._objectStatus)("inverted",!0)}}function Li(o,n){}function Pi(o,n){if(o&1&&E(0,Li,0,0,"ng-template",8),o&2){l();let e=P(12);m("ngTemplateOutlet",e)("ngTemplateOutletContext",ne(2,ai))}}function Ri(o,n){}function Ui(o,n){if(o&1&&E(0,Ri,0,0,"ng-template",8),o&2){l();let e=P(12);m("ngTemplateOutlet",e)("ngTemplateOutletContext",ne(2,ii))}}function zi(o,n){}function Oi(o,n){if(o&1&&E(0,zi,0,0,"ng-template",8),o&2){l();let e=P(12);m("ngTemplateOutlet",e)("ngTemplateOutletContext",ne(2,ni))}}function Wi(o,n){}function ji(o,n){if(o&1&&E(0,Wi,0,0,"ng-template",8),o&2){l();let e=P(12);m("ngTemplateOutlet",e)("ngTemplateOutletContext",ne(2,li))}}function Gi(o,n){if(o&1){let e=b();d(0,"button",25),v(1,"fdTranslate"),C("click",function(){u(e);let t=l().placement,i=l();return w(i.onAdd.emit(t))}),s()}if(o&2){let e=l().placement,a=P(2),t=l();q("visibility",a.active?"hidden":""),M("fdp-approval-flow-node__add--blank",t._blank)("fdp-approval-flow-node__add--before",!t._blank&&(e==="before"||e==="before-all"))("fdp-approval-flow-node__add--before-all",!t._blank&&e==="before-all")("fdp-approval-flow-node__add--after",!t._blank&&(e==="after"||e==="after-all"))("fdp-approval-flow-node__add--after-all",e==="after-all"),m("title",h(1,13,"platformApprovalFlow.addNodeButtonTitle"))}}function Zi(o,n){if(o&1&&(_(0,Gi,2,15,"button",23),D(1,"div",24,5)),o&2){let e=n.placement,a=P(2),t=l();c(t.node.status!=="approved"?0:-1),r(),M("fdp-approval-flow-node__drop-zone--active",a.active)("fdp-approval-flow-node__drop-zone--blank",t.isNextNodeBlank)("fdp-approval-flow-node__drop-zone--partial",t._dropZonePartial(e)),m("placement",e)}}function Hi(o,n){if(o&1){let e=b();d(0,"li",26),C("click",function(){u(e);let t=l();return P(14).close(),w(t.onAdd.emit("before"))}),d(1,"div",27)(2,"span",28),g(3),v(4,"fdTranslate"),s()()()}o&2&&(r(3),H(h(4,1,"platformApprovalFlow.nodeActionAddApproversBefore")))}function $i(o,n){if(o&1){let e=b();d(0,"li",26),C("click",function(){u(e);let t=l();return P(14).close(),w(t.onAdd.emit("after"))}),d(1,"div",27)(2,"span",28),g(3),v(4,"fdTranslate"),s()()()}o&2&&(r(3),H(h(4,1,"platformApprovalFlow.nodeActionAddApproversAfter")))}function Qi(o,n){if(o&1){let e=b();d(0,"li",26),C("click",function(){u(e);let t=l();return P(14).close(),w(t.onAdd.emit("parallel"))}),d(1,"div",27)(2,"span",28),g(3),v(4,"fdTranslate"),s()()()}o&2&&(r(3),H(h(4,1,"platformApprovalFlow.nodeActionAddApproversParallel")))}function qi(o,n){if(o&1){let e=b();d(0,"li",26),C("click",function(){u(e);let t=l();return P(14).close(),w(t.onEdit.emit())}),d(1,"div",27)(2,"span",28),g(3),v(4,"fdTranslate"),s()()()}o&2&&(r(3),x(" ",h(4,1,"platformApprovalFlow.nodeActionEditApprover")))}function Ki(o,n){if(o&1){let e=b();d(0,"li",26),C("click",function(){u(e);let t=l();return P(14).close(),w(t.onDelete.emit())}),d(1,"div",27)(2,"span",28),g(3),v(4,"fdTranslate"),s()()()}o&2&&(r(3),x(" ",h(4,1,"platformApprovalFlow.nodeActionRemove")))}var Yi={approved:"positive",rejected:"negative","in progress":"informative","not started":""},At=1e3*60*60*24,Xi=0,Ve=(()=>{class o{get _blank(){return!!this.node?.blank}get _space(){return!!this.node?.space}get _isRoot(){return this.meta?.isRoot}get _isFinal(){return this.meta?.isFinal}get _renderLineBefore(){return!this.node?.blank}get _renderLineAfter(){return!this.node?.blank||this._isFinal}get _isApproved(){return this.node&&G(this.node)}get _isParentApproved(){return this.meta?.parents?.length?this.meta.parents.every(e=>G(e)):!!this.meta?.rootNodesApproved}get _isNodeSelected(){return this.isEdit&&this._isSelected}get _isParallelStart(){return!!this.meta?.parallelStart}get _isParallelEnd(){return!!this.meta?.parallelEnd}get _isFirstInParallel(){return!!this.meta?.isFirstInParallel}get _isLastInParallel(){return!!this.meta?.isLastInParallel}get _lastBlank(){return this._blank&&this.node.targets.length===0}get _isSelected(){return!!this.node.selected}constructor(e,a,t){this._elRef=e,this._cdr=a,this._rtlService=t,this.renderArrow=!1,this.checkDueDate=!1,this.dueDateThreshold=7,this.allNodesInColumnApproved=!1,this.onAdd=new y,this.onEdit=new y,this.onDelete=new y,this._showDueDateWarning=!1,this._dueIn=0,this.approvalFlowNodeId="fdp-approval-flow-node-"+Xi++,this._subscriptions=new Be}get _nativeElement(){return this._elRef.nativeElement}get _isNotStarted(){return!qe(this.node)}get _isEditActionsAvailable(){return this.node.status==="approved"||this.node.status==="rejected"}get _activeDropZones(){return this._dropZones.filter(e=>e.active)}get _isAnyDropZoneActive(){return this._activeDropZones.length>0}get _isVerticalLineBeforeSolid(){return this.meta?.parents.length?this.meta.parents.every(e=>G(e)):!!this.meta?.isVerticalLineBeforeSolid}get _isVerticalLineAfterSolid(){return this.node?.targets.length?this._isVerticalLineBeforeSolid&&this.allNodesInColumnApproved:!!this.meta?.isVerticalLineAfterSolid}get _showAddButton(){return this.isEdit&&!this._blank&&!this._space&&!this.node?.disableActions}get _showAfterAllAddButton(){return this.isEdit&&!this._space&&!this.node?.disableActions}_dropZonePartial(e){return!this._blank&&(!this.isNextNodeBlank||e==="before")||this._lastBlank&&e==="after-all"}ngOnInit(){this._checkNodeStatus(),this._subscriptions.add(this._rtlService?.rtl.subscribe(()=>this._cdr.markForCheck()))}ngOnChanges(){this._checkNodeStatus()}ngOnDestroy(){this._subscriptions.unsubscribe()}_onMenuOpen(){this._menu.refreshPosition()}_focus(e){this._gridListItem?.focus(e)}_deactivateDropZones(){this._dropZones.forEach(e=>e.active=!1),this._cdr.detectChanges()}_checkIfNodeDraggedInDropZone(e){this._dropZones.forEach(a=>a._checkIfNodeDraggedInDropZone(e)),this._cdr.detectChanges()}_checkNodeStatus(){if(this.node){if(this.checkDueDate&&this.node.dueDate){let e=Number(new Date(this.node.dueDate))-this.dueDateThreshold*At,a=Date.now()-e;this._dueIn=Math.round(a/At),this._showDueDateWarning=!G(this.node)&&e<Date.now(),this._objectStatus=this._showDueDateWarning?"critical":this._getNodeStatusClass(),this._cdr.detectChanges();return}this._objectStatus=this._getNodeStatusClass(),this._cdr.detectChanges()}}_getNodeStatusClass(){return this.statusColorMapping?this.statusColorMapping[this.node.status]:Yi[this.node.status]}static{this.\u0275fac=function(a){return new(a||o)(N(Pe),N(Y),N(Oe,8))}}static{this.\u0275cmp=k({type:o,selectors:[["fdp-approval-flow-node"]],contentQueries:function(a,t,i){if(a&1&&Io(i,He,5),a&2){let p;U(p=z())&&(t._gridListItem=p.first)}},viewQuery:function(a,t){if(a&1&&me(_o,5)(Ja,5)(ei,5)(uo,5),a&2){let i;U(i=z())&&(t._menu=i.first),U(i=z())&&(t._overflowMenuButton=i.first),U(i=z())&&(t._nodeContent=i.first),U(i=z())&&(t._dropZones=i)}},hostAttrs:[1,"fdp-approval-flow-node"],hostVars:36,hostBindings:function(a,t){a&2&&M("fdp-approval-flow-node--first-root",t.meta==null?null:t.meta.firstOfMultipleRootNodes)("fdp-approval-flow-node--first-final",t.meta==null?null:t.meta.firstOfMultipleFinalNodes)("fdp-approval-flow-node--edit-mode",t.isEdit)("fdp-approval-flow-node--next-blank",t.isNextNodeBlank)("fdp-approval-flow-node--blank",t._blank)("fdp-approval-flow-node--space",t._space)("fdp-approval-flow-node--root",t._isRoot)("fdp-approval-flow-node--final",t._isFinal)("fdp-approval-flow-node--line-before",t._renderLineBefore)("fdp-approval-flow-node--line-after",t._renderLineAfter)("fdp-approval-flow-node--approved",t._isApproved)("fdp-approval-flow-node--parent-approved",t._isParentApproved)("fdp-approval-flow-node--selected",t._isNodeSelected)("fdp-approval-flow-node--parallel-start",t._isParallelStart)("fdp-approval-flow-node--parallel-end",t._isParallelEnd)("fdp-approval-flow-node--first-in-parallel",t._isFirstInParallel)("fdp-approval-flow-node--last-in-parallel",t._isLastInParallel)("fdp-approval-flow-node--last-blank",t._lastBlank)},inputs:{node:"node",meta:"meta",renderArrow:"renderArrow",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allNodesInColumnApproved:"allNodesInColumnApproved",approvalStatusTemplate:"approvalStatusTemplate",statusColorMapping:"statusColorMapping",isEdit:"isEdit",isNextNodeBlank:"isNextNodeBlank"},outputs:{onAdd:"onAdd",onEdit:"onEdit",onDelete:"onDelete"},features:[ce],ngContentSelectors:oi,decls:20,vars:12,consts:[["overflowMenuButton",""],["nodeContent",""],["addNodeButton",""],["menu",""],["variousTeams",""],["dropZone","fdp-approval-flow-drop-zone"],[1,"fdp-approval-flow-node__vertical-line-before",3,"fdp-approval-flow-node__vertical-line-before-solid"],[1,"fdp-approval-flow-node__vertical-line-after",3,"fdp-approval-flow-node__vertical-line-after-solid"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["fdContentDensity","","placement","bottom-end",3,"isOpenChange"],["fd-menu-item",""],[1,"fdp-approval-flow-node__vertical-line-before"],[1,"fdp-approval-flow-node__vertical-line-after"],[1,"fdp-approval-flow-node__arrow"],[1,"fdp-approval-flow-node__carousel-start-marker"],[1,"fdp-approval-flow-node__carousel-end-marker"],["fd-button","","fdType","transparent","tabindex","0","glyph","overflow","fdCompact","",1,"fdp-approval-flow-node__menu-button",3,"title","fdMenuTrigger","disabled"],["fd-button","","fdType","transparent","tabindex","0","glyph","overflow","fdCompact","",1,"fdp-approval-flow-node__menu-button",3,"click","title","fdMenuTrigger","disabled"],[1,"fdp-approval-flow-node__info"],[1,"fdp-approval-flow-node__name",3,"id"],[1,"fdp-approval-flow-node__description"],[3,"status","inverted"],["fdpObjectStatusText",""],["fd-button","","glyph","add","fdCompact","",1,"fdp-approval-flow-node__add",3,"title","fdp-approval-flow-node__add--blank","fdp-approval-flow-node__add--before","fdp-approval-flow-node__add--before-all","fdp-approval-flow-node__add--after","fdp-approval-flow-node__add--after-all","visibility"],["fdp-approval-flow-drop-zone","",1,"fdp-approval-flow-node__drop-zone",3,"placement"],["fd-button","","glyph","add","fdCompact","",1,"fdp-approval-flow-node__add",3,"click","title"],["fd-menu-item","",3,"click"],["fd-menu-interactive",""],["fd-menu-title",""]],template:function(a,t){if(a&1){let i=b();ko(),_(0,ri,1,2,"div",6),_(1,pi,1,2,"div",7),_(2,_i,4,3),E(3,mi,1,1,"ng-template",null,0,Ne)(5,Bi,11,7,"ng-template",null,1,Ne),_(7,Pi,1,3,null,8),_(8,Ui,1,3,null,8),_(9,Oi,1,3,null,8),_(10,ji,1,3,null,8),E(11,Zi,3,8,"ng-template",null,2,Ne),d(13,"fd-menu",9,3),C("isOpenChange",function(){return u(i),w(t._onMenuOpen())}),_(15,Hi,5,3,"li",10),_(16,$i,5,3,"li",10),_(17,Qi,5,3,"li",10),_(18,qi,5,3,"li",10),_(19,Ki,5,3,"li",10),s()}a&2&&(c(t.meta!=null&&t.meta.renderVerticalLineBefore?0:-1),r(),c(t.meta!=null&&t.meta.renderVerticalLineAfter?1:-1),r(),c(!t._blank&&!t._space?2:-1),r(5),c(t._showAddButton&&(t.meta!=null&&t.meta.canAddNodeBeforeAll)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddBefore)?7:-1),r(),c(t._showAddButton&&(t.meta!=null&&t.meta.canAddNodeBefore)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddBefore)?8:-1),r(),c(t._showAddButton&&(t.meta!=null&&t.meta.canAddNodeAfter)&&(t.meta!=null&&t.meta.renderAddNodeAfterButton)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddAfter)?9:-1),r(),c(t._showAfterAllAddButton&&(t.meta!=null&&t.meta.canAddNodeAfterAll)&&(t.meta!=null&&t.meta.renderAddNodeAfterButton)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddAfter)?10:-1),r(5),c(t.meta!=null&&t.meta.canAddNodeBefore&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddBefore)?15:-1),r(),c(t.meta!=null&&t.meta.canAddNodeAfter&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddAfter)?16:-1),r(),c(t.meta!=null&&t.meta.canAddParallel&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddParallel)?17:-1),r(),c(t._isNotStarted&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableEdit)?18:-1),r(),c(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableRemove?-1:19))},dependencies:[be,O,qo,ot,et,ue,uo,_o,Qo,$o,Ho,R],styles:[`.fdp-approval-flow-node{display:block;box-sizing:border-box;position:relative;width:17.375rem;height:5.875rem;margin-bottom:1rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode{height:7.875rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-after:after{top:-4.9375rem;height:8.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{content:"";display:block;position:absolute;top:-3.9375rem;height:6.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before{left:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before-solid:before{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{right:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after-solid:after{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-before:before{left:auto;right:-2.0625rem}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-after:after{right:auto;left:-2.0625rem}.fdp-approval-flow-node .fdp-approval-flow-node__add{position:absolute;z-index:10;margin:calc(3.4375rem - 1px) auto auto;inset:0;border-radius:100%;min-width:1rem;max-width:1rem;min-height:1rem;max-height:1rem}.fdp-approval-flow-node .fdp-approval-flow-node__add fd-icon{line-height:1rem;font-size:.7rem;font-weight:900}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before{left:-2.5rem;right:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-2.8rem}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after{right:-2.5rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-2.8rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone{border-radius:.25rem;position:absolute;height:100%;z-index:1}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--active{background:#e5f0fa;background:var(--sapList_SelectionBackgroundColor, #e5f0fa);border:.125rem solid #0854a0;border:.125rem solid var(--sapButton_IconColor, #0854a0)}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--blank{width:100%;top:0}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--partial{width:10%;left:0;top:0}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank{background:transparent;box-shadow:none;pointer-events:none;cursor:default}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:before{content:"";display:block;position:absolute;width:calc(100% + 4rem);height:0;left:-2rem;top:calc(50% - .0625rem);border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{width:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:not(.fdp-approval-flow-node--last-blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{width:100%}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{content:"";width:2rem;height:0;display:block;position:absolute;top:calc(50% - .0625rem);bottom:0;pointer-events:none;border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{right:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--blank:before{border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parent-approved.fdp-approval-flow-node--line-before:before{left:-2rem;border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode.fdp-approval-flow-node--blank{pointer-events:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-end-marker{top:3.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__arrow{display:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{right:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{right:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{left:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{left:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{left:19.875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{right:-12.6875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:calc(100% + 4rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{width:4rem;left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{width:4rem;right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__add,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-after{visibility:hidden}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name{font-size:1rem;line-height:1.25rem;margin-bottom:.1rem;color:#32363a;color:var(--sapTextColor, #32363a)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__description{font-size:.875rem;line-height:1rem;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin-bottom:.4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow{width:0;height:0;border-style:solid;border-width:.375rem 0 .375rem .5rem;border-color:transparent transparent transparent #d9d9d9;border-color:transparent transparent transparent var(--sapGroup_TitleBorderColor, #d9d9d9);position:absolute;left:-.5rem;top:0;bottom:0;margin:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{z-index:1;background:#d9d9d9;background:var(--sapGroup_TitleBorderColor, #d9d9d9);display:block;position:absolute;width:.25rem;height:1rem;top:2.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__arrow{left:auto;right:-.5rem;border-width:.375rem .5rem .375rem 0;border-color:transparent #d9d9d9 transparent transparent;border-color:transparent var(--sapGroup_TitleBorderColor, #d9d9d9) transparent transparent}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-before:before{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-after:after{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count{direction:ltr;text-align:right}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before{right:-2.5rem;left:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-2.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after{left:-2.5rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-2.8rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{left:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{left:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{right:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{right:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{right:19.875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:calc(100% + 2rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{left:-12.6875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:calc(100% + 4rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{left:0}
`],encapsulation:2,changeDetection:0})}}return o})();function Ji(o,n){o&1&&(d(0,"p"),g(1),v(2,"fdTranslate"),s()),o&2&&(r(),H(h(2,1,"platformApprovalFlow.selectTypeDialogMoveApproverAs")))}function en(o,n){if(o&1){let e=b();d(0,"div",4)(1,"fd-checkbox",9),B("ngModelChange",function(t){u(e);let i=l();return V(i._toNextSerial,t)||(i._toNextSerial=t),w(t)}),g(2),v(3,"fdTranslate"),s()()}if(o&2){let e=l();r(),I("ngModel",e._toNextSerial),r(),x(" ",h(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}var ao=(()=>{class o{constructor(e){this._dialogRef=e,this._nodeType=Q.SERIAL,this._nodeTypes=Q,this._toNextSerial=!1}_submit(){this._dialogRef.close({type:this._nodeType,toNextSerial:this._toNextSerial})}static{this.\u0275fac=function(a){return new(a||o)(N(ge))}}static{this.\u0275cmp=k({type:o,selectors:[["fdp-approval-flow-select-type"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-select-type"],decls:22,vars:20,consts:[["fdkTemplate","header"],["fdCompact",""],[1,"fd-form-label"],[1,"fdp-approval-flow-select-type__form"],["fd-form-item",""],["id","select-type-parallel","name","select-type-parallel",3,"ngModelChange","value","ngModel"],["id","select-type-serial","name","select-type-serial",3,"ngModelChange","value","ngModel"],["fdType","emphasized",3,"click","label"],["fdkInitialFocus","","fdType","transparent",3,"click","label"],[3,"ngModelChange","ngModel"]],template:function(a,t){a&1&&(d(0,"fd-dialog")(1,"fd-dialog-header"),E(2,Ji,3,3,"ng-template",0),s(),d(3,"fd-dialog-body",1)(4,"span",2),g(5),v(6,"fdTranslate"),s(),d(7,"fd-form-group",3)(8,"div",4)(9,"fd-radio-button",5),B("ngModelChange",function(p){return V(t._nodeType,p)||(t._nodeType=p),p}),g(10),v(11,"fdTranslate"),s()(),d(12,"div",4)(13,"fd-radio-button",6),B("ngModelChange",function(p){return V(t._nodeType,p)||(t._nodeType=p),p}),g(14),v(15,"fdTranslate"),s()(),_(16,en,4,4,"div",4),s()(),d(17,"fd-dialog-footer",1)(18,"fd-button-bar",7),v(19,"fdTranslate"),C("click",function(){return t._submit()}),s(),d(20,"fd-button-bar",8),v(21,"fdTranslate"),C("click",function(){return t._dialogRef.close()}),s()()()),a&2&&(r(5),x(" ",h(6,10,"platformApprovalFlow.selectTypeDialogParallelOrSerial")," "),r(4),m("value",t._nodeTypes.PARALLEL),I("ngModel",t._nodeType),r(),x(" ",h(11,12,"platformApprovalFlow.selectTypeDialogNodeTypeParallel")," "),r(3),m("value",t._nodeTypes.SERIAL),I("ngModel",t._nodeType),r(),x(" ",h(15,14,"platformApprovalFlow.selectTypeDialogNodeTypeSerial")," "),r(2),c(t._nodeType===t._nodeTypes.PARALLEL?16:-1),r(2),m("label",h(19,16,"platformApprovalFlow.selectTypeDialogConfirmButton")),r(2),m("label",h(21,18,"platformApprovalFlow.selectTypeDialogCancelButton")))},dependencies:[Se,Te,he,Ce,O,We,ye,Ge,ee,X,J,je,Ae,xe,R],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`,`.fdp-approval-flow-select-type .fd-dialog__body{width:24rem}.fdp-approval-flow-select-type .fd-dialog__body .fd-form-item{margin-bottom:0}
`],encapsulation:2,changeDetection:0})}}return o})();function on(o,n){if(o&1){let e=b();d(0,"button",2),v(1,"fdTranslate"),C("click",function(){u(e);let t=l();return w(t._addNode("empty"))}),s()}o&2&&m("label",h(1,1,"platformApprovalFlow.toolbarAddStepButton"))}function tn(o,n){if(o&1){let e=b();d(0,"button",2),v(1,"fdTranslate"),C("click",function(){u(e);let t=l();return w(t.enterEditMode.emit())}),s()}o&2&&m("label",h(1,1,"platformApprovalFlow.toolbarEditButton"))}function an(o,n){if(o&1){let e=b();d(0,"button",2),v(1,"fdTranslate"),C("click",function(){u(e);let t=l(2);return w(t._addNode("before"))}),s()}o&2&&m("label",h(1,1,"platformApprovalFlow.toolbarAddApproversBefore"))}function nn(o,n){if(o&1){let e=b();d(0,"button",2),v(1,"fdTranslate"),C("click",function(){u(e);let t=l(2);return w(t._addNode("after"))}),s()}o&2&&m("label",h(1,1,"platformApprovalFlow.toolbarAddApproversAfter"))}function ln(o,n){if(o&1){let e=b();d(0,"button",2),v(1,"fdTranslate"),C("click",function(){u(e);let t=l(2);return w(t._addNode("parallel"))}),s()}o&2&&m("label",h(1,1,"platformApprovalFlow.toolbarAddApproversParallel"))}function rn(o,n){if(o&1){let e=b();d(0,"button",2),v(1,"fdTranslate"),C("click",function(){u(e);let t=l(2);return w(t.deleteSelectedNodes.emit())}),s()}o&2&&m("label",h(1,1,"platformApprovalFlow.toolbarRemove"))}function pn(o,n){if(o&1){let e=b();d(0,"button",2),v(1,"fdTranslate"),C("click",function(){u(e);let t=l(2);return w(t._editSelectedNode())}),s()}o&2&&m("label",h(1,1,"platformApprovalFlow.toolbarEditApprover"))}function dn(o,n){if(o&1&&(_(0,an,2,3,"button",1),_(1,nn,2,3,"button",1),_(2,ln,2,3,"button",1),_(3,rn,2,3,"button",1),_(4,pn,2,3,"button",1)),o&2){let e=l();c(e._canAddBefore?0:-1),r(),c(e._canAddAfter?1:-1),r(),c(e._canAddParallel?2:-1),r(),c(e._canRemoveSelectedNodes?3:-1),r(),c(e._canEditNode?4:-1)}}var Tt=(()=>{class o{constructor(){this.isEditMode=!1,this.enterEditMode=new y,this.addNode=new y,this.editSelectedNode=new y,this.deleteSelectedNodes=new y,this._canRemoveSelectedNodes=!1,this._selectedNodes=[]}set selectedNodes(e){this._selectedNodes=e,this._canRemoveSelectedNodes=!!this.selectedNodes.length&&this.selectedNodes.every(a=>!a.disableActions&&!a.actionsConfig?.disableRemove)}get selectedNodes(){return this._selectedNodes}get _notApprovedSelectedNode(){return this.selectedNodes.length!==1||G(this.selectedNodes[0])?null:this.selectedNodes[0]}get _canAddBefore(){let e=this._notApprovedSelectedNode;return!!e&&!e.disableActions&&!e.actionsConfig?.disableAddBefore&&!!this.graphMetadata[e.id].canAddNodeBefore}get _canAddAfter(){let e=this._notApprovedSelectedNode;return!!e&&!e.disableActions&&!e.actionsConfig?.disableAddAfter&&!!this.graphMetadata[e.id].canAddNodeAfter}get _canAddParallel(){let e=this._notApprovedSelectedNode;return!!this._notApprovedSelectedNode&&!e?.disableActions&&!e?.actionsConfig?.disableAddParallel&&!!this.graphMetadata[e.id].canAddParallel}get _canEditNode(){let e=this._notApprovedSelectedNode;return!!e&&!e.disableActions&&!e.actionsConfig?.disableEdit}_addNode(e){let a=this.selectedNodes[0];this.addNode.emit({node:a,target:e})}_editSelectedNode(){let e=this.selectedNodes[0];this.editSelectedNode.emit(e)}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=k({type:o,selectors:[["fdp-approval-flow-toolbar-actions"]],hostAttrs:[1,"fdp-approval-flow-toolbar-actions"],inputs:{graph:"graph",graphMetadata:"graphMetadata",selectedNodes:"selectedNodes",isEditMode:"isEditMode"},outputs:{enterEditMode:"enterEditMode",addNode:"addNode",editSelectedNode:"editSelectedNode",deleteSelectedNodes:"deleteSelectedNodes"},decls:4,vars:3,consts:[["fdCompact",""],["fd-button","",3,"label"],["fd-button","",3,"click","label"]],template:function(a,t){a&1&&(Re(0,0),_(1,on,2,3,"button",1),_(2,tn,2,3,"button",1),_(3,dn,5,5),Ue()),a&2&&(r(),c(!(!(t.graph==null||t.graph.columns==null)&&t.graph.columns.length)&&!(t.graph!=null&&t.graph.errors)?1:-1),r(),c(!(t.graph==null||t.graph.columns==null)&&t.graph.columns.length&&!t.isEditMode?2:-1),r(),c(t.isEditMode?3:-1))},dependencies:[O,be,R],styles:[`.fdp-approval-flow-toolbar-actions .fd-button:not(:last-child){margin-right:.5rem}[dir=rtl] .fdp-approval-flow-toolbar-actions .fd-button:not(:last-child),.fdp-approval-flow-toolbar-actions[dir=rtl] .fd-button:not(:last-child){margin-right:0;margin-left:.5rem}
`],encapsulation:2,changeDetection:0})}}return o})();var mn=["graphContainerEl"],vn=["graphEl"],un=["gridList"];function wn(o,n){if(o&1){let e=b();d(0,"fdp-approval-flow-toolbar-actions",11),C("enterEditMode",function(){u(e);let t=l();return w(t._enterEditMode())})("addNode",function(t){u(e);let i=l();return w(i._addNode(t.node,t.target))})("editSelectedNode",function(t){u(e);let i=l();return w(i._editNode(t))})("deleteSelectedNodes",function(){u(e);let t=l();return w(t._deleteSelectedNodes())}),s()}if(o&2){let e=l();m("graph",e._graph)("selectedNodes",e._selectedNodes)("graphMetadata",e._graphMetadata)("isEditMode",e._isEditMode)}}function hn(o,n){if(o&1){let e=b();d(0,"fd-avatar",15),C("avatarClicked",function(t){let i=u(e).$implicit,p=l(3);return w(p._onWatcherClick(i,t))}),s()}if(o&2){let e=n.$implicit;m("image",e.imgUrl||"")("label",e.name)("clickable",!0)("circle",!0)}}function gn(o,n){if(o&1&&W(0,hn,1,4,"fd-avatar",14,fo()._trackByFn,!0),o&2){let e=l(2);j(e._approvalProcess.watchers)}}function Cn(o,n){if(o&1){let e=b();d(0,"div",13)(1,"fd-multi-input",16),v(2,"fdTranslate"),B("ngModelChange",function(t){u(e);let i=l(2);return V(i._selectedWatcherIds,t)||(i._selectedWatcherIds=t),w(t)}),C("ngModelChange",function(t){u(e);let i=l(2);return w(i._watchersSelectionChanged(t))}),s()()}if(o&2){let e=l(2);r(),m("dropdownValues",e._usersForWatchersList)("placeholder",h(2,6,"platformApprovalFlow.watchersInputPlaceholder"))("displayFn",e._displayUserFn)("valueFn",e._userValueFn)("showAllButton",!0),I("ngModel",e._selectedWatcherIds)}}function bn(o,n){if(o&1&&(d(0,"div",9)(1,"p",12),g(2),v(3,"fdTranslate"),s(),_(4,gn,2,0)(5,Cn,3,8,"div",13),s()),o&2){let e=l();ie("aria-label",e.watchersLabel),r(2),x(" ",e.watchersLabel||h(3,3,"platformApprovalFlow.defaultWatchersLabel")," "),r(2),c(e._isEditMode?5:4)}}function xn(o,n){if(o&1){let e=b();d(0,"button",26),v(1,"fdTranslate"),C("click",function(){u(e);let t=l(4);return w(t.nextSlide(-1))}),D(2,"fd-icon",27),g(3),s()}if(o&2){let e=l(4);ie("aria-label",h(1,3,"platformApprovalFlow.prevButtonAriaLabel")),r(2),m("glyph","navigation-"+(e._rtl?"right":"left")+"-arrow"),r(),x(" ",e._carouselStepsLeft," ")}}function An(o,n){if(o&1){let e=b();d(0,"button",28),v(1,"fdTranslate"),C("click",function(){u(e);let t=l(4);return w(t.nextSlide())}),g(2),D(3,"fd-icon",27),s()}if(o&2){let e=l(4);ie("aria-label",h(1,3,"platformApprovalFlow.nextButtonAriaLabel")),r(2),x(" ",e._carouselStepsRight," "),r(),m("glyph","navigation-"+(e._rtl?"left":"right")+"-arrow")}}function Tn(o,n){if(o&1&&(d(0,"div",23),_(1,xn,4,5,"button",24),_(2,An,4,5,"button",25),s()),o&2){let e=l(3);M("fdp-approval-flow-carousel-controls--edit-mode",e._isEditMode),r(),c(e._carouselStepsLeft>0?1:-1),r(),c(e._carouselStepsRight>0?2:-1)}}function Sn(o,n){}function yn(o,n){if(o&1&&E(0,Sn,0,0,"ng-template",32),o&2){l();let e=P(1);m("ngTemplateOutlet",e._overflowMenuButton)}}function Fn(o,n){}function Nn(o,n){if(o&1&&E(0,Fn,0,0,"ng-template",32),o&2){l();let e=P(1);m("ngTemplateOutlet",e._nodeContent)}}function Dn(o,n){if(o&1){let e=b();d(0,"fdp-approval-flow-node",30,3),C("onAdd",function(t){let i=u(e).$implicit,p=l(4);return w(p._addNode(i,t))})("onEdit",function(){let t=u(e).$implicit,i=l(4);return w(i._editNode(t))})("onDelete",function(){let t=u(e).$implicit,i=l(4);return w(i._onNodeDelete(t))})("keydown",function(t){let i=u(e).$implicit,p=l(4);return w(p._onNodeKeyDown(t,i))})("cdkDragStarted",function(){u(e);let t=l(4);return w(t._dragDropInProgress=!0)})("cdkDragReleased",function(t){let i=u(e).$implicit,p=l(4);return w(p._onNodeDrop(i,t.source))})("cdkDragMoved",function(){let t=u(e).$implicit,i=l(4);return w(i._onNodeDragMoved(t))}),d(2,"fd-grid-list-item",31),C("press",function(){let t=u(e).$implicit,i=l(4);return w(i._onNodeClick(t))}),d(3,"fd-grid-list-item-toolbar"),_(4,yn,1,1,null,32),s(),D(5,"fd-avatar",33),E(6,Nn,1,1,"ng-template",34),s()()}if(o&2){let e=n.$implicit,a=n.$index,t=P(1),i=l(),p=i.$implicit,f=i.$index,A=l(3);m("cdkDragDisabled",A._isCdkDragDisabled(e))("node",e)("meta",A._graphMetadata[e.id])("isEdit",A._isEditMode)("isNextNodeBlank",A._isNextNodeBlank(e,f,a))("checkDueDate",A.checkDueDate)("dueDateThreshold",A.dueDateThreshold)("renderArrow",f>0)("allNodesInColumnApproved",!!p.allNodesApproved)("approvalStatusTemplate",A.approvalStatusTemplate)("statusColorMapping",A.statusColorMapping),r(2),M("fdp-approval-flow__graph-node-inner--edit",A._isEditMode),m("value",e)("selected",!!e.selected)("ariaLabelledBy",t.approvalFlowNodeId)("disableToolbarClick",!0),r(2),c(A._isEditMode?4:-1),r(),m("image",e.approvers.length===1?e.approvers[0].imgUrl:null)("label",e.approvers.length>1?e.description:null)("circle",!0)}}function En(o,n){if(o&1&&(d(0,"div",22),W(1,Dn,7,21,"fdp-approval-flow-node",29,fo()._trackByFn,!0),s()),o&2){let e=n.$implicit;r(),j(e.nodes)}}function kn(o,n){if(o&1&&(d(0,"div",18),_(1,Tn,3,4,"div",19),d(2,"div",20,1)(4,"div",21,2),W(6,En,3,0,"div",22,se),s()()()),o&2){let e=l(2);M("fdp-approval-flow__container--extra-padding-start",!0)("fdp-approval-flow__container--extra-padding-end",!0),r(),c(e._scrollDiff>0?1:-1),r(),M("fdp-approval-flow__graph-container--multiple-root-nodes",e._multipleRootNodes)("fdp-approval-flow__graph-container--multiple-final-nodes",e._multipleFinalNodes)("fd-scrollbar",!0),r(2),M("fdp-approval-flow__graph--edit-mode",e._isEditMode),r(2),j(e._graph.columns)}}function Mn(o,n){if(o&1&&(d(0,"figure",35)(1,"figcaption",36)(2,"h3",37),g(3),v(4,"fdTranslate"),s(),d(5,"p",38),g(6),v(7,"fdTranslate"),s()()(),d(8,"div"),yo(),d(9,"svg",39),D(10,"path",40)(11,"path",41)(12,"path",42)(13,"path",43)(14,"path",44)(15,"path",45)(16,"path",46),s()()),o&2){let e=l(2);m("svgConfig",e._emptyApprovalFlowSpotConfig),r(3),x(" ",h(4,19,"platformApprovalFlow.emptyTitle")," "),r(3),x(" ",h(7,21,"platformApprovalFlow.emptyHint")," "),r(2),q("display","none"),r(2),q("fill","var(--sapIllus_PatternShadow)"),r(),q("fill","var(--sapIllus_ObjectFillColor)"),r(),q("fill","var(--sapIllus_BrandColorSecondary)"),r(),q("fill","var(--sapIllus_Layering1)"),r(),q("fill","var(--sapIllus_Layering1)"),r(),q("fill","var(--sapIllus_Layering1)"),r(),q("fill","var(--sapIllus_StrokeDetailColor)")}}function In(o,n){if(o&1&&_(0,kn,8,13,"div",17)(1,Mn,17,23),o&2){let e=l();c(e._graph.columns.length?0:1)}}function Vn(o,n){if(o&1){let e=b();d(0,"div",10)(1,"div",47)(2,"fd-bar-element")(3,"button",48),v(4,"fdTranslate"),C("click",function(){u(e);let t=l();return w(t._saveEditModeChanges())}),s()(),d(5,"fd-bar-element")(6,"button",49),v(7,"fdTranslate"),C("click",function(){u(e);let t=l();return w(t._exitEditMode())}),s()()()()}if(o&2){let e=l();r(3),m("label",h(4,4,"platformApprovalFlow.editModeSaveButtonLabel"))("disabled",e.disableSaveButton),r(3),m("label",h(7,6,"platformApprovalFlow.editModeExitButtonLabel"))("disabled",e.disableExitButton)}}var Bn=0,St=(()=>{class o{get approvalProcess(){return structuredClone(this._approvalProcess)}get _rtl(){return this._rtlService?.rtl.getValue()}get _selectedNodes(){return fe(this._graph).filter(e=>e.selected)}constructor(e,a,t,i,p){this._dialogService=e,this._cdr=a,this._injector=t,this.providers=i,this._rtlService=p,this.checkDueDate=!1,this.dueDateThreshold=7,this.allowSendRemindersForStatuses=["in progress","not started"],this.isEditAvailable=!1,this.allowAddParallelNodes=!0,this.disableSaveButton=!1,this.disableExitButton=!1,this.removeSpaceNode=!1,this.nodeClick=new y,this.afterNodeAdd=new y,this.afterNodeEdit=new y,this.valueChange=new y,this.sendReminders=new y,this.onDataRequested=new y,this.onDataReceived=new y,this._isCarousel=!1,this._graphMetadata={},this._isEditMode=!1,this._usersForWatchersList=[],this._selectedWatcherIds=[],this._messages=[],this._emptyApprovalFlowSpotConfig={spot:{url:"",id:"sapIllus-Spot-NoData"}},this._multipleRootNodes=!1,this._multipleFinalNodes=!1,this._dragDropInProgress=!1,this._displayUserFn=Ke,this._userValueFn=vt,this._trackByFn=oe,this.approvalFlowUniqueId=`fdp-approval-flow-${++Bn}`,this._selectedWatchers=[],this._subscriptions=new Be,this._dataSourceChanged$=new ho,this._getNextHorizontalNode=(f,A,T)=>{let F=T==="right"?1:-1,S=this._graph.columns[A+F]?.nodes[f];if(S)return S.blank||S.space?this._getNextHorizontalNode(f,A+F,T):S},this._getNextVerticalNode=(f,A,T)=>{let F=T==="down"?1:-1,S=this._graph.columns[A].nodes[f+F];if(S)return S.blank||S.space?this._getNextVerticalNode(f+F,A,T):S},console.log("ApprovalFlowComponent is deprecated and will be removed in next release.")}ngOnInit(){if(!this.userDataSource){let e=this.usersDataProviderEntityKey&&this.providers?.get(this.usersDataProviderEntityKey);e?this.userDataSource=new co(e):console.error("Could not resolve users data source")}if(!this.watcherDataSource){let e=this.watchersDataProviderEntityKey&&this.providers?.get(this.watchersDataProviderEntityKey);e?this.watcherDataSource=new co(e):console.error("Could not resolve watchers data source")}if(!this.teamDataSource){let e=this.teamsDataProviderEntityKey&&this.providers?.get(this.teamsDataProviderEntityKey);e?this.teamDataSource=new Yo(e):console.error("Could not resolve teams data source")}this._listenOnResize(),this._setupDataSourceSubscription()}ngOnChanges(e){if(e.value){let a=this.value??{watchers:[],nodes:[]};this._initialApprovalProcess=structuredClone(a),this._buildView(a)}(e.userDataSource||e.watcherDataSource||e.teamDataSource)&&this._dataSourceChanged$.next()}ngOnDestroy(){this._subscriptions.unsubscribe()}_isNextNodeBlank(e,a,t){let i=this._graph.columns[a+1]?.nodes[t],p=i?.blank,f=this._graphMetadata[i?.id]?.parallelEnd;return!e.blank&&!!p&&!f}_isCdkDragDisabled(e){return!this._isEditMode||e.blank||e.space||e.status!=="not started"}_onNodeClick(e){if(this._dragDropInProgress)return;this._dialogService.open(Ie,{data:de({node:e,allowSendReminder:this.allowSendRemindersForStatuses.includes(e.status)},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(t=>{Array.isArray(t)&&this.sendReminders.emit({users:t,node:e})}),this.nodeClick.emit(e)}_onNodeAdd(e){this.afterNodeAdd.emit(e)}_onNodeEdit(e){this.afterNodeEdit.emit(e)}_onNodeSelectionChange(e){this._graph.columns.forEach(a=>{a.nodes.forEach(t=>{t.selected=!!e.selection.find(i=>i.id===t.id)})})}_onWatcherClick(e,a){a.preventDefault(),this._dialogService.open(Ie,{data:de({watcher:e},this._defaultDialogOptions)})}getNodeMetadataByNodeId(e){return this._graphMetadata[e]}nextSlide(e=1){let t;if(e===1){let i=this._carouselStepsRight===1,p=this._carouselStepsCount-this._carouselStepsRight+1;t=this._carouselStepSize*p+(i?0:1)-this._graphEl.nativeElement.clientWidth}else{let i=this._carouselStepsLeft===1,p=this._carouselStepsLeft-1;t=this._carouselStepSize*p-(i?0:1)}this._setScrollPosition(t),this._cdr.detectChanges()}_setScrollPosition(e){this._graphContainerEl.nativeElement.scrollTo({left:e,behavior:"smooth"})}_onNodeKeyDown(e,a){if(!we.isKeyCode(e,[38,40,39,37]))return;let{nodeIndex:t,columnIndex:i}=this._graphMetadata[a.id];e.preventDefault();let p;typeof t=="number"&&typeof i=="number"&&(we.isKeyCode(e,38)?t>0&&(p=this._getNextVerticalNode(t,i,"up")):we.isKeyCode(e,40)?p=this._getNextVerticalNode(t,i,"down"):we.isKeyCode(e,37)?p=this._getNextHorizontalNode(t,i,this._rtl?"right":"left"):we.isKeyCode(e,39)&&(p=this._getNextHorizontalNode(t,i,this._rtl?"left":"right"))),p&&this._focusNode(p)}_enterEditMode(){this.watcherDataSource.match(),this._editModeInitSub=this.watcherDataSource.open().subscribe(e=>{this._usersForWatchersList=e,this._selectedWatchers=this._approvalProcess.watchers,this._selectedWatcherIds=this._selectedWatchers.map(a=>a.id),this._isEditMode=!0,this._initialApprovalProcess=structuredClone(this._approvalProcess),this._cdr.detectChanges()}),this._subscriptions.add(this._editModeInitSub)}_saveEditModeChanges(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[];let e=no(de({},this._approvalProcess),{watchers:this._selectedWatchers});this._buildView(e),this.valueChange.emit(e)}_exitEditMode(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._approvalProcess=structuredClone(this._initialApprovalProcess),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[],this._buildView(this._approvalProcess)}_watchersSelectionChanged(e){let a=new Set(e);this._selectedWatchers=Ro(this._selectedWatchers.concat(this._usersForWatchersList).filter(t=>a.has(t.id)),t=>t.id)}_undoLastAction(){this._approvalProcess=structuredClone(this._previousApprovalProcess),this._previousApprovalProcess=void 0,this._buildView(this._approvalProcess)}_addNode(e,a){let t=a==="before"&&!e.actionsConfig?.disableAddParallel;this._dialogService.open(Me,{data:de({nodeTarget:a,showNodeTypeSelect:t,node:Object.assign(Xe(),{blank:!1}),checkDueDate:this.checkDueDate},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(p=>{if(!p)return;let{node:f,nodeType:A,toNextSerial:T}=p;if(f){switch(this._cacheCurrentApprovalProcess(),f.id=`tempId${(Math.random()*1e3).toFixed()}`,a){case"empty":this._enterEditMode();break;case"before":A===Q.SERIAL&&(f.targets=[e.id],this._replaceTargets(e.id,[f.id])),A===Q.PARALLEL&&this._processAddingParallelNode(f,e,T);break;case"before-all":f.targets=this._graph.columns[0].nodes.map(F=>F.id);break;case"after":f.targets=e.targets,e.targets=[f.id];break;case"after-all":{this._graphMetadata[e.targets[0]]?.parents?(f.targets=e.targets,this._replaceTargets(e.id,[f.id]),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(L=>L.id!==e.id)):this._graph.columns[this._graph.columns.length-1].nodes.forEach(L=>L.targets.push(f.id));break}case"parallel":this._processAddingParallelNode(f,e,T);break}this._showMessage(f.approvalTeamId?"teamAddSuccess":"approverAddSuccess"),this._approvalProcess.nodes.push(f),this._buildView(this._approvalProcess),this._onNodeAdd(f)}})}_editNode(e){this._dialogService.open(Me,{data:de({isEdit:!0,node:Object.assign({},e),checkDueDate:this.checkDueDate},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(t=>{let i=t?.node;i&&(this._cacheCurrentApprovalProcess(),this._updateNode(i),this._showMessage("nodeEdit"),this._buildView(this._approvalProcess),this._onNodeEdit(e))})}_onNodeDelete(e){this._cacheCurrentApprovalProcess(),this._deleteNode(e),this._showMessage(e.approvalTeamId?"teamRemove":"nodeRemove"),this._buildView(this._approvalProcess)}_deleteSelectedNodes(){this._cacheCurrentApprovalProcess(),this._nodeComponents.filter(a=>a._isSelected).map(a=>a.node).forEach(a=>{this._deleteNode(a),this._buildView(this._approvalProcess)}),this._showMessage("nodesRemove")}_onNodeDragMoved(e){let a=this._nodeComponents.find(t=>t.node===e)?._nativeElement.getBoundingClientRect();a&&this._nodeComponents.forEach(t=>{t.node!==e&&t._dropZones.length&&t._checkIfNodeDraggedInDropZone(a)})}_focusNode(e){let a=this._nodeComponents.find(t=>t.node===e);a&&(this._moveColInView(e.colIndex??0),a._focus({preventScroll:!0}))}_onNodeDrop(e,a){a.reset(),setTimeout(()=>this._dragDropInProgress=!1);let t=this._nodeComponents.find(p=>p._isAnyDropZoneActive);if(!t)return;this._cacheCurrentApprovalProcess();let i=t._activeDropZones[0].placement;if(this._nodeComponents.forEach(p=>p._deactivateDropZones()),i==="after"){this._deleteNode(e),this._buildView(this._approvalProcess);let p=fe(this._graph).find(f=>f.id===t.node.targets[0]);p?.blank&&(this._deleteNode(p),this._buildView(this._approvalProcess)),e.targets=this._approvalProcess.nodes.find(f=>f.id===t.node.id)?.targets??[],t.node.targets=[e.id],this._finishDragDropProcess(e)}else if(i==="before")this._dialogService.open(ao,void 0,this._injector).afterClosed.subscribe(f=>{if(!f)return;let{type:A,toNextSerial:T}=f;this._deleteNode(e),this._buildView(this._approvalProcess),A===Q.SERIAL&&(this._replaceTargets(t.node.id,[e.id]),e.targets=[t.node.id]),A===Q.PARALLEL&&this._processAddingParallelNode(e,t.node,T),this._finishDragDropProcess(e)});else if(i==="before-all"){this._deleteNode(e);let p=this._graph.columns[0].nodes;e.targets=p.map(f=>f.id),this._finishDragDropProcess(e)}else i==="after-all"&&(this._deleteNode(e),this._buildView(this._approvalProcess),e.targets=[...t.node.targets],t.node.targets.length===0?this._graph.columns[this._graph.columns.length-1].nodes.forEach(f=>f.targets.push(e.id)):(this._approvalProcess.nodes=this._approvalProcess.nodes.filter(p=>p.id!==t.node.id),this._replaceTargets(t.node.id,[e.id])),this._finishDragDropProcess(e))}_moveColInView(e){let a=this._graphEl.nativeElement.children[e].firstElementChild;if(!a)return;let{x:t,width:i}=a.getBoundingClientRect(),p=this._graphContainerEl.nativeElement.getBoundingClientRect().x,f=t-p,A=f+i;f<0?this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+f):A>this._graphEl.nativeElement.clientWidth&&this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+A-this._graphEl.nativeElement.clientWidth)}_finishDragDropProcess(e){this._approvalProcess.nodes.push(e),this._buildView(this._approvalProcess)}_showMessage(e){this._messages=[{type:e}]}_buildView(e){if(e.nodes||(e.nodes=[]),e.watchers||(e.watchers=[]),this._approvalProcess=e,this._graph=gt(this._approvalProcess.nodes),this.removeSpaceNode&&(this._graph.columns=this.removeSpaceNodesFromColumns(this._graph.columns)),this._graph.errors){this._showMessage("error");return}this._graphMetadata=Ct(this._graph);let a=fe(this._graph);this._approvalProcess.nodes=a.filter(t=>!t.space),this._multipleRootNodes=a.filter(t=>this._graphMetadata[t.id].isRoot).length>1,this._multipleFinalNodes=a.filter(t=>this._graphMetadata[t.id].isFinal).length>1,this._cdr.detectChanges(),this._gridList?.clearSelection(),this._isEditMode||this._setScrollPosition(0)}_listenOnResize(){this._subscriptions.add(ro(lo(window,"resize"),lo(this._graphContainerEl.nativeElement,"scroll")).pipe(xo(50,void 0,{leading:!0,trailing:!0})).subscribe(()=>{this._cdr.detectChanges()}))}_updateNode(e){let a=this._approvalProcess.nodes.findIndex(t=>t.id===e.id);a>-1&&(this._approvalProcess.nodes[a]=e)}_deleteNode(e){let a=[e],t=fe(this._graph),i=t.find(S=>S.id===e.id),p;do i?.targets.length===1&&(p=t.find(S=>S.id===i?.targets[0]),p?.blank&&this._graphMetadata[p.id].parents.length===1&&(a.push(p),i=p,p=t.find(S=>S.id===i?.targets[0])));while(p?.blank&&this._graphMetadata[p.id].parents.length===1);let f=this._graphMetadata[e.id].parents[0],A=e.targets[0],T=this._graphMetadata[f?.id]?.parallelStart,F=this._graphMetadata[A]?.parallelEnd,L=T&&F||a.length>1?[]:i?.targets??[];this._replaceTargets(e.id,L),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(S=>!a.includes(S))}_addParallelTargets(e,a){this._approvalProcess.nodes.forEach(t=>{_e(t,e)&&t.targets.push(a)})}_replaceTargets(e,a){this._approvalProcess.nodes.forEach(t=>{_e(t,e)&&(t.targets=t.targets.filter(i=>i!==e),t.targets.push(...a))})}_cacheCurrentApprovalProcess(){this._previousApprovalProcess=structuredClone(this._approvalProcess)}get _carouselStepSize(){return this._graphEl.nativeElement.scrollWidth/this._carouselStepsCount}get _scrollDiff(){return this._graphEl?this._graphEl.nativeElement.scrollWidth-this._graphEl.nativeElement.clientWidth:0}get _carouselStepsCount(){return this._graphEl.nativeElement.children.length}get _carouselStepsLeft(){return Math.ceil(this._graphContainerEl.nativeElement.scrollLeft/this._carouselStepSize)}get _carouselStepsRight(){return Math.ceil((this._scrollDiff-Math.round(this._graphContainerEl.nativeElement.scrollLeft))/this._carouselStepSize)}get _defaultDialogOptions(){return{teamDataSource:this.teamDataSource,userDataSource:this.userDataSource,userDetailsTemplate:this.userDetailsTemplate,rtl:this._rtl}}_findSerialNode(e,a){if(Number.isInteger(e)&&a?.some(p=>{let f=this._graphMetadata[p]?.nodeIndex;return Number.isInteger(f)&&f<=e-1}))return a??[];let i=this._approvalProcess.nodes.find(p=>p.id===a?.[0]);return this._findSerialNode(e,i?.targets)}_processAddingParallelNode(e,a,t=!1){if(e.targets=a.targets,this._addParallelTargets(a.id,e.id),t){let i=this._graphMetadata[a.id].nodeIndex,p=a.targets;if(i===0){let f=this._graphMetadata[a.id],T=(this._graph.columns?.[f.columnIndex]?.nodes).find((F,L)=>L>0&&!F.space);if(T){i=this._graphMetadata[T.id].columnIndex,p=T.targets,e.targets=this._findSerialNode(i,p);return}e.targets=a.targets;return}e.targets=this._findSerialNode(i,p)}}_setupDataSourceSubscription(){let e=this._dataSourceChanged$.pipe(so(null),bo(()=>{let a=[this.teamDataSource,this.userDataSource,this.watcherDataSource].filter(Boolean).map(t=>ro(t.onDataRequested().pipe(po(!0)),t.onDataReceived().pipe(po(!1))).pipe(so(t.isDataLoading)));return Le(a)}),go(a=>a.some(Boolean)),Co()).subscribe(a=>{a?this.onDataRequested.emit():this.onDataReceived.emit()});this._subscriptions.add(e)}removeSpaceNodesFromColumns(e){let a=[];return e.forEach(t=>{let i=t.nodes.filter(f=>!f.space),p=no(de({},t),{nodes:i});a.push(p)}),a}static{this.\u0275fac=function(a){return new(a||o)(N(Go),N(Y),N(Fo),N(Ko,8),N(Oe,8))}}static{this.\u0275cmp=k({type:o,selectors:[["fdp-approval-flow"]],viewQuery:function(a,t){if(a&1&&me(mn,5)(vn,5)(un,5)(Ve,5),a&2){let i;U(i=z())&&(t._graphContainerEl=i.first),U(i=z())&&(t._graphEl=i.first),U(i=z())&&(t._gridList=i.first),U(i=z())&&(t._nodeComponents=i)}},inputs:{title:"title",value:"value",userDataSource:"userDataSource",watcherDataSource:"watcherDataSource",teamDataSource:"teamDataSource",userDetailsTemplate:"userDetailsTemplate",approvalStatusTemplate:"approvalStatusTemplate",statusColorMapping:"statusColorMapping",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allowSendRemindersForStatuses:"allowSendRemindersForStatuses",isEditAvailable:"isEditAvailable",watchersLabel:"watchersLabel",allowAddParallelNodes:"allowAddParallelNodes",disableSaveButton:"disableSaveButton",disableExitButton:"disableExitButton",usersDataProviderEntityKey:"usersDataProviderEntityKey",teamsDataProviderEntityKey:"teamsDataProviderEntityKey",watchersDataProviderEntityKey:"watchersDataProviderEntityKey",removeSpaceNode:"removeSpaceNode"},outputs:{nodeClick:"nodeClick",afterNodeAdd:"afterNodeAdd",afterNodeEdit:"afterNodeEdit",valueChange:"valueChange",sendReminders:"sendReminders",onDataRequested:"onDataRequested",onDataReceived:"onDataReceived"},features:[Vo([to]),ce],decls:11,vars:10,consts:[["gridList",""],["graphContainerEl",""],["graphEl",""],["approvalFlowNode",""],["fdCompact",""],[3,"messagesChange","undoLastAction","messages","undoLastActionAvailable"],[1,"fdp-approval-flow__toolbar",3,"selectionChange","selectionMode"],[3,"title"],[3,"graph","selectedNodes","graphMetadata","isEditMode"],[1,"fdp-approval-flow__watchers"],["fd-bar",""],[3,"enterEditMode","addNode","editSelectedNode","deleteSelectedNodes","graph","selectedNodes","graphMetadata","isEditMode"],[1,"fdp-approval-flow__watchers-title"],[1,"fdp-approval-flow__watchers-input-container"],["size","xs",3,"image","label","clickable","circle"],["size","xs",3,"avatarClicked","image","label","clickable","circle"],[3,"ngModelChange","dropdownValues","placeholder","displayFn","valueFn","showAllButton","ngModel"],[1,"fdp-approval-flow__container",3,"fdp-approval-flow__container--extra-padding-start","fdp-approval-flow__container--extra-padding-end"],[1,"fdp-approval-flow__container"],[1,"fdp-approval-flow-carousel-controls",3,"fdp-approval-flow-carousel-controls--edit-mode"],[1,"fdp-approval-flow__graph-container"],[1,"fdp-approval-flow__graph"],[1,"fdp-approval-flow__graph-column"],[1,"fdp-approval-flow-carousel-controls"],[1,"fdp-approval-flow-carousel-controls__button--prev-slide"],[1,"fdp-approval-flow-carousel-controls__button--next-slide"],[1,"fdp-approval-flow-carousel-controls__button--prev-slide",3,"click"],[3,"glyph"],[1,"fdp-approval-flow-carousel-controls__button--next-slide",3,"click"],["cdkDrag","",3,"cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","approvalStatusTemplate","statusColorMapping"],["cdkDrag","",3,"onAdd","onEdit","onDelete","keydown","cdkDragStarted","cdkDragReleased","cdkDragMoved","cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","approvalStatusTemplate","statusColorMapping"],["type","active",1,"fdp-approval-flow__graph-node-inner",3,"press","value","selected","ariaLabelledBy","disableToolbarClick"],[3,"ngTemplateOutlet"],["fd-grid-list-item-image","","size","xs",3,"image","label","circle"],["fd-grid-list-item-body",""],["fd-illustrated-message","","type","spot",3,"svgConfig"],["fd-illustrated-message-figcaption",""],["fd-illustrated-message-title",""],["fd-illustrated-message-text",""],["xmlns","http://www.w3.org/2000/svg","width","128","height","128","viewBox","0 0 128 128","id","sapIllus-Spot-NoData"],["d","M41.6179,32.7174H84.6273a1,1,0,0,1,.723.3092l7.2445,7.5824,7.4817,7.8491a1,1,0,0,1,.2761.69l-.0046,55.6069a4.1038,4.1038,0,0,1-.8787,2.1212A4.0564,4.0564,0,0,1,98.1,107.9631l-56.3858.0313a2.6167,2.6167,0,0,1-3.0812-3.2309l-.0152-69.0594Z",1,"sapIllus_PatternShadow"],["d","M35.7928,27.4987H78.8022a1,1,0,0,1,.723.3092L86.77,35.39l7.4816,7.8492a1,1,0,0,1,.2762.69l-.0046,55.6069a3,3,0,0,1-3,3H35.808a2.9946,2.9946,0,0,1-3-2.9913c-.01-12.0564-.0423-57.0116-.0152-69.0595A2.9943,2.9943,0,0,1,35.7928,27.4987Z",1,"sapIllus_ObjectFillColor"],["d","M93.2978,44.5335H78.8208a.9925.9925,0,0,1-.974-1.01V28.5108a.97.97,0,0,1,1.6628-.7143L93.9865,42.8092A1.0151,1.0151,0,0,1,93.2978,44.5335Z",1,"sapIllus_BrandColorSecondary"],["d","M104.608,38.9485l5.9157-1.7721c1.32-.3954.7584-2.5258-.5689-2.1282L104.0392,36.82c-1.32.3953-.7584,2.5258.5688,2.1282Z",1,"sapIllus_Layering1"],["d","M85.2973,21.2465l.9718-5.9331c.2154-1.3151-1.777-1.8807-1.9941-.5554l-.9718,5.9332c-.2155,1.3151,1.777,1.8807,1.9941.5553Z",1,"sapIllus_Layering1"],["d","M95.3034,29.0015a1.01,1.01,0,0,1-.6837-.267,1.0783,1.0783,0,0,1-.0864-1.4932l5.9511-6.8857a1.01,1.01,0,0,1,1.4538-.0884,1.0785,1.0785,0,0,1,.0865,1.4932l-5.9511,6.8858A1.0164,1.0164,0,0,1,95.3034,29.0015Z",1,"sapIllus_Layering1"],["d","M94.8747,42.8861,80.0855,27.4623a1.5152,1.5152,0,0,0-1.0885-.4636H35.807a3.509,3.509,0,0,0-3.5146,3.4836c-.0294,13.2857.0137,66.7559.0157,69.0257a3.5076,3.5076,0,0,0,3.5146,3.4894H91.7709a3.5106,3.5106,0,0,0,3.5146-3.4982l.005-55.5785A1.49,1.49,0,0,0,94.8747,42.8861Zm-16.21-14.8355a1.15,1.15,0,0,1,.2561-.0309,1.04,1.04,0,0,1,.51.2134l14.276,14.8837.0194.02a.5891.5891,0,0,1,.0968.6251c-.1016.1764-.4086.24-.69.24L78.8355,44a.6031.6031,0,0,1-.5472-.6131c-.0087-4.9588-.017-9.9015-.0035-14.8689A.5189.5189,0,0,1,78.6646,28.0506Zm13.1062,73.95H35.8188a2.5045,2.5045,0,0,1-2.5107-2.491c-.002-2.2694-.0451-55.74-.0157-69.0248a2.5054,2.5054,0,0,1,2.5107-2.4861H77.3684a1.49,1.49,0,0,0-.0976.5106V43.4934A1.5145,1.5145,0,0,0,78.7894,45H78.92L94.286,47.9749l-.0046,51.5269A2.5074,2.5074,0,0,1,91.7708,102.0006Z",1,"sapIllus_StrokeDetailColor"],["fd-bar-right",""],["fd-button","","fdType","emphasized",3,"click","label","disabled"],["fd-button","","fdType","transparent",3,"click","label","disabled"]],template:function(a,t){if(a&1){let i=b();Re(0,4),d(1,"fdp-approval-flow-messages",5),B("messagesChange",function(f){return u(i),V(t._messages,f)||(t._messages=f),w(f)}),C("undoLastAction",function(){return u(i),w(t._undoLastAction())}),s(),d(2,"fd-grid-list",6,0),C("selectionChange",function(f){return u(i),w(t._onNodeSelectionChange(f))}),d(4,"fd-grid-list-title-bar",7),v(5,"fdTranslate"),D(6,"fd-grid-list-title-bar-spacer"),_(7,wn,1,4,"fdp-approval-flow-toolbar-actions",8),s(),_(8,bn,6,5,"div",9),_(9,In,2,1),s(),_(10,Vn,8,8,"div",10),Ue()}a&2&&(r(),I("messages",t._messages),m("undoLastActionAvailable",!!t._previousApprovalProcess),r(),m("selectionMode",t._isEditMode?"multiSelect":"none"),r(2),m("title",t.title||h(5,8,"platformApprovalFlow.defaultTitle")),r(3),c(t.isEditAvailable?7:-1),r(),c(t._approvalProcess.watchers!=null&&t._approvalProcess.watchers.length||t._isEditMode?8:-1),r(),c(t._graph.errors?-1:9),r(),c(t._isEditMode?10:-1))},dependencies:[O,xt,pt,rt,lt,Tt,Ze,$e,ee,X,J,le,Ve,Uo,He,it,ue,dt,nt,Oo,jo,Wo,be,ct,st,_t,ft,R],styles:[`.fd-scrollbar{border:0;-webkit-box-sizing:border-box;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:normal;margin-block:0;margin-inline:0;overflow:auto;padding-block:0;padding-inline:0;scrollbar-color:var(--fdScrollbar_Thumb_Color) var(--fdScrollbar_Track_Color)}.fd-scrollbar:after,.fd-scrollbar:before{-webkit-box-sizing:inherit;box-sizing:inherit;font-size:inherit}.fd-scrollbar.is-focus,.fd-scrollbar:focus{outline:none;z-index:5}.fd-scrollbar::-webkit-scrollbar{height:var(--fdScrollbar_Dimension);width:var(--fdScrollbar_Dimension)}.fd-scrollbar::-webkit-scrollbar-corner,.fd-scrollbar::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color)}.fd-scrollbar::-webkit-scrollbar-thumb{background-color:transparent;border:var(--fdScrollbar_Thumb_Offset) solid transparent;border-radius:calc(var(--fdScrollbar_Thumb_Border_Radius) - var(--fdScrollbar_Thumb_Offset));-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color);box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color)}.fd-scrollbar::-webkit-scrollbar-thumb:active,.fd-scrollbar::-webkit-scrollbar-thumb:hover{-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color);box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color)}.fd-scrollbar--container::-webkit-scrollbar-corner,.fd-scrollbar--container::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color);border-radius:0 var(--fdScrollbar_Border_Radius) var(--fdScrollbar_Border_Radius) 0}.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-corner,.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-track,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-corner,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-track{border-radius:var(--fdScrollbar_Border_Radius) 0 0 var(--fdScrollbar_Border_Radius)}.fdp-approval-flow__watchers{margin-bottom:.5rem;padding-left:.5rem}.fdp-approval-flow__watchers-title{font-size:.875em;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin:1rem 0 .5rem}.fdp-approval-flow__watchers fd-avatar{margin-right:.5rem;cursor:pointer}.fdp-approval-flow__watchers fd-avatar:focus{outline-offset:.0625rem;outline-width:.0625rem;outline-style:dotted;outline-color:var(--sapContent_FocusColor, #0854a0)}.fdp-approval-flow__watchers .fdp-approval-flow__watchers-input-container{width:17.375rem}[dir=rtl] .fdp-approval-flow__watchers,.fdp-approval-flow__watchers[dir=rtl]{padding-right:.5rem}[dir=rtl] .fdp-approval-flow__watchers fd-avatar,.fdp-approval-flow__watchers[dir=rtl] fd-avatar{margin-left:.5rem;margin-right:0}.fdp-approval-flow__container{max-width:100%;position:relative;padding:0 .5rem}.fdp-approval-flow__container--extra-padding-start{padding-left:2rem}.fdp-approval-flow__container--extra-padding-end{padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start{padding-left:.5rem;padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-end{padding-right:.5rem;padding-left:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end{padding-right:2rem;padding-left:2rem}.fdp-approval-flow__graph-container{position:relative;overflow:auto;padding-top:.5rem;padding-bottom:2rem;padding-left:2rem}.fdp-approval-flow__graph-container--multiple-root-nodes{padding-left:4rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-root-nodes,.fdp-approval-flow__graph-container--multiple-root-nodes[dir=rtl]{padding-right:2rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-final-nodes,.fdp-approval-flow__graph-container--multiple-final-nodes[dir=rtl]{padding-left:0}.fdp-approval-flow-carousel-controls{position:absolute;display:flex;align-items:center;width:100%;height:6.375rem;padding-top:.5rem;left:0}.fdp-approval-flow-carousel-controls--edit-mode{height:8.375rem}.fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--next-slide{position:absolute;border:none;background:transparent;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);display:flex;justify-content:space-between;width:2rem;align-items:center;cursor:pointer}.fdp-approval-flow-carousel-controls__button--prev-slide fd-icon,.fdp-approval-flow-carousel-controls__button--next-slide fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;top:.0625rem}.fdp-approval-flow-carousel-controls__button--prev-slide{left:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--prev-slide[dir=rtl]{left:auto;right:0}.fdp-approval-flow-carousel-controls__button--next-slide{right:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--next-slide,.fdp-approval-flow-carousel-controls__button--next-slide[dir=rtl]{left:0;right:auto}.fdp-approval-flow__graph{display:flex;align-items:flex-start;position:relative;left:0;transition:left .3s}.fdp-approval-flow__graph-column{margin-right:4rem;position:relative}[dir=rtl] .fdp-approval-flow__graph-column:first-child,.fdp-approval-flow__graph-column[dir=rtl]:first-child{margin-right:2rem}.fdp-approval-flow__graph fdp-approval-flow-node+fdp-approval-flow-node:not(:last-child){margin-bottom:1rem}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner{padding:0}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content{margin-left:auto}[dir=rtl] .fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content,.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content[dir=rtl]{margin-left:0;margin-right:auto}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--actions{display:none}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner:not(.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner--edit) .fd-toolbar.fd-grid-list__item-toolbar{display:none}.cdk-overlay-container{z-index:1002!important}
/*! Bundled license information:

fundamental-styles/dist/scrollbar.css:
  (*!
   * Fundamental Library Styles v0.40.1
   * Copyright (c) 2025 SAP SE or an SAP affiliate company.
   * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)
   *)
*/
`],encapsulation:2,changeDetection:0})}}return o})();var Nd=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=Do({type:o})}static{this.\u0275inj=To({imports:[St,Ve,Ie,Me,Fe,eo,ao]})}}return o})();export{St as a,Nd as b};
