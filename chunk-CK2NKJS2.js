import{a as nt}from"./chunk-RG5T2FAK.js";import{g as it}from"./chunk-EEJTW4QY.js";import{a as ot}from"./chunk-IQQG3XKQ.js";import{a as D}from"./chunk-M5IJBHUB.js";import{a as et}from"./chunk-W7RGHNFL.js";import{a as tt}from"./chunk-P73TUGTN.js";import{f as Q}from"./chunk-XWUBOT7Q.js";import{b as C}from"./chunk-IH6DKHNP.js";import{a as Z}from"./chunk-NAYRFVZ5.js";import{a as H}from"./chunk-PCMMG5PD.js";import{c as b}from"./chunk-JEIBFNDU.js";import{d as J}from"./chunk-3RZ6GDXO.js";import{a as O}from"./chunk-PPLGPWQL.js";import{$ as W,Z as x,a as G}from"./chunk-J2ZYVFGE.js";import{Mf as I,P as $,Q as K,Qf as X,R as h,Rf as q,S as Y,T as U,V as s,W as m,X as f,Y as g,o as M,x as z}from"./chunk-MRD324L5.js";import{w as _}from"./chunk-EIBM65BX.js";import{$ as y,La as R,ca as V,ha as E,nc as F,pc as L,qc as w,ta as N,wb as A,xb as P}from"./chunk-5C524TAA.js";import{a as j,b as B,i as l}from"./chunk-66YHNWRR.js";function T(){return s("div",{class:"ui5-dynamic-date-range-root",children:s(it,{"data-sap-focus-ref":!0,id:`${this._id}-inner`,class:"ui5-dynamic-date-range-input",value:this.value&&this.getOption(this.value?.operator)?.format(this.value),onChange:this.onInputChange,onKeyDown:this.onInputKeyDown,children:s(J,{id:`${this._id}-value-help`,slot:"icon",name:nt,tabindex:-1,mode:this._iconMode,onClick:this._togglePicker,class:{inputIcon:!0,"inputIcon--pressed":this.open}})})})}function k(){return m(Z,{id:`${this._id}-responsive-popover`,opener:this,open:this.open,allowTargetOverlap:!0,placement:"Bottom",horizontalAlign:"Start",hideArrow:!0,_hideHeader:!0,onClose:this.onPopoverClose,onBeforeOpen:this.onPopoverBeforeOpen,onKeyDown:this.onKeyDownPopover,children:[this._hasCurrentOptionTemplate&&m("div",{slot:"header",class:"ui5-ddr-header",children:[s(b,{iconOnly:!0,icon:et,design:"Transparent",onClick:this.onButtonBackClick,tooltip:this.tooltipNavigationIcon}),s(H,{children:this._currentOption?.text})]}),this._hasCurrentOptionTemplate?m("div",{class:"ui5-dynamic-date-range-option-container",children:[this._currentOption?.template?.call(this),s("div",{class:"ui5-ddr-current-value",children:this.currentValueText})]}):s("div",{class:"ui5-dynamic-date-range-options",children:s(Q,{class:"ui5-dynamic-date-range-options-list",separators:"None",selectionMode:"Single",onItemClick:this._selectOption,children:this.optionsObjects.map(a=>s(tt,{selected:a.operator===this.value?.operator,iconEnd:!0,icon:a.icon,wrappingType:"Normal",type:a.template?C.Navigation:C.Active,children:a.text}))})}),this._hasCurrentOptionTemplate&&m("div",{slot:"footer",children:[s(b,{design:"Emphasized",onClick:this._submitValue,children:"Submit"}),s(b,{design:"Transparent",onClick:this._close,children:"Close"})]})]})}function S(){return[T.call(this),k.call(this)]}_("@ui5/webcomponents-theming","sap_horizon",()=>l(null,null,function*(){return f}));_("@ui5/webcomponents","sap_horizon",()=>l(null,null,function*(){return g}));var rt=`.inputIcon{color:var(--_ui5-v2-18-0_input_icon_color);cursor:pointer;outline:none;padding:var(--_ui5-v2-18-0_input_icon_padding);border-inline-start:var(--_ui5-v2-18-0_input_icon_border);min-width:1rem;min-height:1rem;border-radius:var(--_ui5-v2-18-0_input_icon_border_radius)}.inputIcon.inputIcon--pressed{background:var(--_ui5-v2-18-0_input_icon_pressed_bg);box-shadow:var(--_ui5-v2-18-0_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-18-0_select_hover_icon_left_border);color:var(--_ui5-v2-18-0_input_icon_pressed_color)}.inputIcon:active{background-color:var(--sapButton_Active_Background);box-shadow:var(--_ui5-v2-18-0_input_icon_box_shadow);border-inline-start:var(--_ui5-v2-18-0_select_hover_icon_left_border);color:var(--_ui5-v2-18-0_input_icon_pressed_color)}.inputIcon:not(.inputIcon--pressed):not(:active):hover{background:var(--_ui5-v2-18-0_input_icon_hover_bg);box-shadow:var(--_ui5-v2-18-0_input_icon_box_shadow)}.inputIcon:hover{border-inline-start:var(--_ui5-v2-18-0_select_hover_icon_left_border);box-shadow:var(--_ui5-v2-18-0_input_icon_box_shadow)}:host([disabled]){cursor:default;pointer-events:none;background:none}:host([readonly]:not([disabled])){border-color:var(--_ui5-v2-18-0_input_readonly_border_color);background:var(--sapField_ReadOnly_BackgroundStyle);background-color:var(--_ui5-v2-18-0_input_readonly_background)}:host([value-state="Negative"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-18-0_input_error_icon_box_shadow)}:host([value-state="Critical"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-18-0_input_warning_icon_box_shadow)}:host([value-state="Information"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-18-0_input_information_icon_box_shadow)}:host([value-state="Positive"]) .inputIcon:not(.inputIcon--pressed):not(:active):hover{box-shadow:var(--_ui5-v2-18-0_input_success_icon_box_shadow)}:host([value-state="Negative"]:not([readonly]):not([disabled])){background:var(--sapField_InvalidBackgroundStyle);background-color:var(--sapField_InvalidBackground);border-color:var(--_ui5-v2-18-0_input_value_state_error_border_color);box-shadow:var(--sapField_InvalidShadow)}:host([value-state="Critical"]:not([readonly]):not([disabled])){background:var(--sapField_WarningBackgroundStyle);background-color:var(--sapField_WarningBackground);border-color:var(--_ui5-v2-18-0_input_value_state_warning_border_color);box-shadow:var(--sapField_WarningShadow)}:host([value-state="Positive"]:not([readonly]):not([disabled])){background:var(--sapField_SuccessBackgroundStyle);background-color:var(--sapField_SuccessBackground);border-color:var(--_ui5-v2-18-0_input_value_state_success_border_color);border-width:var(--_ui5-v2-18-0_input_value_state_success_border_width);box-shadow:var(--sapField_SuccessShadow)}:host([value-state="Information"]:not([readonly]):not([disabled])){background:var(--sapField_InformationBackgroundStyle);background-color:var(--sapField_InformationBackground);border-color:var(--_ui5-v2-18-0_input_value_state_information_border_color);border-width:var(--_ui5-v2-18-0_input_information_border_width);box-shadow:var(--sapField_InformationShadow)}:host([value-state="Negative"]) .inputIcon:active,:host([value-state="Negative"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-18-0_input_error_icon_box_shadow);color:var(--_ui5-v2-18-0_input_icon_error_pressed_color)}:host([value-state="Critical"]) .inputIcon:active,:host([value-state="Critical"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-18-0_input_warning_icon_box_shadow);color:var(--_ui5-v2-18-0_input_icon_warning_pressed_color)}:host([value-state="Information"]) .inputIcon:active,:host([value-state="Information"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-18-0_input_information_icon_box_shadow);color:var(--_ui5-v2-18-0_input_icon_information_pressed_color)}:host([value-state="Positive"]) .inputIcon:active,:host([value-state="Positive"]) .inputIcon.inputIcon--pressed{box-shadow:var(--_ui5-v2-18-0_input_success_icon_box_shadow);color:var(--_ui5-v2-18-0_input_icon_success_pressed_color)}:host([value-state="Negative"]) .inputIcon,:host([value-state="Critical"]) .inputIcon{padding:var(--_ui5-v2-18-0_input_error_warning_icon_padding)}:host([value-state="Information"]) .inputIcon{padding:var(--_ui5-v2-18-0_input_information_icon_padding)}:host{width:var(--_ui5-v2-18-0_input_width, 12.5625rem);display:inline-block}.ui5-dynamic-date-range-root{width:100%}
`;_("@ui5/webcomponents-theming","sap_horizon",()=>l(null,null,function*(){return f}));_("@ui5/webcomponents","sap_horizon",()=>l(null,null,function*(){return g}));var at=`[ui5-responsive-popover]::part(content){padding:0}[ui5-responsive-popover]{width:20rem;height:35.625rem}[ui5-responsive-popover]::part(content){width:20rem;height:35.625rem}.ui5-dynamic-date-range-option-container{display:flex;flex-direction:column;align-content:center;justify-content:space-around;height:100%;width:100%}.ui5-dynamic-date-range-unified-option,.ui5-last-next-container{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;height:100%}.ui5-last-next-container-padded{padding:0 1rem .5rem}.ui5-ddr-input-container{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;gap:.25rem;width:fit-content}.ui5-ddr-input-container-right-aligned{text-align:right}.ui5-ddr-label{margin:1rem 0 .5rem;text-align:left}.ui5-ddr-input-row{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;margin-bottom:1rem}.ui5-ddr-current-value{display:flex;justify-content:flex-start;align-items:center;height:3.125rem;font-size:.875rem;font-family:var(--sapFontFamily);font-weight:400;color:var(--sapContentLabelColor);background-color:#d3d3d3;padding-inline-start:10px;font-style:italic;text-overflow:ellipsis;overflow:hidden}[ui5-responsive-popover]::part(footer){display:flex;justify-content:end;padding-top:.125rem;padding-bottom:.125rem}.ui5-ddr-arrow-back-btn{display:flex;justify-content:center;align-items:center;width:var(--_ui5-v2-18-0_calendar_header_arrow_button_width);background-color:var(--sapButton_Lite_Background);color:var(--sapButton_Lite_TextColor);cursor:pointer;overflow:hidden;white-space:nowrap;padding:0;font-size:var(--sapFontSize);user-select:none}.ui5-ddr-arrow-back-btn{border:var(--_ui5-v2-18-0_calendar_header_arrow_button_border);border-radius:var(--_ui5-v2-18-0_calendar_header_arrow_button_border_radius);display:flex;background-color:var(--sapButton_Lite_Background);border-color:var(--sapButton_Lite_BorderColor)}.ui5-ddr-arrow-back-btn-arrow-icon{color:currentColor;pointer-events:none}[ui5-responsive-popover]::part(header){display:flex;flex-direction:row;align-items:center;justify-content:flex-start;height:2.5rem}.ui5-ddr-header{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;height:2.5rem}.ui5-dynamic-date-range-option-datetime-container{height:100%}.ui5-dt-picker-header{display:flex;justify-content:center;padding-top:.5rem}
`;var p=function(a,t,e,o){var i=arguments.length,n=i<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,e):o,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,o);else for(var c=a.length-1;c>=0;c--)(r=a[c])&&(n=(i<3?r(n):i>3?r(t,e,n):r(t,e))||n);return i>3&&n&&Object.defineProperty(t,e,n),n},d,u=d=class extends ${constructor(){super(...arguments),this.options="",this.open=!1,this.optionsObjects=[]}onBeforeRendering(){this.optionsObjects=this._createNormalizedOptions(),this._focusSelectedItem()}onAfterRendering(){return l(this,null,function*(){yield M().then(()=>{setTimeout(()=>{this._focusLastSelectedItem()},0)})})}_createNormalizedOptions(){if(!this.optionsObjects.length){let t=this.splitOptions(this.options).filter(Boolean),e=[],o=new Map;return t.forEach(i=>{let n=d.getOptionClass(i);if(n){let r=o.get(n)||[];r.push(i),o.set(n,r)}}),o.forEach((i,n)=>{e.push(new n(i))}),e}return this.optionsObjects}splitOptions(t){return t.split(",").map(e=>e.trim())}_focusSelectedItem(){if(!this.value)return;let t=this._list?.items.find(e=>e.selected===!0);t&&this._list?.focusItem(t)}_focusLastSelectedItem(){if(!this._lastSelectedOption||!this._list||!this._list.items.length)return;let t=this.optionsObjects.findIndex(e=>e.operator===this._lastSelectedOption?.operator);if(t>=0&&t<this._list.items.length){let e=this._list.items[t];this._list.focusItem(e)}}get _iconMode(){return z()?O.Decorative:O.Interactive}get tooltipNavigationIcon(){return d.i18nBundle.getText(q)}_togglePicker(){this.open?this._close():this.open=!0}_selectOption(t){this._currentOption=this.optionsObjects.find(e=>e.text===t.detail.item.textContent),this._lastSelectedOption=this._currentOption,this._currentOption?.template?(!this.currentValue||this.currentValue.operator!==this._currentOption.operator)&&(this.currentValue=void 0):(this.currentValue=this._currentOption?.parse(this._currentOption.text),this._submitValue()),this._currentOption?.operator===this.value?.operator&&(this.currentValue=this.value)}getOption(t){if(!t)return this._currentOption;let e=this.optionsObjects.find(o=>o.operator===t);if(!e){let o=d.getOptionClass(t);if(o){let i=this.optionsObjects.find(r=>r.constructor===o);if(i)return i.operator=t,i;let n=new o;return this.optionsObjects.push(n),n}}return e}onInputChange(t){let e=t.target?.value;if(!e){this.value=void 0,this.fireDecoratorEvent("change");return}let o=this.optionsObjects.find(i=>i.isValidString(e));this.value=o?this.getOption(o.operator)?.parse(e):void 0,this.value&&this.fireDecoratorEvent("change")}onButtonBackClick(){this._currentOption=void 0}toDates(t){return this.getOption(t.operator)?.toDates(t)}get _hasCurrentOptionTemplate(){return!!this._currentOption?.template}_submitValue(){let t=this.currentValue||{operator:this._currentOption?.operator||"",values:[]},e=this._currentOption?.format(t)||"";this._input&&(this._input.value=e),!this._currentOption||!t.operator?this.value=void 0:this._currentOption.isValidString(e)?(this.value=t,this.fireDecoratorEvent("change")):this.value=void 0,this._currentOption?.resetState?.(),this._currentOption=void 0,this.open=!1}_close(){this._currentOption?.resetState?.(),this._currentOption=void 0,this.open=!1}onPopoverBeforeOpen(){this.currentValue!==this.value&&(this.currentValue=this.value)}onPopoverClose(){this._close()}get currentValueText(){if(this.currentValue){let t=this.getOption(this.currentValue.operator);if(t){let e=t.toDates(this.currentValue),o=B(j({},this.currentValue),{values:e}),i=t.format(o);return`${d.i18nBundle.getText(I)}: ${i}`}}if(this._currentOption){let t={operator:this._currentOption.operator,values:[]},e=this._currentOption.format(t);if(e&&e.trim())return`${d.i18nBundle.getText(I)}: ${e}`}return d.i18nBundle.getText(X)}handleSelectionChange(t){let e=this._currentOption?.handleSelectionChange?.(t,this.currentValue);this.currentValue=JSON.parse(JSON.stringify(e)),this.currentValue&&(this.currentValue.values=e?.values),this.currentValue&&this.currentValue.operator!==this._currentOption?.operator&&(this._currentOption=this.getOption(this.currentValue.operator))}onInputKeyDown(t){x(t)&&(t.preventDefault(),this.open?W(t)||this._toggleAndFocusInput():this._toggleAndFocusInput())}_toggleAndFocusInput(){this._togglePicker(),this.open&&this._input?.focus()}onKeyDownPopover(t){x(t)&&(t.preventDefault(),this._toggleAndFocusInput())}static register(t,e){t=t.toUpperCase(),this.optionsClasses.has(t)||this.optionsClasses.set(t,e)}static getOptionClass(t){return this.optionsClasses.get(t)}};u.optionsClasses=new Map;p([h({noAttribute:!0})],u.prototype,"value",void 0);p([h({type:String})],u.prototype,"options",void 0);p([h({type:Boolean})],u.prototype,"open",void 0);p([h({type:Object})],u.prototype,"_currentOption",void 0);p([h({type:Object})],u.prototype,"currentValue",void 0);p([D("[ui5-input]")],u.prototype,"_input",void 0);p([D("[ui5-list]")],u.prototype,"_list",void 0);p([Y("@ui5/webcomponents")],u,"i18nBundle",void 0);u=d=p([K({tag:"ui5-dynamic-date-range",languageAware:!0,cldr:!0,template:S,renderer:U,styles:[rt,ot,at]}),G("change",{bubbles:!0,cancelable:!0})],u);u.define();var Qt=u;var st=["*"],se=(()=>{let t=class t{constructor(){this.value=w(),this.options=w(""),this.ui5Change=L(),this.elementRef=y(N),this.injector=y(E)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let o=this.element,i=["value","options"];for(let r of i){let c=r.replace(/-./g,v=>v[1].toUpperCase());this[c]&&typeof this[c]=="function"&&V(this.injector,()=>{F(()=>{let v=this[c]();o&&(o[r]=v)})})}let n=["ui5Change"];for(let r of n){let c=r.replace("ui5","").replace(/([A-Z])/g,"-$1").toLowerCase().substring(1);this[r]&&typeof this[r].emit=="function"&&o.addEventListener&&o.addEventListener(c,v=>{this[r].emit(v)})}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=R({type:t,selectors:[["ui5-dynamic-date-range"],["","ui5-dynamic-date-range",""]],inputs:{value:[1,"value"],options:[1,"options"]},outputs:{ui5Change:"ui5Change"},exportAs:["ui5DynamicDateRange"],ngContentSelectors:st,decls:1,vars:0,template:function(i,n){i&1&&(A(),P(0))},encapsulation:2,changeDetection:0});let a=t;return a})();export{Qt as a,se as b};
