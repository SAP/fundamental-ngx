import{a as Ct}from"./chunk-FUIKUM7P.js";import{a as T}from"./chunk-WY3BFD42.js";import{Da as pt,Ea as ht,Fa as ft,Ga as gt,Ha as mt,Ia as _t,Ja as St,Ka as vt,La as yt,Ma as xt,Na as Z,Oa as Ot,Pa as It,Qa as Bt,Ra as Dt,Sa as Tt}from"./chunk-NH4I3ZU7.js";import{a as bt}from"./chunk-FADJMD35.js";import{a as ut}from"./chunk-DYI4HK3S.js";import{a as w}from"./chunk-M5IJBHUB.js";import{a as ct,b as at}from"./chunk-BQ2XICNO.js";import{a as z,b as dt}from"./chunk-UVZX3D2Q.js";import{a as A}from"./chunk-CYH3G4G4.js";import{e as U,f as q}from"./chunk-2TANOVWO.js";import{a as lt}from"./chunk-TQDD5A43.js";import{a as st}from"./chunk-ZJMQIQLA.js";import{j as G,w as J}from"./chunk-2726DREA.js";import{c as M}from"./chunk-SAVAV5HK.js";import{a as j}from"./chunk-TY3GVOZL.js";import{b as C}from"./chunk-2HPGV2CB.js";import{a as F}from"./chunk-J2ZYVFGE.js";import{S as I,T as B,U as a,V as rt,W as nt,X,Y as c,Z as b,rg as ot,w as it}from"./chunk-SGTQD4DW.js";import{v as Q}from"./chunk-XUL3DONQ.js";import{Ab as x,Dc as O,Oa as v,_ as f,ca as g,ha as m,na as _,sc as N,tc as h,va as S,zb as y}from"./chunk-BM3JXQH7.js";import{a as k,b as Y,i as R}from"./chunk-66YHNWRR.js";var H=function(o,i,t,e){var r=arguments.length,n=r<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(o,i,t,e);else for(var l=o.length-1;l>=0;l--)(s=o[l])&&(n=(r<3?s(n):r>3?s(i,t,n):s(i,t))||n);return r>3&&n&&Object.defineProperty(i,t,n),n},E=class extends I{};H([a()],E.prototype,"text",void 0);H([a()],E.prototype,"additionalText",void 0);H([j()],E.prototype,"values",void 0);E=H([B("ui5-filter-item")],E);E.define();var Xt=["*"],Ee=(()=>{class o{constructor(){this.text=h(),this.additionalText=h(),this.slots=[{name:"values",description:"Defines the filter options available for this filter category."}],this.elementRef=f(S),this.injector=f(m)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let t=this.element,e=["text","additionalText"];for(let r of e){let n=r.replace(/-./g,s=>s[1].toUpperCase());this[n]&&typeof this[n]=="function"&&g(this.injector,()=>{_(()=>{let s=this[n]();t&&(t[r]=s)})})}}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=v({type:o,selectors:[["ui5-filter-item"],["","ui5-filter-item",""]],inputs:{text:[1,"text"],additionalText:[1,"additionalText"]},exportAs:["ui5FilterItem"],ngContentSelectors:Xt,decls:1,vars:0,template:function(e,r){e&1&&(y(),x(0))},encapsulation:2,changeDetection:0})}}return o})();var K=function(o,i,t,e){var r=arguments.length,n=r<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(o,i,t,e);else for(var l=o.length-1;l>=0;l--)(s=o[l])&&(n=(r<3?s(n):r>3?s(i,t,n):s(i,t))||n);return r>3&&n&&Object.defineProperty(i,t,n),n},L=class extends I{constructor(){super(...arguments),this.selected=!1}};K([a()],L.prototype,"text",void 0);K([a({type:Boolean})],L.prototype,"selected",void 0);L=K([B("ui5-filter-item-option")],L);L.define();var Zt=["*"],ze=(()=>{class o{constructor(){this.text=h(),this.selected=h(!1,{transform:O}),this.elementRef=f(S),this.injector=f(m)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let t=this.element,e=["text","selected"];for(let r of e){let n=r.replace(/-./g,s=>s[1].toUpperCase());this[n]&&typeof this[n]=="function"&&g(this.injector,()=>{_(()=>{let s=this[n]();t&&(t[r]=s)})})}}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=v({type:o,selectors:[["ui5-filter-item-option"],["","ui5-filter-item-option",""]],inputs:{text:[1,"text"],selected:[1,"selected"]},exportAs:["ui5FilterItemOption"],ngContentSelectors:Zt,decls:1,vars:0,template:function(e,r){e&1&&(y(),x(0))},encapsulation:2,changeDetection:0})}}return o})();var W=function(o,i,t,e){var r=arguments.length,n=r<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(o,i,t,e);else for(var l=o.length-1;l>=0;l--)(s=o[l])&&(n=(r<3?s(n):r>3?s(i,t,n):s(i,t))||n);return r>3&&n&&Object.defineProperty(i,t,n),n},V=class extends I{constructor(){super(...arguments),this.selected=!1}};W([a()],V.prototype,"text",void 0);W([a({type:Boolean})],V.prototype,"selected",void 0);V=W([B("ui5-group-item")],V);V.define();var Kt=["*"],ei=(()=>{class o{constructor(){this.text=h(),this.selected=h(!1,{transform:O}),this.elementRef=f(S),this.injector=f(m)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let t=this.element,e=["text","selected"];for(let r of e){let n=r.replace(/-./g,s=>s[1].toUpperCase());this[n]&&typeof this[n]=="function"&&g(this.injector,()=>{_(()=>{let s=this[n]();t&&(t[r]=s)})})}}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=v({type:o,selectors:[["ui5-group-item"],["","ui5-group-item",""]],inputs:{text:[1,"text"],selected:[1,"selected"]},exportAs:["ui5GroupItem"],ngContentSelectors:Kt,decls:1,vars:0,template:function(e,r){e&1&&(y(),x(0))},encapsulation:2,changeDetection:0})}}return o})();var tt=function(o,i,t,e){var r=arguments.length,n=r<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(o,i,t,e);else for(var l=o.length-1;l>=0;l--)(s=o[l])&&(n=(r<3?s(n):r>3?s(i,t,n):s(i,t))||n);return r>3&&n&&Object.defineProperty(i,t,n),n},P=class extends I{constructor(){super(...arguments),this.selected=!1}};tt([a()],P.prototype,"text",void 0);tt([a({type:Boolean})],P.prototype,"selected",void 0);P=tt([B("ui5-sort-item")],P);P.define();var Wt=["*"],pi=(()=>{class o{constructor(){this.text=h(),this.selected=h(!1,{transform:O}),this.elementRef=f(S),this.injector=f(m)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let t=this.element,e=["text","selected"];for(let r of e){let n=r.replace(/-./g,s=>s[1].toUpperCase());this[n]&&typeof this[n]=="function"&&g(this.injector,()=>{_(()=>{let s=this[n]();t&&(t[r]=s)})})}}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=v({type:o,selectors:[["ui5-sort-item"],["","ui5-sort-item",""]],inputs:{text:[1,"text"],selected:[1,"selected"]},exportAs:["ui5SortItem"],ngContentSelectors:Wt,decls:1,vars:0,template:function(e,r){e&1&&(y(),x(0))},encapsulation:2,changeDetection:0})}}return o})();var te="sort",wt="M405.022 498.566q-9.951 9.951-22.888 9.951t-21.893-9.951l-101.504-100.51q-11.942-11.941 0-22.888 4.975-4.976 10.946-4.976t10.947 4.976l84.587 84.587v-317.45q0-15.922 15.922-15.922t15.922 15.922v319.44l86.577-86.577q10.947-10.946 22.889 0 10.946 10.947 0 22.888zM253.761 110.46q10.946 11.941 0 22.888-4.976 4.976-11.444 4.976t-11.444-4.976l-86.578-86.577v319.44q0 15.922-15.922 15.922t-15.922-15.922V48.762l-84.587 84.587q-4.976 4.976-10.947 4.976t-10.946-4.976q-11.942-10.947 0-22.888L107.475 9.95Q116.431 0 129.368 0t22.889 9.951z",Nt=!1,jt=J,ee="SAP-icons-v4",ie="@ui5/webcomponents-icons";C(te,{pathData:wt,ltr:Nt,accData:jt,collection:ee,packageName:ie});var re="sort",Ft="M504 124q8 8 8 18 0 11-7.5 18.5T486 168t-18-7l-42-42v335q0 11-7.5 18.5T400 480t-18-7.5-7-18.5V118l-43 43q-7 7-18 7t-18.5-7.5T288 142q0-10 8-18l86-85q7-7 18-7t18 7zM180 351q7-7 18-7t18.5 7.5T224 370q0 10-8 18l-86 85q-7 7-18 7t-18-7L8 388q-8-8-8-18 0-11 7.5-18.5T26 344t18 7l43 43V58q0-11 7.5-18.5T113 32t18 7.5 7 18.5v335z",ne=!1,oe=J,se="SAP-icons-v5",le="@ui5/webcomponents-icons";C(re,{pathData:Ft,ltr:ne,accData:oe,collection:se,packageName:le});var Et="sort";var ae="group-2",Rt="M415 64h64q14 0 23 9t9 23v320q0 13-9 22.5t-23 9.5h-64v-32h64V96h-64V64zM-1 416V96q0-14 9.5-23T31 64h64v32H31v320h64v32H31q-13 0-22.5-9.5T-1 416zm144-96h224q16 0 16 16 0 6-4.5 11t-11.5 5H143q-6 0-11-5t-5-11q0-7 5-11.5t11-4.5zm0-96h224q16 0 16 16 0 6-4.5 11t-11.5 5H143q-6 0-11-5t-5-11q0-7 5-11.5t11-4.5zm-16-80q0-7 5-11.5t11-4.5h224q16 0 16 16 0 6-4.5 11t-11.5 5H143q-6 0-11-5t-5-11z",Mt=!1,qt=G,de="SAP-icons-v4",ue="@ui5/webcomponents-icons";C(ae,{pathData:Rt,ltr:Mt,accData:qt,collection:de,packageName:ue});var pe="group-2",At="M454 480h-44q-11 0-18.5-7.5T384 454t7.5-18 18.5-7h44q7 0 7-7V90q0-7-7-7h-44q-11 0-18.5-7T384 58t7.5-18.5T410 32h44q24 0 41 17t17 41v332q0 24-17 41t-41 17zm-352 0H58q-24 0-41-17T0 422V90q0-24 17-41t41-17h44q11 0 18.5 7.5T128 58t-7.5 18-18.5 7H58q-7 0-7 7v332q0 7 7 7h44q11 0 18.5 7t7.5 18-7.5 18.5T102 480zm256-301H154q-11 0-18.5-7t-7.5-18 7.5-18.5T154 128h204q11 0 18.5 7.5T384 154t-7.5 18-18.5 7zm0 96H154q-11 0-18.5-7t-7.5-18 7.5-18.5T154 224h204q11 0 18.5 7.5T384 250t-7.5 18-18.5 7zm-96 96H154q-11 0-18.5-7t-7.5-18 7.5-18.5T154 320h108q11 0 18.5 7.5T288 346t-7.5 18-18.5 7z",he=!1,fe=G,ge="SAP-icons-v5",me="@ui5/webcomponents-icons";C(pe,{pathData:At,ltr:he,accData:fe,collection:ge,packageName:me});var Lt="group-2";function _e(){return b("div",{slot:"header",class:"ui5-vsd-header",children:[b("div",{class:"ui5-vsd-header-container",part:"header",children:[b("div",{class:"ui5-vsd-header-start",children:[this.showBackButton&&c(M,{design:"Transparent",icon:ut,class:"ui5-vsd-back-button",onClick:this._navigateToFilters}),c(st,{wrappingType:"None",level:"H1",class:"ui5-vsd-title",id:`${this._id}-label`,children:this._title})]}),c("div",{class:"ui5-vsd-header-end",children:c(M,{design:"Transparent",onClick:this._resetSettings,disabled:this._disableResetButton,children:this._resetButtonLabel})})]}),!this.showBackButton&&this.hasPagination&&c("div",{class:"ui5-vsd-sub-header-container",children:c("div",{class:"ui5-vsd-sub-header",children:c(dt,{onSelectionChange:this._handleModeChange,children:Se.call(this)})})})]})}function Se(){let o=[];return this.shouldBuildSort&&o.push(c(z,{selected:this.isModeSort,icon:Et,"data-mode":"Sort",tooltip:this._sortButtonTooltip})),this.shouldBuildFilter&&o.push(c(z,{selected:this.isModeFilter,icon:Ct,"data-mode":"Filter",tooltip:this._filterButtonTooltip})),this.shouldBuildGroup&&o.push(c(z,{selected:this.isModeGroup,icon:Lt,"data-mode":"Group",tooltip:this._groupButtonTooltip})),o}function ve(){return b("div",{class:{"ui5-vsd-content":!0,"ui5-vsd-content-expand":this.expandContent},children:[this.shouldBuildSort&&this.isModeSort&&Vt.call(this,!0),this.shouldBuildFilter&&this.isModeFilter&&ye.call(this),this.shouldBuildGroup&&this.isModeGroup&&Vt.call(this,!1)]})}function Vt(o){let i=o?this._currentSettings.sortOrder:this._currentSettings.groupOrder,t=o?this._currentSettings.sortBy:this._currentSettings.groupBy;return b("div",{class:o?"ui5-vsd-sort":"ui5-vsd-group",children:[c(q,Y(k({selectionMode:"SingleStart",onSelectionChange:o?this._onSortOrderChange:this._onGroupOrderChange},o?{"sort-order":""}:{"group-order":""}),{accessibleNameRef:`${this._id}-label`,children:c(U,{headerText:o?this._sortOrderLabel:this._groupOrderLabel,children:i.map(e=>c(A,{selected:e.selected,children:e.text}))})})),c(q,Y(k({selectionMode:"SingleStart",onSelectionChange:o?this._onSortByChange:this._onGroupByChange},o?{"sort-by":""}:{"group-by":""}),{children:c(U,{headerText:o?this._sortByLabel:this._groupByLabel,children:t.map((e,r)=>c(A,{"data-ui5-external-action-item-index":r,selected:e.selected,children:e.text}))})}))]})}function ye(){return c(X,{children:this._filterStepTwo?c(q,{selectionMode:"Multiple",onSelectionChange:this._handleFilterValueItemClick,accessibleNameRef:`${this._id}-label`,children:this._currentSettings.filters.filter(o=>o.selected).map(o=>c(X,{children:o.filterOptions.map(i=>c(A,{selected:i.selected,children:i.text}))}))}):c(q,{onItemClick:this._changeCurrentFilter,accessibleNameRef:`${this._id}-label`,children:c(U,{headerText:this._filterByLabel,children:this.filterItems.map(o=>c(A,{class:"ui5-vsd-filterItemList",additionalText:o.additionalText,accessibleName:this._selectedFiltersLabel(o),children:o.text}))})})})}function xe(){return b("div",{slot:"footer",class:"ui5-vsd-footer",children:[c(M,{design:"Emphasized",onClick:this._confirmSettings,children:this._okButtonLabel}),c(M,{design:"Transparent",onClick:this._cancelSettings,children:this._cancelButtonLabel})]})}function et(){return b(lt,{preventInitialFocus:!0,accessibleName:this._dialogTitle,onBeforeClose:this._restoreConfirmedOnEscape,stretch:this._isPhone,open:this.open,onBeforeOpen:this.beforeDialogOpen,onOpen:this.afterDialogOpen,onClose:this.afterDialogClose,children:[_e.call(this),ve.call(this),xe.call(this)]})}Q("@ui5/webcomponents-theming","sap_horizon",()=>R(null,null,function*(){return ot}));Q("@ui5/webcomponents-fiori","sap_horizon",()=>R(null,null,function*(){return bt}),"host");var Pt=`[on-desktop] .ui5-vsd-content{height:var(--_ui5_vsd_content_height);min-width:350px}[on-desktop] .ui5-vsd-content.ui5-vsd-content-expand{height:var(--_ui5_vsd_expand_content_height);min-width:350px}.ui5-vsd-header{width:100%;padding-bottom:.25rem}.ui5-vsd-content{margin:0 .1px 0 -1rem}.ui5-vsd-title{font-size:var(--sapFontHeader5Size)}.ui5-vsd-header-container{display:flex;align-items:center;justify-content:space-between;height:var(--_ui5_vsd_header_container);line-height:var(--_ui5_vsd_header_container)}.ui5-vsd-header-end{display:flex}.ui5-vsd-sub-header{height:var(--_ui5_vsd_sub_header_container_height);line-height:var(--_ui5_vsd_sub_header_container_height)}.ui5-vsd-header-start{display:flex;align-items:center}.ui5-vsd-back-button{margin-inline-end:.5rem}.ui5-vsd-footer{width:100%;display:flex;justify-content:flex-end;align-items:center;margin:.1875rem 0}.ui5-vsd-footer [ui5-button]:first-child{margin-inline-end:.5rem;min-width:4rem}.ui5-vsd-sort{width:100%;height:100%}[ui5-li-group]::part(header){overflow:hidden}[ui5-dialog]::part(content){padding-top:0;padding-bottom:0;padding-inline-end:0}:host [ui5-li]::part(native-li){padding-inline-start:var(--_ui5_vsd_content_li_padding)}:host [ui5-li].ui5-vsd-filterItemList::part(native-li){padding-inline-start:1rem}
`;var u=function(o,i,t,e){var r=arguments.length,n=r<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(o,i,t,e);else for(var l=o.length-1;l>=0;l--)(s=o[l])&&(n=(r<3?s(n):r>3?s(i,t,n):s(i,t))||n);return r>3&&n&&Object.defineProperty(i,t,n),n},p,d=p=class extends I{constructor(){super(...arguments),this.sortDescending=!1,this.groupDescending=!1,this.open=!1,this._currentSettings={sortOrder:[],sortBy:[],filters:[],groupOrder:[],groupBy:[]},this._initialSettings=this._currentSettings,this._confirmedSettings=this._currentSettings,this._currentMode="Sort",this._filterStepTwo=!1}onBeforeRendering(){if(this._currentSettings.filters&&this._currentSettings.filters.length&&this._setAdditionalTexts(),!this.shouldBuildSort){if(this.shouldBuildFilter){this._currentMode=T.Filter;return}this.shouldBuildGroup&&(this._currentMode=T.Group)}}onInvalidation(i){i.type==="slot"&&(this._confirmedSettings=this._settings)}_setAdditionalTexts(){this.filterItems.forEach((i,t)=>{let e=0;for(let r=0;r<i.values.length;r++)this._currentSettings.filters[t].filterOptions[r].selected&&e++;i.additionalText=e?`${e}`:""})}get _selectedFilter(){for(let i=0;i<this._currentSettings.filters.length;i++)if(this._currentSettings.filters[i].selected)return this._currentSettings.filters[i]}_selectedFiltersLabel(i){let t=i.text?`${i.text},`:"",e=i.additionalText?`${i.additionalText},`:"";return e?p.i18nBundle.getText(Tt,t,e):t}get shouldBuildSort(){return!!this.sortItems.length}get shouldBuildFilter(){return!!this.filterItems.length}get shouldBuildGroup(){return!!this.groupItems.length}get hasPagination(){return[this.shouldBuildSort,this.shouldBuildFilter,this.shouldBuildGroup].filter(t=>t).length>1}get _filterByTitle(){let i=this._selectedFilter?this._selectedFilter.text:"";return`${p.i18nBundle.getText(Z)}: ${i}`}get _dialogTitle(){return p.i18nBundle.getText(pt)}get _okButtonLabel(){return p.i18nBundle.getText(ht)}get _cancelButtonLabel(){return p.i18nBundle.getText(ft)}get _resetButtonLabel(){return p.i18nBundle.getText(gt)}get _ascendingLabel(){return p.i18nBundle.getText(Bt)}get _descendingLabel(){return p.i18nBundle.getText(Dt)}get _sortOrderLabel(){return p.i18nBundle.getText(yt)}get _groupOrderLabel(){return p.i18nBundle.getText(xt)}get _filterByLabel(){return p.i18nBundle.getText(Z)}get _sortByLabel(){return p.i18nBundle.getText(Ot)}get _groupByLabel(){return p.i18nBundle.getText(It)}get _sortButtonTooltip(){return p.i18nBundle.getText(_t)}get _filterButtonTooltip(){return p.i18nBundle.getText(St)}get _groupButtonTooltip(){return p.i18nBundle.getText(vt)}get _resetButtonAction(){return p.i18nBundle.getText(mt)}get _isPhone(){return it()}get _sortAscending(){return!this.sortDescending}get _title(){return this.showBackButton?this._filterByTitle:this._dialogTitle}get _disableResetButton(){return this._dialog&&this._settingsAreInitial&&this._filteresAreInitial}get _settingsAreInitial(){let i=!0;return["sortBy","sortOrder","groupBy","groupOrder"].forEach(t=>{this._currentSettings[t].forEach((e,r)=>{e.selected!==this._initialSettings[t][r].selected&&(i=!1)})}),i}get _filteresAreInitial(){let i=!0;return this._currentSettings.filters.forEach((t,e)=>{for(let r=0;r<t.filterOptions.length;r++)t.filterOptions[r].selected!==this._initialSettings.filters[e].filterOptions[r].selected&&(i=!1)}),i}get _settings(){return{sortOrder:JSON.parse(JSON.stringify(this.initSortOrderItems)),sortBy:JSON.parse(JSON.stringify(this.initSortByItems)),groupOrder:JSON.parse(JSON.stringify(this.initGroupOrderItems)),groupBy:JSON.parse(JSON.stringify(this.initGroupByItems)),filters:this.filterItems.map(i=>({text:i.text||"",selected:!1,filterOptions:i.values.map(t=>({text:t.text||"",selected:t.selected}))}))}}get initSortByItems(){return this.sortItems.map((i,t)=>({text:i.text,selected:i.selected,index:t}))}get initGroupByItems(){return this.groupItems.map((i,t)=>({text:i.text,selected:i.selected,index:t}))}get initSortOrderItems(){return[{text:this._ascendingLabel,selected:!this.sortDescending},{text:this._descendingLabel,selected:this.sortDescending}]}get initGroupOrderItems(){return[{text:this._ascendingLabel,selected:!this.groupDescending},{text:this._descendingLabel,selected:this.groupDescending}]}get expandContent(){return this._filterStepTwo||!this.hasPagination}get isModeSort(){return this._currentMode===T.Sort}get isModeFilter(){return this._currentMode===T.Filter}get isModeGroup(){return this._currentMode===T.Group}get showBackButton(){return this.isModeFilter&&this._filterStepTwo}beforeDialogOpen(){this._currentSettings.sortOrder.length===0?(this._initialSettings=this._settings,this._currentSettings=this._settings,this._confirmedSettings=this._settings):this._restoreSettings(this._confirmedSettings),this.fireDecoratorEvent("before-open")}afterDialogOpen(){this._list?.focusFirstItem(),this._focusRecentlyUsedControl(),this.fireDecoratorEvent("open")}afterDialogClose(){this.fireDecoratorEvent("close")}_handleModeChange(i){let t=i.detail.selectedItems[0].getAttribute("data-mode");this._currentMode=T[t]}_handleFilterValueItemClick(i){let t=i.detail.targetItem.innerText;this._currentSettings.filters=this._currentSettings.filters.map(e=>(e.selected&&e.filterOptions.forEach(r=>{r.text===t&&(r.selected=!r.selected)}),e)),this._setSelectedProp(t),this._currentSettings=JSON.parse(JSON.stringify(this._currentSettings))}_setSelectedProp(i){this.filterItems.forEach(t=>{t.values.forEach(e=>{e.text===i&&(e.selected=!e.selected)})})}_navigateToFilters(){this._filterStepTwo=!1}_changeCurrentFilter(i){this._filterStepTwo=!0,this._currentSettings.filters=this._currentSettings.filters.map(t=>(t.selected=t.text===i.detail.item.innerText,t))}_focusRecentlyUsedControl(){if(!this._recentlyFocused||!Object.keys(this._recentlyFocused).length)return;let i=this._recentlyFocused.getSelectedItems();i.length&&i[0].focus()}_confirmSettings(){this.open=!1,this._confirmedSettings=this._currentSettings,this.fireDecoratorEvent("confirm",this.eventsParams)}_cancelSettings(){this._restoreSettings(this._confirmedSettings),this.fireDecoratorEvent("cancel",this.eventsParams),this.open=!1}get eventsParams(){let i=this._currentSettings.sortOrder.filter(D=>D.selected)[0],t=this._currentSettings.sortBy.filter(D=>D.selected)[0],e=this._currentSettings.groupOrder.filter(D=>D.selected)[0],r=this._currentSettings.groupBy.filter(D=>D.selected)[0],n=i&&(i.text||""),s=!this._currentSettings.sortOrder[0].selected,l=t&&(t.text||""),Gt=t&&t.index,Jt=this.sortItems[Gt],Ut=e&&(e.text||""),zt=!this._currentSettings.groupOrder[0].selected,Ht=r&&(r.text||""),$t=r&&r.index,kt=this.groupItems[$t],Yt=this.filterItems.filter(D=>D.values.some(Qt=>Qt.selected));return{sortOrder:n,sortDescending:s,sortBy:l,sortByItem:Jt,groupOrder:Ut,groupDescending:zt,groupBy:Ht,groupByItem:kt,filters:this.selectedFilters,filterItems:Yt}}get selectedFilters(){let i=[];return this._currentSettings.filters.forEach(t=>{let e=[];t.filterOptions.forEach(r=>{r.selected&&e.push(r.text||"")}),e.length&&(i.push({}),i[i.length-1][t.text||""]=e)}),i}_restoreConfirmedOnEscape(i){i.detail.escPressed&&(this._cancelSettings(),this._currentMode=T.Sort,this._filterStepTwo=!1)}_resetSettings(){this._restoreSettings(this._initialSettings),this._recentlyFocused=this._sortOrder,this._focusRecentlyUsedControl(),at(this._resetButtonAction,ct.Assertive)}_restoreSettings(i){this._currentSettings=JSON.parse(JSON.stringify(i)),this._currentMode=T.Sort,this._filterStepTwo=!1}_onSortOrderChange(i){this._recentlyFocused=this._sortOrder,this._currentSettings.sortOrder=this.initSortOrderItems.map(t=>(t.selected=t.text===i.detail.targetItem.innerText,t)),this._currentSettings=JSON.parse(JSON.stringify(this._currentSettings))}_onSortByChange(i){let t=Number(i.detail.targetItem.getAttribute("data-ui5-external-action-item-index"));this._recentlyFocused=this._sortBy,this._currentSettings.sortBy=this.initSortByItems.map((e,r)=>(e.selected=r===t,e)),this._currentSettings=JSON.parse(JSON.stringify(this._currentSettings))}_onGroupOrderChange(i){this._recentlyFocused=this._groupOrder,this._currentSettings.groupOrder=this.initGroupOrderItems.map(t=>(t.selected=t.text===i.detail.targetItem.innerText,t)),this._currentSettings=JSON.parse(JSON.stringify(this._currentSettings))}_onGroupByChange(i){let t=Number(i.detail.targetItem.getAttribute("data-ui5-external-action-item-index"));this._recentlyFocused=this._groupBy,this._currentSettings.groupBy=this.initGroupByItems.map((e,r)=>(e.selected=r===t,e)),this._currentSettings=JSON.parse(JSON.stringify(this._currentSettings))}setConfirmedSettings(i){if(i&&this._dialog&&!this._dialog.open){let t=JSON.parse(JSON.stringify(this._confirmedSettings));if(i.sortOrder)for(let e=0;e<t.sortOrder.length;e++)t.sortOrder[e].text===i.sortOrder?t.sortOrder[e].selected=!0:t.sortOrder[e].selected=!1;if(i.sortBy)for(let e=0;e<t.sortBy.length;e++)t.sortBy[e].text===i.sortBy?t.sortBy[e].selected=!0:t.sortBy[e].selected=!1;if(i.groupOrder)for(let e=0;e<t.groupOrder.length;e++)t.groupOrder[e].text===i.groupOrder?t.groupOrder[e].selected=!0:t.groupOrder[e].selected=!1;if(i.groupBy)for(let e=0;e<t.groupBy.length;e++)t.groupBy[e].text===i.groupBy?t.groupBy[e].selected=!0:t.groupBy[e].selected=!1;if(i.filters){let e={};for(let r=0;r<i.filters.length;r++)e[Object.keys(i.filters[r])[0]]=i.filters[r][Object.keys(i.filters[r])[0]];for(let r=0;r<t.filters.length;r++)for(let n=0;n<t.filters[r].filterOptions.length;n++)e[t.filters[r].text||""]&&e[t.filters[r].text||""].indexOf(t.filters[r].filterOptions[n].text||"")>-1?t.filters[r].filterOptions[n].selected=!0:t.filters[r].filterOptions[n].selected=!1}this._confirmedSettings=JSON.parse(JSON.stringify(t))}}};u([a({type:Boolean})],d.prototype,"sortDescending",void 0);u([a({type:Boolean})],d.prototype,"groupDescending",void 0);u([a({type:Boolean})],d.prototype,"open",void 0);u([a({type:Object})],d.prototype,"_recentlyFocused",void 0);u([a({type:Object})],d.prototype,"_currentSettings",void 0);u([a({type:Object})],d.prototype,"_initialSettings",void 0);u([a({type:Object})],d.prototype,"_confirmedSettings",void 0);u([a()],d.prototype,"_currentMode",void 0);u([a({type:Boolean,noAttribute:!0})],d.prototype,"_filterStepTwo",void 0);u([j()],d.prototype,"sortItems",void 0);u([j()],d.prototype,"filterItems",void 0);u([j()],d.prototype,"groupItems",void 0);u([w("[ui5-list]")],d.prototype,"_list",void 0);u([w("[ui5-dialog]")],d.prototype,"_dialog",void 0);u([w("[ui5-list][sort-order]")],d.prototype,"_sortOrder",void 0);u([w("[ui5-list][sort-by]")],d.prototype,"_sortBy",void 0);u([w("[ui5-list][group-order]")],d.prototype,"_groupOrder",void 0);u([w("[ui5-list][group-by]")],d.prototype,"_groupBy",void 0);u([rt("@ui5/webcomponents-fiori")],d,"i18nBundle",void 0);d=p=u([B({tag:"ui5-view-settings-dialog",renderer:nt,styles:Pt,template:et}),F("confirm",{bubbles:!0}),F("cancel",{bubbles:!0}),F("before-open",{cancelable:!0}),F("open",{bubbles:!0}),F("close",{bubbles:!0})],d);d.define();var Oe=["*"],br=(()=>{class o{constructor(){this.sortDescending=h(!1,{transform:O}),this.groupDescending=h(!1,{transform:O}),this.open=h(!1,{transform:O}),this.ui5Confirm=N(),this.ui5Cancel=N(),this.ui5BeforeOpen=N(),this.ui5Open=N(),this.ui5Close=N(),this.slots=[{name:"sortItems",description:'Defines the list of items against which the user could sort data.\n\n**Note:** If you want to use this slot, you need to import used item: `import "@ui5/webcomponents-fiori/dist/SortItem.js";`'},{name:"filterItems",description:'Defines the `filterItems` list.\n\n**Note:** If you want to use this slot, you need to import used item: `import "@ui5/webcomponents-fiori/dist/FilterItem.js";`'},{name:"groupItems",description:'Defines the list of items against which the user could group data.\n\n**Note:** If you want to use this slot, you need to import used item: `import "@ui5/webcomponents-fiori/dist/GroupItem.js";`'}],this.elementRef=f(S),this.injector=f(m)}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let t=this.element,e=["sortDescending","groupDescending","open"];for(let n of e){let s=n.replace(/-./g,l=>l[1].toUpperCase());this[s]&&typeof this[s]=="function"&&g(this.injector,()=>{_(()=>{let l=this[s]();t&&(t[n]=l)})})}let r=["ui5Confirm","ui5Cancel","ui5BeforeOpen","ui5Open","ui5Close"];for(let n of r){let s=n.replace("ui5","").replace(/([A-Z])/g,"-$1").toLowerCase().substring(1);this[n]&&typeof this[n].emit=="function"&&t.addEventListener&&t.addEventListener(s,l=>{this[n].emit(l)})}}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=v({type:o,selectors:[["ui5-view-settings-dialog"],["","ui5-view-settings-dialog",""]],inputs:{sortDescending:[1,"sortDescending"],groupDescending:[1,"groupDescending"],open:[1,"open"]},outputs:{ui5Confirm:"ui5Confirm",ui5Cancel:"ui5Cancel",ui5BeforeOpen:"ui5BeforeOpen",ui5Open:"ui5Open",ui5Close:"ui5Close"},exportAs:["ui5ViewSettingsDialog"],ngContentSelectors:Oe,decls:1,vars:0,template:function(e,r){e&1&&(y(),x(0))},encapsulation:2,changeDetection:0})}}return o})();export{Ee as a,ze as b,ei as c,pi as d,br as e};
