import{c as Q,d as j,e as z,h as B,t as q,u as R,x as G}from"./chunk-ZO3DZLYJ.js";import{C as g,Dd as V,Ea as o,Ed as $,Gb as E,Hb as I,Ib as P,Jb as k,Kb as H,Nb as d,Nh as L,Oa as x,Ob as u,P as h,_ as p,_c as O,ab as F,cb as w,da as _,ea as C,eb as b,fb as D,gb as S,hb as a,ib as r,jb as l,kb as s,ma as f,na as M,o as c,sb as T,uc as N,vb as A,yb as m,za as y}from"./chunk-G5GBDOT3.js";import"./chunk-66YHNWRR.js";var K=["menu"];function U(i,v){if(i&1&&s(0,"button",3),i&2){let t=m(),e=P(6);a("label","Select a file ("+t.files().length+")")("fdMenu",!0)("fdMenuTrigger",e)}}function W(i,v){if(i&1){let t=T();r(0,"li",7),A("click",function(){let n=_(t).$implicit,J=m();return C(J.getFile(n))}),r(1,"div",8)(2,"span",9),d(3),l()()()}if(i&2){let t=v.$implicit,e=m();H("is-selected",t===e.activeFile()),o(3),u(t)}}var fe=(()=>{class i{constructor(){this.menu=N("menu"),this.activeFile=f(""),this.files=f([]),this.result=$(V(this.activeFile).pipe(h(e=>e?this._apiService.getComponentHtml(e).pipe(g(n=>(console.warn(`Did not find file ${e}.
Error:`,n),c(`<h2>Error loading ${e}</h2>`)))):c("<h2>No API files found.</h2>"))),{initialValue:""}),this._route=p(O),this._apiService=p(G);let t=this._route.snapshot.data.content;if(t){let e=[...t].sort();this.files.set(e),e.length>0&&this.activeFile.set(e[0])}M(()=>{this.activeFile();let e=this.menu();e?.isOpen&&e.close()})}getFile(t){this.activeFile.set(t)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=x({type:i,selectors:[["fd-api"]],viewQuery:function(e,n){e&1&&E(n.menu,K,5),e&2&&I()},decls:10,vars:8,consts:[["menu",""],[1,"api-main-container"],[1,"api-main-header"],["fd-button","",3,"label","fdMenu","fdMenuTrigger"],["placement","bottom-start",3,"fillControlMode"],["fd-menu-item","",3,"is-selected"],[3,"innerHTML"],["fd-menu-item","",3,"click"],["fd-menu-interactive",""],["fd-menu-title",""]],template:function(e,n){e&1&&(r(0,"div",1)(1,"h2",2),d(2),l(),s(3,"span"),F(4,U,1,3,"button",3),r(5,"fd-menu",4,0),D(7,W,4,3,"li",5,b),l()(),s(9,"div",6)),e&2&&(o(2),u(n.activeFile()),o(),k("display","flex")("flex-grow","1"),o(),w(n.files().length>1?4:-1),o(),a("fillControlMode",null),o(2),S(n.files()),o(2),a("innerHTML",n.result(),y))},dependencies:[L,R,q,z,j,Q,B],styles:[".api-main-header[_ngcontent-%COMP%]{margin:0;font-weight:700;text-rendering:optimizeLegibility}.api-main-container[_ngcontent-%COMP%]{margin-top:2em;display:flex;align-items:center;justify-content:flex-start;flex-wrap:wrap}"],changeDetection:0})}}return i})();export{fe as ApiComponent};
