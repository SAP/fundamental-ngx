import{$ as r,Bc as u,Di as d,Ra as f,W as a,Z as l,_b as c,wa as h}from"./chunk-K5JCOZWZ.js";var m=new l("CVA_CONFIG"),g=(()=>{class n{constructor(){this.elementRef=r(h),this.cdr=r(u),this.config=r(m,{optional:!0}),this._value=null,this._valueSet=!1,this._initialized=!1,this._disabled=!1}get effectiveConfig(){return this.config||{property:"value",events:["change","input"],transformValue:e=>e||""}}ngAfterViewInit(){requestAnimationFrame(()=>{this.initializeComponent()})}setDisabledState(e){this._disabled=e;let t=this.elementRef.nativeElement;t&&this._initialized&&(t.disabled=e,this.cdr.markForCheck())}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){this._value=e,this._valueSet=!0,this._initialized&&this.updateElementValue(e)}initializeComponent(){let e=this.elementRef.nativeElement,t=this.effectiveConfig;if(this._initialized=!0,e&&e.addEventListener){for(let i of t.events)e.addEventListener(i,s=>{if(this.onChange){let o=this.getValueToEmit(t,s);if(o!==void 0){let C=t.transformValue?t.transformValue(o):o;this.onChange(C),this.cdr.markForCheck()}}});e.addEventListener("focusout",()=>{this.onTouched&&(this.onTouched(),this.cdr.markForCheck())})}this._valueSet&&this.updateElementValue(this._value),this._disabled&&(e.disabled=this._disabled)}getValueToEmit(e,t){return e.isRadioButton?t.target.checked?t.target.value:void 0:t.target[e.property]}updateElementValue(e){let t=this.elementRef.nativeElement,i=this.effectiveConfig;if(t&&this._initialized){if(i.isRadioButton){let s=t.value===e;t.checked=s}else{let s=i.transformValue?i.transformValue(e):e;t[i.property]=s}this.cdr.markForCheck()}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=f({type:n,selectors:[["","noop",""]],features:[c([{provide:d,useExisting:a(()=>n),multi:!0}])]})}}return n})();export{m as a,g as b};
