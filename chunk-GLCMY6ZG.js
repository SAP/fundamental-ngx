import{a as U,b as Y,i as A,j as G}from"./chunk-QENPRYOC.js";import{a as p}from"./chunk-6KNPNZCO.js";import{a as u}from"./chunk-ZHLVPJNW.js";import{a as X}from"./chunk-ZJMQIQLA.js";import{a as T}from"./chunk-7F7E7M2Q.js";import{a as S}from"./chunk-KD5KWNLC.js";import{a as w}from"./chunk-TY3GVOZL.js";import{e as L}from"./chunk-2HPGV2CB.js";import{j as H,k as R,l as x,m as D,r as z,s as y,v as E,w as M}from"./chunk-J2ZYVFGE.js";import{$e as j,T as W,U as g,V as O,X as B,Y as n,Ye as k,Z as C,Ze as $,_e as N,rg as P,sg as F}from"./chunk-SGTQD4DW.js";import{v}from"./chunk-XUL3DONQ.js";import{i as b}from"./chunk-66YHNWRR.js";function I(){return Y.call(this,{beforeContent:K,afterContent:Z})}function K(){return n(B,{children:!!this._displayHeader&&n("header",{children:C("div",{class:"ui5-popup-header-root",id:"ui5-popup-header",role:"group","aria-describedby":this.effectiveAriaDescribedBy,"aria-roledescription":this.ariaRoleDescriptionHeaderText,tabIndex:this._headerTabIndex,onKeyDown:this._onDragOrResizeKeyDown,onMouseDown:this._onDragMouseDown,part:"header",children:[this.hasValueState&&n(L,{class:"ui5-dialog-value-state-icon",name:this._dialogStateIcon}),this.header.length?n("slot",{name:"header"}):n(X,{level:"H1",id:"ui5-popup-header-text",class:"ui5-popup-header-text",children:this.headerText}),this.resizable?this.draggable?n("span",{id:`${this._id}-descr`,"aria-hidden":"true",class:"ui5-hidden-text",children:this.ariaDescribedByHeaderTextDraggableAndResizable}):n("span",{id:`${this._id}-descr`,"aria-hidden":"true",class:"ui5-hidden-text",children:this.ariaDescribedByHeaderTextResizable}):this.draggable&&n("span",{id:`${this._id}-descr`,"aria-hidden":"true",class:"ui5-hidden-text",children:this.ariaDescribedByHeaderTextDraggable})]})})})}function Z(){return C(B,{children:[!!this.footer.length&&n("footer",{class:"ui5-popup-footer-root",part:"footer",children:n("slot",{name:"footer"})}),this._showResizeHandle&&n("div",{class:"ui5-popup-resize-handle",onMouseDown:this._onResizeMouseDown,children:n(L,{name:U})})]})}v("@ui5/webcomponents-theming","sap_horizon",()=>b(null,null,function*(){return P}));v("@ui5/webcomponents","sap_horizon",()=>b(null,null,function*(){return F}),"host");var V=`.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:-1000px;top:-1000px;pointer-events:none;font-size:0}:host{min-width:20rem;min-height:6rem;max-height:94%;max-width:90%;flex-direction:column;box-shadow:var(--sapContent_Shadow3);border-radius:var(--sapElement_BorderCornerRadius)}:host([stretch]){width:90%;height:94%}:host([stretch][on-phone]){width:100%;height:100%;max-height:100%;max-width:100%;border-radius:0;min-width:0}:host([draggable]) .ui5-popup-header-root,:host([draggable]) ::slotted([slot="header"]){cursor:move}:host([draggable]) .ui5-popup-header-root *{cursor:auto}:host([draggable]) .ui5-popup-root{user-select:text}::slotted([slot="header"]){max-width:100%}.ui5-popup-root{display:flex;flex-direction:column;max-width:100vw}.ui5-popup-header-root{position:relative}.ui5-popup-header-root:before{content:"";position:absolute;inset-block-start:auto;inset-block-end:0;inset-inline-start:0;inset-inline-end:0;height:var(--_ui5_dialog_header_state_line_height);background:var(--sapObjectHeader_BorderColor)}:host([state="Negative"]) .ui5-popup-header-root:before{background:var(--sapErrorBorderColor)}:host([state="Information"]) .ui5-popup-header-root:before{background:var(--sapInformationBorderColor)}:host([state="Positive"]) .ui5-popup-header-root:before{background:var(--sapSuccessBorderColor)}:host([state="Critical"]) .ui5-popup-header-root:before{background:var(--sapWarningBorderColor)}.ui5-dialog-value-state-icon{margin-inline-end:.5rem;flex-shrink:0}:host([state="Negative"]) .ui5-dialog-value-state-icon{color:var(--sapNegativeElementColor)}:host([state="Information"]) .ui5-dialog-value-state-icon{color:var(--sapInformativeElementColor)}:host([state="Positive"]) .ui5-dialog-value-state-icon{color:var(--sapPositiveElementColor)}:host([state="Critical"]) .ui5-dialog-value-state-icon{color:var(--sapCriticalElementColor)}.ui5-popup-header-root{outline:none}:host([desktop]) .ui5-popup-header-root:focus:after,.ui5-popup-header-root:focus-visible:after{content:"";position:absolute;left:var(--_ui5_dialog_header_focus_left_offset);bottom:var(--_ui5_dialog_header_focus_bottom_offset);right:var(--_ui5_dialog_header_focus_right_offset);top:var(--_ui5_dialog_header_focus_top_offset);border:var(--sapContent_FocusWidth) var(--sapContent_FocusStyle) var(--sapContent_FocusColor);border-radius:var(--_ui5_dialog_header_border_radius) var(--_ui5_dialog_header_border_radius) 0 0;pointer-events:none}:host([stretch]) .ui5-popup-content{width:100%;height:100%}.ui5-popup-content{min-height:var(--_ui5_dialog_content_min_height);flex:1 1 auto}.ui5-popup-resize-handle{position:absolute;bottom:-.5rem;inset-inline-end:-.5rem;cursor:var(--_ui5_dialog_resize_cursor);width:1.5rem;height:1.5rem;border-radius:50%}.ui5-popup-resize-handle [ui5-icon]{color:var(--sapButton_Lite_TextColor)}:host::backdrop{background-color:var(--_ui5_popup_block_layer_background);opacity:var(--_ui5_popup_block_layer_opacity)}.ui5-block-layer{display:block}
`;var d=function(m,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(m,e,t,r);else for(var a=m.length-1;a>=0;a--)(o=m[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},c,_=16,q={[p.Negative]:"error",[p.Critical]:"alert",[p.Positive]:"sys-enter-2",[p.Information]:"information"},h=c=class extends A{constructor(){super(),this.stretch=!1,this.draggable=!1,this.resizable=!1,this.state="None",this._draggedOrResized=!1,this._dragHandlerRegistered=!1,this._revertSize=()=>{Object.assign(this.style,{top:"",left:"",width:"",height:""})},this._screenResizeHandler=this._screenResize.bind(this),this._dragMouseMoveHandler=this._onDragMouseMove.bind(this),this._dragMouseUpHandler=this._onDragMouseUp.bind(this),this._resizeMouseMoveHandler=this._onResizeMouseMove.bind(this),this._resizeMouseUpHandler=this._onResizeMouseUp.bind(this),this._dragStartHandler=this._handleDragStart.bind(this)}static _isHeader(e){return e.classList.contains("ui5-popup-header-root")||e.getAttribute("slot")==="header"}get isModal(){return!0}get _ariaLabelledBy(){let e;return this.headerText&&!this._ariaLabel&&(e="ui5-popup-header-text"),e}get ariaRoleDescriptionHeaderText(){return this.resizable||this.draggable?c.i18nBundle.getText(k):void 0}get effectiveAriaDescribedBy(){return this.resizable||this.draggable?`${this._id}-descr`:void 0}get ariaDescribedByHeaderTextResizable(){return c.i18nBundle.getText($)}get ariaDescribedByHeaderTextDraggable(){return c.i18nBundle.getText(N)}get ariaDescribedByHeaderTextDraggableAndResizable(){return c.i18nBundle.getText(j)}get _displayHeader(){return this.header.length||this.headerText||this.draggable||this.resizable}get _movable(){return!this.stretch&&this.onDesktop&&(this.draggable||this.resizable)}get _headerTabIndex(){return this._movable?0:void 0}get _showResizeHandle(){return this.resizable&&this.onDesktop}get _minHeight(){let e=Number.parseInt(window.getComputedStyle(this.contentDOM).minHeight),t=this._root.querySelector(".ui5-popup-header-root");t&&(e+=t.offsetHeight);let r=this._root.querySelector(".ui5-popup-footer-root");return r&&(e+=r.offsetHeight),e}get hasValueState(){return this.state!==p.None}get _dialogStateIcon(){return q[this.state]}get _role(){if(this.accessibleRole!==T.None)return this.state===p.Negative||this.state===p.Critical?S(T.AlertDialog):S(this.accessibleRole)}_show(){super._show(),this._center()}onBeforeRendering(){super.onBeforeRendering(),this._isRTL=this.effectiveDir==="rtl"}_resize(){super._resize(),this._draggedOrResized||this._center()}_screenResize(){this._center()}_attachBrowserEvents(){this._attachScreenResizeHandler(),this._registerDragHandler()}_detachBrowserEvents(){this._detachScreenResizeHandler(),this._deregisterDragHandler()}_attachScreenResizeHandler(){this._screenResizeHandlerAttached||(window.addEventListener("resize",this._screenResizeHandler),this._screenResizeHandlerAttached=!0)}_detachScreenResizeHandler(){this._screenResizeHandlerAttached&&(window.removeEventListener("resize",this._screenResizeHandler),this._screenResizeHandlerAttached=!1)}_registerDragHandler(){this._dragHandlerRegistered||(this.addEventListener("dragstart",this._dragStartHandler),this._dragHandlerRegistered=!0)}_deregisterDragHandler(){this._dragHandlerRegistered&&(this.removeEventListener("dragstart",this._dragStartHandler),this._dragHandlerRegistered=!1)}_center(){let e=window.innerHeight-this.offsetHeight,t=window.innerWidth-this.offsetWidth;Object.assign(this.style,{top:`${Math.round(e/2)}px`,left:`${Math.round(t/2)}px`})}_onDragMouseDown(e){if(!this._movable||!this.draggable||!c._isHeader(e.target))return;let{top:t,left:r}=this.getBoundingClientRect(),{width:i,height:s}=window.getComputedStyle(this);Object.assign(this.style,{top:`${t}px`,left:`${r}px`,width:`${Math.round(Number.parseFloat(i)*100)/100}px`,height:`${Math.round(Number.parseFloat(s)*100)/100}px`}),this._x=e.clientX,this._y=e.clientY,this._draggedOrResized=!0,this._attachMouseDragHandlers()}_onDragMouseMove(e){e.preventDefault();let{clientX:t,clientY:r}=e,i=this._x-t,s=this._y-r,{left:o,top:a}=this.getBoundingClientRect();Object.assign(this.style,{left:`${Math.floor(o-i)}px`,top:`${Math.floor(a-s)}px`}),this._x=t,this._y=r}_onDragMouseUp(){delete this._x,delete this._y,this._detachMouseDragHandlers()}_onDragOrResizeKeyDown(e){if(!(!this._movable||!c._isHeader(e.target))){if(this.draggable&&[x,D,H,R].some(t=>t(e))){this._dragWithEvent(e);return}this.resizable&&[z,y,E,M].some(t=>t(e))&&this._resizeWithEvent(e)}}_dragWithEvent(e){let{top:t,left:r,width:i,height:s}=this.getBoundingClientRect(),o=0,a="top";switch(!0){case x(e):o=t-_,a="top";break;case D(e):o=t+_,a="top";break;case H(e):o=r-_,a="left";break;case R(e):o=r+_,a="left";break}o=u(o,0,a==="left"?window.innerWidth-i:window.innerHeight-s),this.style[a]=`${o}px`}_resizeWithEvent(e){this._draggedOrResized=!0,this.addEventListener("ui5-before-close",this._revertSize,{once:!0});let{top:t,left:r}=this.getBoundingClientRect(),i=window.getComputedStyle(this),s=Number.parseFloat(i.minWidth),o=window.innerWidth-r,a=window.innerHeight-t,l=Number.parseFloat(i.width),f=Number.parseFloat(i.height);switch(!0){case z(e):f-=_;break;case y(e):f+=_;break;case E(e):l-=_;break;case M(e):l+=_;break}l=u(l,s,o),f=u(f,this._minHeight,a),Object.assign(this.style,{width:`${l}px`,height:`${f}px`})}_attachMouseDragHandlers(){window.addEventListener("mousemove",this._dragMouseMoveHandler),window.addEventListener("mouseup",this._dragMouseUpHandler)}_detachMouseDragHandlers(){window.removeEventListener("mousemove",this._dragMouseMoveHandler),window.removeEventListener("mouseup",this._dragMouseUpHandler)}_onResizeMouseDown(e){if(!this._movable||!this.resizable)return;e.preventDefault();let{top:t,left:r}=this.getBoundingClientRect(),{width:i,height:s,minWidth:o}=window.getComputedStyle(this);this._initialX=e.clientX,this._initialY=e.clientY,this._initialWidth=Number.parseFloat(i),this._initialHeight=Number.parseFloat(s),this._initialTop=t,this._initialLeft=r,this._minWidth=Number.parseFloat(o),this._cachedMinHeight=this._minHeight,Object.assign(this.style,{top:`${t}px`,left:`${r}px`}),this._draggedOrResized=!0,this._attachMouseResizeHandlers()}_onResizeMouseMove(e){let{clientX:t,clientY:r}=e,i,s;if(this._isRTL){i=u(this._initialWidth-(t-this._initialX),this._minWidth,this._initialLeft+this._initialWidth),Object.assign(this.style,{width:`${i}px`});let a=i-this.getBoundingClientRect().width,l=this._initialLeft+this._initialWidth+a;s=u(l-i,0,l-this._minWidth)}else i=u(this._initialWidth+(t-this._initialX),this._minWidth,window.innerWidth-this._initialLeft);let o=u(this._initialHeight+(r-this._initialY),this._cachedMinHeight,window.innerHeight-this._initialTop);Object.assign(this.style,{height:`${o}px`,width:`${i}px`,left:this._isRTL?`${s}px`:void 0})}_onResizeMouseUp(){delete this._initialX,delete this._initialY,delete this._initialWidth,delete this._initialHeight,delete this._initialTop,delete this._initialLeft,delete this._minWidth,delete this._cachedMinHeight,this._detachMouseResizeHandlers()}_handleDragStart(e){this.draggable&&e.preventDefault()}_attachMouseResizeHandlers(){window.addEventListener("mousemove",this._resizeMouseMoveHandler),window.addEventListener("mouseup",this._resizeMouseUpHandler),this.addEventListener("ui5-before-close",this._revertSize,{once:!0})}_detachMouseResizeHandlers(){window.removeEventListener("mousemove",this._resizeMouseMoveHandler),window.removeEventListener("mouseup",this._resizeMouseUpHandler)}};d([g()],h.prototype,"headerText",void 0);d([g({type:Boolean})],h.prototype,"stretch",void 0);d([g({type:Boolean})],h.prototype,"draggable",void 0);d([g({type:Boolean})],h.prototype,"resizable",void 0);d([g()],h.prototype,"state",void 0);d([w()],h.prototype,"header",void 0);d([w()],h.prototype,"footer",void 0);d([O("@ui5/webcomponents")],h,"i18nBundle",void 0);h=c=d([W({tag:"ui5-dialog",template:I,styles:[A.styles,G,V]})],h);h.define();var Me=h;export{Me as a};
