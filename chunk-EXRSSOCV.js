import{a as $,c as Y,d as q,e as K,f as Z,g as J,h as H,i as Q}from"./chunk-EPF7VD66.js";import{a as E}from"./chunk-ZHLVPJNW.js";import{a as X}from"./chunk-24FV2AE7.js";import{a as T,b as P,c as O}from"./chunk-6PJTGQ3X.js";import{a as U}from"./chunk-5GYOQ6VS.js";import{a as L}from"./chunk-HDINBTBQ.js";import{O as C,Q as F,R as f,U as R,V as v,W as D,X as j,Y as S,o as V,z as G}from"./chunk-BHUOVC5R.js";import{w as M}from"./chunk-EIBM65BX.js";import{a as B,b as W,h as A,i as y}from"./chunk-66YHNWRR.js";var ht={toAttribute(i){return i instanceof HTMLElement?null:i},fromAttribute(i){return i}},z=ht;var pt=i=>i.parentElement?i.parentElement:i.parentNode.host,tt=pt;var et,ct=300,u=[],I=()=>{u.forEach(i=>{i.instance.reposition()})},ut=()=>{let i=U();i.tagName==="IFRAME"&&Tt().reverse().forEach(t=>{let e=t.instance,o=e.getOpenerHTMLElement(e.opener);for(;i;){if(i===o)return;i=tt(i)}e.closePopup(!1,!1,!0)})},dt=()=>{et=setInterval(()=>{I(),ut()},ct)},mt=()=>{clearInterval(et)},ft=()=>{document.addEventListener("scroll",I,{capture:!0})},gt=()=>{document.removeEventListener("scroll",I,{capture:!0})},_t=i=>{i&&i.shadowRoot.addEventListener("scroll",I,{capture:!0})},wt=i=>{i&&i.shadowRoot.removeEventListener("scroll",I,{capture:!0})},vt=()=>{document.addEventListener("mousedown",ot,{capture:!0})},bt=()=>{document.removeEventListener("mousedown",ot,{capture:!0})},ot=i=>{let t=J();if(!(t.length===0||!nt(t[t.length-1].instance)))for(let o=t.length-1;o!==-1;o--){let r=t[o].instance;if(r.isModal||r.isOpenerClicked(i))return;if(Y(i,r.getBoundingClientRect()))break;r.closePopup()}},rt=i=>{let t=Pt(i);K(i,t),u.push({instance:i,parentPopovers:t}),_t(i),u.length===1&&(ft(),vt(),dt())},it=i=>{let t=[i];for(let e=0;e<u.length;e++){let o=u[e].parentPopovers.indexOf(i);u[e].parentPopovers.length>0&&o>-1&&t.push(u[e].instance)}for(let e=t.length-1;e>=0;e--)for(let o=0;o<u.length;o++){let r=-1;t[e]===u[o].instance&&(r=o),r>=0&&(Z(u[r].instance),wt(u[r].instance),u.splice(r,1)[0].instance.closePopup(!1,!0))}u.length||(gt(),bt(),mt())},Tt=()=>u,Pt=i=>{let t=i.parentNode,e=[];for(;t&&t.parentNode;){for(let o=0;o<u.length;o++)t===u[o].instance&&e.push(t);t=t.parentNode}return e};function k(){return $.call(this,{beforeContent:Ot,afterContent:yt})}function Ot(){return D(R,{children:[v("span",{class:"ui5-popover-arrow",style:this.styles.arrow}),this._displayHeader&&v("header",{class:"ui5-popup-header-root",id:"ui5-popup-header",part:"header",children:this.header.length?v("slot",{name:"header"}):v(X,{level:"H1",class:"ui5-popup-header-text",children:this.headerText})})]})}function yt(){return v(R,{children:this._displayFooter&&!!this.footer.length&&v("footer",{class:"ui5-popup-footer-root",part:"footer",children:v("slot",{name:"footer"})})})}M("@ui5/webcomponents-theming","sap_horizon",()=>y(null,null,function*(){return j}));M("@ui5/webcomponents","sap_horizon",()=>y(null,null,function*(){return S}));var st=`:host{box-shadow:var(--_ui5-v2-18-0_popover_box_shadow);background-color:var(--_ui5-v2-18-0_popover_background);max-width:calc(100vw - (100vw - 100%) - 2 * var(--_ui5-v2-18-0_popup_viewport_margin))}:host([hide-arrow]){box-shadow:var(--_ui5-v2-18-0_popover_no_arrow_box_shadow)}:host([actual-placement="Bottom"]) .ui5-popover-arrow{left:calc(50% - .5625rem);top:-.5rem;height:.5rem}:host([actual-placement="Bottom"]) .ui5-popover-arrow:after{margin:var(--_ui5-v2-18-0_popover_upward_arrow_margin)}:host([actual-placement="Left"]) .ui5-popover-arrow{top:calc(50% - .5625rem);right:-.5625rem;width:.5625rem}:host([actual-placement="Left"]) .ui5-popover-arrow:after{margin:var(--_ui5-v2-18-0_popover_right_arrow_margin)}:host([actual-placement="Top"]) .ui5-popover-arrow{left:calc(50% - .5625rem);height:.5625rem;top:100%}:host([actual-placement="Top"]) .ui5-popover-arrow:after{margin:var(--_ui5-v2-18-0_popover_downward_arrow_margin)}:host(:not([actual-placement])) .ui5-popover-arrow,:host([actual-placement="Right"]) .ui5-popover-arrow{left:-.5625rem;top:calc(50% - .5625rem);width:.5625rem;height:1rem}:host(:not([actual-placement])) .ui5-popover-arrow:after,:host([actual-placement="Right"]) .ui5-popover-arrow:after{margin:var(--_ui5-v2-18-0_popover_left_arrow_margin)}:host([hide-arrow]) .ui5-popover-arrow{display:none}.ui5-popover-root{min-width:6.25rem}.ui5-popover-arrow{pointer-events:none;display:block;width:1rem;height:1rem;position:absolute;overflow:hidden}.ui5-popover-arrow:after{content:"";display:block;width:.7rem;height:.7rem;background-color:var(--_ui5-v2-18-0_popover_background);box-shadow:var(--_ui5-v2-18-0_popover_box_shadow);transform:rotate(-45deg)}:host([modal])::backdrop{background-color:var(--_ui5-v2-18-0_popup_block_layer_background);opacity:var(--_ui5-v2-18-0_popup_block_layer_opacity)}:host([modal]) .ui5-block-layer{display:block}
`;var d=function(i,t,e,o){var r=arguments.length,n=r<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,e):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(i,t,e,o);else for(var s=i.length-1;s>=0;s--)(l=i[s])&&(n=(r<3?l(n):r>3?l(t,e,n):l(t,e))||n);return r>3&&n&&Object.defineProperty(t,e,n),n},h,x=8,m=(function(i){return i.Center="Center",i.Left="Left",i.Right="Right",i.Stretch="Stretch",i})(m||{}),a=(function(i){return i.Left="Left",i.Right="Right",i.Top="Top",i.Bottom="Bottom",i})(a||{}),p=h=class N extends H{static get VIEWPORT_MARGIN(){return 10}constructor(){super(),this.placement="End",this.horizontalAlign="Center",this.verticalAlign="Center",this.modal=!1,this.hideArrow=!1,this.allowTargetOverlap=!1,this.arrowTranslateX=0,this.arrowTranslateY=0,this.actualPlacement="Right"}set opener(t){this._opener!==t&&(this._opener=t,t&&this.open&&this.openPopup())}get opener(){return this._opener}openPopup(){return y(this,null,function*(){if(this._opened)return;let t=this.getOpenerHTMLElement(this.opener);if(t){if(!t||this.isOpenerOutsideViewport(t.getBoundingClientRect())){yield V(),this.open=!1,this.fireDecoratorEvent("close");return}this._openerRect=t.getBoundingClientRect(),yield A(N.prototype,this,"openPopup").call(this)}})}isOpenerClicked(t){let e=t.target,o=this.getOpenerHTMLElement(this.opener);return o?e===o||this._isUI5AbstractElement(e)&&e.getFocusDomRef()===o?!0:t.composedPath().indexOf(o)>-1:!1}_addOpenedPopup(){rt(this)}_removeOpenedPopup(){it(this)}getOpenerHTMLElement(t){if(t==null)return t;if(t instanceof HTMLElement)return this._isUI5AbstractElement(t)?t.getFocusDomRef():t;let e=this.getRootNode();e===this&&(e=document);let o=e.getElementById(t);return e instanceof ShadowRoot&&!o&&(o=document.getElementById(t)),o&&(this._isUI5AbstractElement(o)?o.getFocusDomRef():o)}shouldCloseDueToOverflow(t,e){let r={Left:e.right,Right:e.left,Top:e.top,Bottom:e.bottom},n=this.getOpenerHTMLElement(this.opener),l=q(n),s=!1,c=!1;if(l instanceof h){let g=l.getBoundingClientRect();s=e.top>g.top+g.height,c=e.top+e.height<g.top}return r[t]<0||r[t]+32>l.innerHeight||s||c}shouldCloseDueToNoOpener(t){return t.top===0&&t.bottom===0&&t.left===0&&t.right===0}isOpenerOutsideViewport(t){return t.bottom<0||t.top>window.innerHeight||t.right<0||t.left>window.innerWidth}_resize(){super._resize(),this.open&&this.reposition()}reposition(){this._show()}_show(){return y(this,null,function*(){A(N.prototype,this,"_show").call(this);let t=this.getOpenerHTMLElement(this.opener);if(!t){Object.assign(this.style,{top:"0px",left:"0px"});return}if(t&&C(t)&&!t.getDomRef())return;this._opened||this._showOutsideViewport();let e=this.getPopoverSize(),o;if(e.width===0||e.height===0)return;if(this.open&&(this._openerRect=t.getBoundingClientRect()),this._oldPlacement&&this.shouldCloseDueToNoOpener(this._openerRect)&&this.isFocusWithin()?o=this._oldPlacement:o=this.calcPlacement(this._openerRect,e),this._preventRepositionAndClose||this.isOpenerOutsideViewport(this._openerRect))return yield this._waitForDomRef(),this.closePopup();this._oldPlacement=o,this.actualPlacement=o.actualPlacement;let r=E(this._left,h.VIEWPORT_MARGIN,document.documentElement.clientWidth-e.width-h.VIEWPORT_MARGIN);this.actualPlacement===a.Right&&(r=Math.max(r,this._left));let n=E(this._top,h.VIEWPORT_MARGIN,document.documentElement.clientHeight-e.height-h.VIEWPORT_MARGIN);this.actualPlacement===a.Bottom&&(n=Math.max(n,this._top)),this.arrowTranslateX=o.arrow.x,this.arrowTranslateY=o.arrow.y,n=this._adjustForIOSKeyboard(n),Object.assign(this.style,{top:`${n}px`,left:`${r}px`}),this.horizontalAlign===O.Stretch&&this._width&&(this.style.width=this._width),this.verticalAlign===P.Stretch&&this._height&&(this.style.height=this._height)})}_adjustForIOSKeyboard(t){if(!G())return t;let e=Math.ceil(this.getBoundingClientRect().top);return t+(Number.parseInt(this.style.top||"0")-e)}getPopoverSize(t=!1){let e=this.getBoundingClientRect(),o=e.width,r,n=this.getDomRef();if(t&&n){let l=n.querySelector(".ui5-popup-header-root"),s=n.querySelector(".ui5-popup-content"),c=n.querySelector(".ui5-popup-footer-root");r=s?.scrollHeight||0,r+=l?.scrollHeight||0,r+=c?.scrollHeight||0}else r=e.height;return{width:o,height:r}}_showOutsideViewport(){Object.assign(this.style,{top:"-10000px",left:"-10000px"})}_isUI5AbstractElement(t){return C(t)&&t.isUI5AbstractElement}get arrowDOM(){return this.shadowRoot.querySelector(".ui5-popover-arrow")}focusOpener(){this.getOpenerHTMLElement(this.opener)?.focus()}calcPlacement(t,e){let o=h.VIEWPORT_MARGIN,r=0,n=this.allowTargetOverlap,l=document.documentElement.clientWidth,s=document.documentElement.clientHeight,c=s,g=l,w=this.getActualPlacement(t);this._preventRepositionAndClose=this.shouldCloseDueToNoOpener(t)||this.shouldCloseDueToOverflow(w,t);let b=w===a.Top||w===a.Bottom;this.horizontalAlign===O.Stretch&&b?(e.width=t.width,this._width=`${t.width}px`):this.verticalAlign===P.Stretch&&!b&&(e.height=t.height,this._height=`${t.height}px`);let _=this.hideArrow?0:x;switch(w){case a.Top:o=this.getVerticalLeft(t,e),r=Math.max(t.top-e.height-_,0),n||(c=t.top-_);break;case a.Bottom:o=this.getVerticalLeft(t,e),r=t.bottom+_,n?r=Math.max(Math.min(r,s-e.height),0):c=s-t.bottom-_;break;case a.Left:o=Math.max(t.left-e.width-_,0),r=this.getHorizontalTop(t,e),n||(g=t.left-_);break;case a.Right:o=t.left+t.width+_,r=this.getHorizontalTop(t,e),n?o=Math.max(Math.min(o,l-e.width),0):g=l-t.right-_;break}b?e.width>l||o<h.VIEWPORT_MARGIN?o=h.VIEWPORT_MARGIN:o+e.width>l-h.VIEWPORT_MARGIN&&(o=l-h.VIEWPORT_MARGIN-e.width):e.height>s||r<h.VIEWPORT_MARGIN?r=h.VIEWPORT_MARGIN:r+e.height>s-h.VIEWPORT_MARGIN&&(r=s-h.VIEWPORT_MARGIN-e.height),this._maxHeight=Math.round(c-h.VIEWPORT_MARGIN),this._maxWidth=Math.round(g-h.VIEWPORT_MARGIN),(this._left===void 0||Math.abs(this._left-o)>1.5)&&(this._left=Math.round(o)),(this._top===void 0||Math.abs(this._top-r)>1.5)&&(this._top=Math.round(r));let at=Number.parseInt(window.getComputedStyle(this).getPropertyValue("border-radius")),lt=this.getArrowPosition(t,e,o,r,b,at);return this._left+=this.getRTLCorrectionLeft(),{arrow:lt,top:this._top,left:this._left,actualPlacement:w}}getRTLCorrectionLeft(){return parseFloat(window.getComputedStyle(this).left)-this.getBoundingClientRect().left}getArrowPosition(t,e,o,r,n,l){let s=this._actualHorizontalAlign,c=s===m.Center||s===m.Stretch;s===m.Right&&o<=t.left&&(c=!0),s===m.Left&&o+e.width>=t.left+t.width&&(c=!0);let g=0;n&&c&&(g=t.left+t.width/2-o-e.width/2);let w=0;n||(w=t.top+t.height/2-r-e.height/2);let b=e.height/2-l-x/2-2;w=E(w,-b,b);let _=e.width/2-l-x/2-2;return g=E(g,-_,_),{x:Math.round(g),y:Math.round(w)}}fallbackPlacement(t,e,o,r){if(o.left>r.width)return a.Left;if(t-o.right>o.left)return a.Right;if(e-o.bottom>r.height)return a.Bottom;if(e-o.bottom<o.top)return a.Top}getActualPlacement(t){let e=this.placement,o=e===T.Top||e===T.Bottom,r=this.getPopoverSize(!this.allowTargetOverlap),n=a.Right;switch(e){case T.Start:n=this.isRtl?a.Right:a.Left;break;case T.End:n=this.isRtl?a.Left:a.Right;break;case T.Top:n=a.Top;break;case T.Bottom:n=a.Bottom;break}let l=document.documentElement.clientWidth,s=document.documentElement.clientHeight,c=r.height;switch(o&&(c+=this.hideArrow?0:x,s-=h.VIEWPORT_MARGIN),n){case a.Top:t.top<c&&t.top<s-t.bottom&&(n=a.Bottom);break;case a.Bottom:s-t.bottom<c&&s-t.bottom<t.top&&(n=a.Top);break;case a.Left:t.left<r.width&&(n=this.fallbackPlacement(l,s,t,r)||n);break;case a.Right:l-t.right<r.width&&(n=this.fallbackPlacement(l,s,t,r)||n);break}return n}getVerticalLeft(t,e){let o=this._actualHorizontalAlign,r=h.VIEWPORT_MARGIN;switch(o){case m.Center:case m.Stretch:r=t.left-(e.width-t.width)/2;break;case m.Left:r=t.left;break;case m.Right:r=t.right-e.width;break}return r}getHorizontalTop(t,e){let o=0;switch(this.verticalAlign){case P.Center:case P.Stretch:o=t.top-(e.height-t.height)/2;break;case P.Top:o=t.top;break;case P.Bottom:o=t.bottom-e.height;break}return o}get isModal(){return this.modal}get _ariaLabelledBy(){if(!this._ariaLabel&&this._displayHeader)return"ui5-popup-header"}get styles(){return W(B({},super.styles),{root:{"max-height":this._maxHeight?`${this._maxHeight}px`:"","max-width":this._maxWidth?`${this._maxWidth}px`:""},arrow:{transform:`translate(${this.arrowTranslateX}px, ${this.arrowTranslateY}px)`}})}get classes(){let t=super.classes;return t.root["ui5-popover-root"]=!0,t}get _displayHeader(){return!!(this.header.length||this.headerText)}get _displayFooter(){return!0}get isRtl(){return this.effectiveDir==="rtl"}get _actualHorizontalAlign(){switch(this.horizontalAlign){case O.Start:return this.isRtl?m.Right:m.Left;case O.End:return this.isRtl?m.Left:m.Right;case O.Stretch:return m.Stretch;case O.Center:default:return m.Center}}};d([f()],p.prototype,"headerText",void 0);d([f()],p.prototype,"placement",void 0);d([f()],p.prototype,"horizontalAlign",void 0);d([f()],p.prototype,"verticalAlign",void 0);d([f({type:Boolean})],p.prototype,"modal",void 0);d([f({type:Boolean})],p.prototype,"hideArrow",void 0);d([f({type:Boolean})],p.prototype,"allowTargetOverlap",void 0);d([f({type:Number,noAttribute:!0})],p.prototype,"arrowTranslateX",void 0);d([f({type:Number,noAttribute:!0})],p.prototype,"arrowTranslateY",void 0);d([f()],p.prototype,"actualPlacement",void 0);d([f({type:Number,noAttribute:!0})],p.prototype,"_maxHeight",void 0);d([f({type:Number,noAttribute:!0})],p.prototype,"_maxWidth",void 0);d([L({type:HTMLElement})],p.prototype,"header",void 0);d([L({type:HTMLElement})],p.prototype,"footer",void 0);d([f({converter:z})],p.prototype,"opener",null);p=h=d([F({tag:"ui5-popover",styles:[H.styles,Q,st],template:k})],p);var nt=i=>"opener"in i;p.define();var ne=p;export{k as a,z as b,ne as c};
