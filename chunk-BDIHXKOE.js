import{a as gt}from"./chunk-EZDE2HNC.js";import"./chunk-6N6G2W3X.js";import{e as Vo,f as Bo,g as Lo,h as wt,j as Ro,l as Wo,m as Uo}from"./chunk-EO2NFZZ4.js";import{b as zo,c as Oo,d as jo,e as Go}from"./chunk-H73MBGOJ.js";import{a as Qo,b as Ho}from"./chunk-O3LEPBVR.js";import{a as Ae}from"./chunk-TMTA52QU.js";import{b as vt,c as Ge}from"./chunk-W6WDTMYI.js";import{Ea as ve,Fa as Oe,Ie as Mo,Je as ko,Ke as Io,Lc as To,Le as Po,Mb as mt,Mc as Fo,fb as Lt,gc as qe,h as lt,ka as Ze,kc as _t,ne as Eo,oe as ut,pe as Do,qa as Co,qe as No,sb as So,tc as xo,uc as yo,vc as Ke,wa as bo,ya as ze}from"./chunk-TAFSRIM4.js";import{c as vo,d as wo,e as go,h as ho,t as Bt}from"./chunk-FF6RGUNA.js";import{V as J,ma as ft,ra as Ao,sa as je,ya as ct}from"./chunk-YMOCEM3U.js";import{$b as L,$d as po,$g as mo,A as et,Aa as tt,Ba as B,Be as nt,C as Mt,Cb as g,Eb as f,F as kt,Fb as oo,Fd as ke,Ff as Ie,Fg as fo,Ga as he,Gb as ao,Gc as Me,Hc as ro,Jc as it,Ka as p,Kb as io,La as R,Lb as Q,M as It,Mb as j,Mf as so,Nb as G,Ng as Pe,O as Ee,Og as Ve,Oh as rt,P as Zt,Rb as U,Sb as c,Sg as be,Tb as z,Ub as b,Ud as O,Ug as co,Uh as ee,V as Pt,Vb as Ce,W as qt,Xb as S,Yb as x,Z as Kt,Zb as y,Zg as Be,Zh as te,_b as no,_g as Le,a as $,aa as Yt,ac as ue,b as re,ba as Jt,bc as pe,cc as lo,ch as _o,db as C,eb as _e,fh as Re,gb as u,gi as dt,h as we,hb as M,hi as pt,ib as H,ii as st,ja as V,jc as w,k as Qt,ka as Xt,kc as h,kh as We,la as $t,lc as Ne,nb as Vt,ob as v,oi as oe,pa as De,pc as ne,ph as Ue,qa as m,qb as de,ra as _,rb as K,rh as uo,sa as eo,sb as Y,tb as r,tc as se,ub as s,vb as k,w as ge,wa as to,wb as ot,xb as at,yd as Z,z as Ht,zb as A}from"./chunk-FQFR4TK3.js";function ae(o){return o.status==="approved"}function ht(o){return o.status!=="not started"}function Zo(o){return o?.name}function Ct(o){return o?.name}function qo(o){return o?.id}function bt(o,l){return o.name.toLowerCase().indexOf(l.toLowerCase())>-1}function fe(o,l){return l?.id??o}function Te(o){return o.columns.reduce((l,e)=>l.concat(e.nodes),[])}function Ko(o,l){return l.filter(e=>Fe(e,o.id))}function At(){return{id:`blankId${(Math.random()*1e3).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",blank:!0}}function Yo(){return{id:`spaceId${(Math.random()*1e3).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",space:!0}}function Fe(o,l){return o.targets.includes(l)}function Xo(o){let l={columns:[],errors:!1};if(!o.length)return l;let e=fa(o),a=ca(o);if(!e.length||!a.length)return console.warn("Err: Not possible to build graph because root or final nodes aren't present!"),l.errors=!0,l;let t=ma(e,o);if(!t.length)return console.warn("Err: Not possible to build graph!"),l.errors=!0,l;let i=_a(t),d=ua(i),n=wa(d),T=ga(n),I=ha(T),W=Ca(I),q=ba(W),P=Aa(q);return l.columns=xa(P),l}function $o(o){let l=Te(o),e={};return o.columns.forEach((a,t)=>{a.nodes.forEach((i,d)=>{let n=Ko(i,l),T=n.length?n.every(ye=>ae(ye)):!1,I=!n.length&&!i.space,W=!i.targets.length&&!i.space,q=n.length>1,P=t===0&&a.nodes.length>1&&d===0,xe=t===o.columns.length-1&&a.nodes.length>1&&d===0;e[i.id]={parents:n,isRoot:I,isFinal:W,parallelStart:i.targets.length>1,parallelEnd:q,columnIndex:t,nodeIndex:d,canAddNodeBefore:!ht(i)&&!T,canAddNodeBeforeAll:I&&P,canAddNodeAfter:!ae(i),canAddNodeAfterAll:!ae(i)&&(W&&xe||q&&i.blank),canAddParallel:!ae(i),isVerticalLineBeforeSolid:i.space&&o.columns[t-1]?.allNodesApproved,isVerticalLineAfterSolid:i.space&&a.allNodesApproved,firstOfMultipleRootNodes:P,firstOfMultipleFinalNodes:xe,rootNodesApproved:t===0&&a.allNodesApproved}})}),o.columns.forEach(a=>{a.nodes.forEach((t,i)=>{let d=e[t.id];d.isLastInParallel=e[t.targets[0]]?.parallelEnd,d.isFirstInParallel=e[d.parents[0]?.id]?.parallelStart;let n=a.index,T=n?o.columns[n-1]:void 0,I=n?o.columns[n+1]:void 0,W=T?.nodes[i],q=I?.nodes[i];d.renderAddNodeAfterButton=d.canAddNodeAfter&&(d.isFinal||d.parallelStart||d.isLastInParallel||q?.blank);let P=I?.nodes;if(d.parallelStart&&P){let ye=P.filter(me=>t.targets.includes(me.id)),Nt=P.findIndex(me=>me.id===ye[0].id),ce=P.findIndex(me=>me.id===ye[ye.length-1].id);for(let me=Nt+1;me<=ce;me++)e[P[me].id].renderVerticalLineBefore=!0}let xe=T?.nodes;if(d.parallelEnd&&xe){let ye=xe.findIndex(ce=>ce.id===d.parents[0].id),Nt=xe.findIndex(ce=>ce.id===d.parents[d.parents.length-1].id);for(let ce=ye+1;ce<=Nt;ce++)e[xe[ce].id].renderVerticalLineAfter=!0}d.renderVerticalLineBefore=d.renderVerticalLineBefore?!0:i>0&&!W,d.renderVerticalLineAfter=d.renderVerticalLineAfter?!0:i>0&&!q})}),e}function fa(o){return o.filter(l=>o.every(e=>!Fe(e,l.id)))}function ca(o){return o.filter(l=>!l.targets.length)}function ma(o,l){let e=[],a=[];for(let t=0;t<o.length;t++)for(a.push([o[t]]);a.length;){let i=a.pop(),d;if(i&&(d=i[i.length-1]),!d)return[];d.targets.length?d.targets.forEach(n=>{let T=l.find(W=>W.id===n);if(!T)return;let I=[...i,T];a.push(I)}):e.push(i)}return e}function _a(o){let l=[];return o.forEach(e=>{let a=e.length-1;for(let t=e.length-1;t>0&&e[t].blank;--t)a=t-1;e[a].targets=[],l.push(e.slice(0,a+1))}),l}function ua(o){let l=[],e=o.map(t=>t.length),a=Math.max(...e);return o.forEach(t=>{if(t.length===a){l.push(t);return}t.forEach((i,d)=>{let n=va(i,l);if(n.length&&n[0].id!==t[d+1]?.id){t.splice(d+1,0,...n);return}let T=o.map(W=>W.indexOf(i)),I=Math.max(...T);if(d<I){n=Jo(I-d,t[d-1].status),n[n.length-1].targets=[i.id],t[d-1].targets=[n[0].id],t.splice(d,0,...n);return}if(d===I&&d===t.length-1){n=Jo(a-t.length,t[d].status),t[d].targets=[n[0].id],t.splice(d+1,0,...n);return}}),l.push(t)}),l}function va(o,l){let e=[],a=l.find(t=>{let i=t.indexOf(o);return i>-1&&t[i+1]?.blank});if(a){let t=a.indexOf(o)+1,i=a.findIndex((d,n)=>n>t&&!d.blank);e.push(...a.slice(t,i>0?i:void 0))}return e}function Jo(o,l){let e=[],a,t;for(let i=o;i>0;i--)a=Object.assign({},At(),{targets:t?[t]:[],status:l}),t=a.id,e.unshift(a);return e}function wa(o){if(o.length===1)return o;let l=[],e=0;o.forEach((i,d)=>{for(let n=0;n<o.length;n++)if(d!==n&&!l.some(T=>d===T[1]&&n===T[0])){e=0;for(let T=0;T<i.length;T++)i[T].id===o[n][T].id&&e++;l.push([d,n,e])}}),l=l.sort((i,d)=>i[2]>d[2]?-1:1);let a=[],t=[];return l.forEach(i=>{a.some(d=>d===i[0])||(t.push(o[i[0]]),a.push(i[0])),a.some(d=>d===i[1])||(t.push(o[i[1]]),a.push(i[1]))}),t}function ga(o){let l=[];return o.forEach((e,a)=>{e.forEach(t=>{o.forEach((i,d)=>{d!==a&&i.indexOf(t)>-1&&i.splice(i.indexOf(t),1,Yo())})}),l.push(e)}),l}function ha(o){return o.reduce((l,e)=>(e.every(a=>a.space)||l.push(e),l),[])}function Ca(o){let l=[],e=[];for(let a=0;a<o[0].length;a++){e=[];for(let t=0;t<o.length;t++)e.push(o[t][a]);l.push(e)}return l}function ba(o){let l=[];return o.forEach(e=>{let a;for(let t=e.length-1;t>=0;t--)if(!e[t].space){a=t;break}a<e.length?l.push(e.slice(0,a+1)):l.push(e)}),l}function Aa(o){let l=[];return o.forEach(e=>{e.every(t=>t.blank||t.space)?e.forEach(t=>{t.blank&&Sa(t.id,t.targets,o)}):l.push(e)}),l}function Sa(o,l,e){e.forEach(a=>{a.forEach(t=>{Fe(t,o)&&(t.targets=t.targets.filter(i=>i!==o),t.targets.push(...l))})})}function xa(o){let l=[];return o.forEach((e,a)=>{e.forEach(t=>t.colIndex=a),l.push({nodes:e,index:a,allNodesApproved:e.every(t=>ae(t))})}),l}var ya=o=>({image:"",ariaLabel:o});function Ta(o,l){if(o&1){let e=A();r(0,"div",1)(1,"fd-radio-button",2),y("ngModelChange",function(t){m(e);let i=f();return x(i.selectedTeamId,t)||(i.selectedTeamId=t),_(t)}),g("click",function(){let t=m(e).$implicit,i=f();return _(i.onTeamRadioClick.emit(t))}),s(),r(2,"fdp-standard-list-item",3),g("click",function(){let t=m(e).$implicit,i=f();return _(i._showTeamDetails(t))}),s(),k(3,"fd-icon",4),s()}if(o&2){let e=l.$implicit,a=l.$index,t=f();p(),u("value",e.id)("name","team-radio"+a),S("ngModel",t.selectedTeamId),_e("id","team-radio"+a),p(),u("avatar",pe(9,ya,e.name))("description",e.description||e.members.length+" members")("title",e.name),_e("id","approval-team-"+e.id),p(),u("glyph","navigation-"+(t.isRtl?"left":"right")+"-arrow")}}var St=(()=>{class o{constructor(){this.teams=[],this.isRtl=!1,this.onTeamClick=new B,this.onTeamRadioClick=new B,this._trackByFn=fe}_showTeamDetails(e){this.onTeamClick.emit(e)}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=V({type:o,selectors:[["fdp-approval-flow-team-list"]],hostAttrs:[1,"fdp-approval-flow-team-list"],inputs:{teams:"teams",isRtl:"isRtl",selectedTeamId:"selectedTeamId"},outputs:{onTeamClick:"onTeamClick",onTeamRadioClick:"onTeamRadioClick"},standalone:!0,features:[L],decls:4,vars:1,consts:[["fdCompact","",3,"hasByLine"],["fd-form-item",""],[3,"ngModelChange","click","value","name","ngModel"],[3,"click","avatar","description","title"],[3,"glyph"]],template:function(a,t){a&1&&(r(0,"fdp-list",0)(1,"fd-form-group"),K(2,Ta,4,11,"div",1,t._trackByFn,!0),s()()),a&2&&(u("hasByLine",!0),p(2),Y(t.teams))},dependencies:[qe,Z,ft,je,mt,oe,ee,te,Ke,be],styles:[`.fdp-approval-flow-team-list .fd-form-item{position:relative;margin-bottom:0}.fdp-approval-flow-team-list .fd-form-item fd-radio-button{position:absolute;z-index:1;top:1.4rem}.fdp-approval-flow-team-list .fd-form-item .fd-list__item{padding-left:2rem!important;cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-icon{position:absolute;right:1rem;top:2rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-avatar{color:#fff;color:var(--sapBaseColor, #fff)}[dir=rtl] .fdp-approval-flow-team-list .fd-form-item fd-icon,.fdp-approval-flow-team-list[dir=rtl] .fd-form-item fd-icon{right:auto;left:1rem}[dir=rtl] .fdp-approval-flow-team-list .fd-list__item,.fdp-approval-flow-team-list[dir=rtl] .fd-list__item{padding-right:2rem!important;padding-left:0!important}
`],encapsulation:2,changeDetection:0})}}return o})();var Fa=o=>({data:o});function Ea(o,l){}function Da(o,l){if(o&1&&(C(0,Ea,0,0,"ng-template",4),w(1,"async")),o&2){let e=f();u("ngTemplateOutlet",e.detailsTemplate)("ngTemplateOutletContext",pe(4,Fa,h(1,2,e.details)))}}var xt=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=V({type:o,selectors:[["fdp-approval-flow-user-details"]],hostAttrs:[1,"fdp-approval-flow-user-details"],inputs:{user:"user",details:"details",detailsTemplate:"detailsTemplate"},standalone:!0,features:[L],decls:8,vars:4,consts:[[1,"fdp-approval-flow-user-details__user-info"],["size","s",3,"image"],[1,"fdp-approval-flow-user-details__name"],[1,"fdp-approval-flow-user-details__description"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(a,t){a&1&&(r(0,"div",0),k(1,"fd-avatar",1),r(2,"div")(3,"div",2),c(4),s(),r(5,"div",3),c(6),s()()(),C(7,Da,2,6,null,4)),a&2&&(p(),u("image",t.user.imgUrl),p(3),z(t.user.name),p(2),z(t.user.description),p(),v(t.detailsTemplate?7:-1))},dependencies:[_t,Me,ro],styles:[`.fdp-approval-flow-user-details__user-info{display:flex;align-items:center;margin-bottom:1rem}.fdp-approval-flow-user-details__name{font-size:1rem}.fdp-approval-flow-user-details__description{color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70)}
`],encapsulation:2,changeDetection:0})}}return o})();var Na=o=>({count:o}),Ma=(o,l)=>({image:o,ariaLabel:l});function ka(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.userListSelectedItemsCountSingular")," ")}function Ia(o,l){if(o&1&&(c(0),w(1,"fdTranslate")),o&2){let e=f(2);b(" ",Ne(1,1,"platformApprovalFlow.userListSelectedItemsCountPlural",pe(4,Na,e._selectedItems.length))," ")}}function Pa(o,l){if(o&1&&(r(0,"div",0),C(1,ka,2,3)(2,Ia,2,6),s()),o&2){let e=f();p(),v(e._selectedItems.length===1?1:2)}}function Va(o,l){if(o&1){let e=A();r(0,"fdp-standard-list-item",3),g("click",function(t){let i=m(e).$implicit,d=f();return t.stopPropagation(),_(d.onUserClick.emit(i))}),s()}if(o&2){let e=l.$implicit,a=f();u("avatar",lo(5,Ma,e.imgUrl,e.name))("description",e.description)("ariaLabel",e.name)("title",e.name),_e("id",a._idPrefix+e.id)}}var ea=100,Ba=10,He=(()=>{class o{constructor(e){this._cdr=e,this.users=[],this.selectedUsers=[],this.isSelectable=!0,this.onUserClick=new B,this.onSelectionChange=new B,this._selectedItems=[],this._idPrefix="approval-node-user-",this._trackByFn=fe,this._displayUsers=[]}ngAfterViewInit(){if(this.selectedUsers.length){let e=this.selectedUsers.map(a=>a.name);this._selectedItems=this.listItems.filter(a=>!!a.avatar?.ariaLabel&&e.includes(a.avatar.ariaLabel)),this._selectedItems.forEach(a=>{a._selected=!0,this.list._selectItem(a)}),this._cdr.detectChanges()}}ngOnChanges(e){e.users&&this._collectDataProgressive()}ngOnDestroy(){this._killInterval()}_onSelect(e){this._selectedItems=e.selectedItems,this.onSelectionChange.emit(this._getUsersFromSelectedItems(e.selectedItems))}_getUsersFromSelectedItems(e){return e.map(a=>this.users.find(t=>`${this._idPrefix+t.id}`===a.itemEl.nativeElement.id)).filter(a=>!!a)}_collectDataProgressive(){if(this._killInterval(),this._displayUsers=[],!this.users?.length)return;let e={currentIndex:0};this._userCollectorIntervalFn(e),this._intervalID=window.setInterval(this._userCollectorIntervalFn.bind(this),Ba,e)}_userCollectorIntervalFn(e){let a=e.currentIndex+ea,t=[];for(let i=e.currentIndex;i<=a;i++){if(i>=this.users.length){this._killInterval();break}t.push(this.users[i])}e.currentIndex+=ea,this._displayUsers.push(...t),this._cdr.markForCheck()}_killInterval(){this._intervalID&&clearInterval(this._intervalID)}static{this.\u0275fac=function(a){return new(a||o)(R(se))}}static{this.\u0275cmp=V({type:o,selectors:[["fdp-approval-flow-user-list"]],viewQuery:function(a,t){if(a&1&&(Q(qe,5),Q(Ke,5)),a&2){let i;j(i=G())&&(t.list=i.first),j(i=G())&&(t.listItems=i)}},hostAttrs:[1,"fdp-approval-flow-user-list"],inputs:{users:"users",selectedUsers:"selectedUsers",isSelectable:"isSelectable"},outputs:{onUserClick:"onUserClick",onSelectionChange:"onSelectionChange"},standalone:!0,features:[De,L],decls:4,vars:7,consts:[[1,"fdp-approval-flow-user-list__selected-count"],[3,"ngModelChange","selectedItemChange","selectionMode","selection","navigationIndicator","hasByLine","ngModel","selectedItems"],[3,"avatar","description","ariaLabel","title"],[3,"click","avatar","description","ariaLabel","title"]],template:function(a,t){a&1&&(C(0,Pa,3,1,"div",0),r(1,"fdp-list",1),y("ngModelChange",function(d){return x(t._selectedItems,d)||(t._selectedItems=d),d}),g("selectedItemChange",function(d){return t._onSelect(d)}),K(2,Va,1,8,"fdp-standard-list-item",2,t._trackByFn,!0),s()),a&2&&(v(t._selectedItems.length?0:-1),p(),u("selectionMode",t.isSelectable?"multi":"none")("selection",t.isSelectable)("navigationIndicator",!0)("hasByLine",!0),S("ngModel",t._selectedItems),u("selectedItems",t._selectedItems),p(),Y(t._displayUsers))},dependencies:[qe,oe,ee,te,Ke,J],styles:[`.fdp-approval-flow-user-list{display:block;margin-top:-1rem}.fdp-approval-flow-user-list__selected-count{line-height:2rem;margin:0 -1rem;padding:0 1rem;background:#f2f2f2;background:var(--sapList_HeaderBackground, #f2f2f2)}
`],encapsulation:2,changeDetection:0})}}return o})();var ie=function(o){return o.SELECT_TEAM="SELECT_TEAM",o.SELECT_USER="SELECT_USER",o.VIEW_TEAM_MEMBERS="VIEW_TEAM_MEMBERS",o.USER_DETAILS="USER_DETAILS",o}(ie||{}),yt=(()=>{class o{constructor(){this.onViewChange=new B}get isUserDetailsMode(){return this.currentView===ie.USER_DETAILS}get isTeamMembersMode(){return this.currentView===ie.VIEW_TEAM_MEMBERS}get isSelectUserMode(){return this.currentView===ie.SELECT_USER}get isSelectTeamMode(){return this.currentView===ie.SELECT_TEAM}get team(){return this.selectedTeam}setCurrentView(e){this.currentView=e,this.onViewChange.emit()}resetView(){this.currentView=void 0,this.onViewChange.emit()}selectTeam(e){this.selectedTeam=e}resetTeam(){this.selectedTeam=void 0}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275prov=Yt({token:o,factory:o.\u0275fac})}}return o})();var Ra=()=>[];function Wa(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.addNodeDialogHeaderAddApprovers")," ")}function Ua(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.addNodeDialogHeaderEditApprover")," ")}function za(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.addNodeDialogHeaderAddApproverTeam")," ")}function Oa(o,l){if(o&1){let e=A();r(0,"fd-icon",3),g("click",function(){m(e);let t=f(2);return _(t._exitTeamMembersMode())}),s(),c(1)}if(o&2){let e,a=f(2);u("glyph",a._headerArrowGlyph),p(),Ce(" ",(e=a.viewService.team==null?null:a.viewService.team.name)!==null&&e!==void 0?e:""," (",(e=a.viewService.team==null||a.viewService.team.members==null?null:a.viewService.team.members.length)!==null&&e!==void 0?e:0,") ")}}function ja(o,l){if(o&1){let e=A();r(0,"fd-icon",3),g("click",function(){m(e);let t=f(2);return _(t._exitUserDetailsMode())}),s(),c(1),w(2,"fdTranslate")}if(o&2){let e=f(2);u("glyph",e._headerArrowGlyph),p(),b(" ",h(2,2,"platformApprovalFlow.addNodeDialogHeaderDetail")," ")}}function Ga(o,l){if(o&1){let e=A();r(0,"fdp-search-field",4),w(1,"fdTranslate"),g("inputChange",function(t){m(e);let i=f(2);return _(i._onSearchStringChange(t.text))}),s()}o&2&&u("placeholder",h(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",ue(4,Ra))}function Qa(o,l){if(o&1&&(r(0,"p"),C(1,Wa,2,3)(2,Ua,2,3)(3,za,2,3)(4,Oa,2,3)(5,ja,3,4),s(),C(6,Ga,2,5,"fdp-search-field",2)),o&2){let e=f();p(),v(!e._selectMode&&!e._data.isEdit?1:-1),p(),v(!e._selectMode&&e._data.isEdit?2:-1),p(),v(e.viewService.isSelectUserMode||e.viewService.isSelectTeamMode?3:-1),p(),v(e.viewService.isTeamMembersMode?4:-1),p(),v(e.viewService.isUserDetailsMode?5:-1),p(),v(e._selectMode&&!e._userToShowDetails?6:-1)}}function Ha(o,l){if(o&1&&(r(0,"li",9),c(1),w(2,"fdTranslate"),s()),o&2){let e=f().$implicit;u("value",e),p(),b(" ",h(2,2,"platformApprovalFlow.addNodeDialogNodeTypeSerial")," ")}}function Za(o,l){if(o&1&&(r(0,"li",9),c(1),w(2,"fdTranslate"),s()),o&2){let e=f().$implicit;u("value",e),p(),b(" ",h(2,2,"platformApprovalFlow.addNodeDialogNodeTypeParallel")," ")}}function qa(o,l){if(o&1&&C(0,Ha,3,4,"li",9)(1,Za,3,4,"li",9),o&2){let e,a=l.$implicit,t=f(3);v((e=a)===t._nodeTypes.SERIAL?0:e===t._nodeTypes.PARALLEL?1:-1)}}function Ka(o,l){if(o&1){let e=A();r(0,"div",5)(1,"label",6),c(2),w(3,"fdTranslate"),s(),r(4,"fd-select",7),y("valueChange",function(t){m(e);let i=f(2);return x(i._nodeType,t)||(i._nodeType=t),_(t)}),K(5,qa,2,1,null,null,de),s()()}if(o&2){let e=f(2);p(2),b(" ",h(3,2,"platformApprovalFlow.addNodeDialogNodeType")," "),p(2),S("value",e._nodeType),p(),Y(e._nodeTypesArray)}}function Ya(o,l){if(o&1&&(r(0,"li",9),c(1),w(2,"fdTranslate"),s()),o&2){let e=f().$implicit;u("value",e),p(),b(" ",h(2,2,"platformApprovalFlow.addNodeDialogApproverTypeUser")," ")}}function Ja(o,l){if(o&1&&(r(0,"li",9),c(1),w(2,"fdTranslate"),s()),o&2){let e=f().$implicit;u("value",e),p(),b(" ",h(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamAnyone")," ")}}function Xa(o,l){if(o&1&&(r(0,"li",9),c(1),w(2,"fdTranslate"),s()),o&2){let e=f().$implicit;u("value",e),p(),b(" ",h(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamEveryone")," ")}}function $a(o,l){if(o&1&&C(0,Ya,3,4,"li",9)(1,Ja,3,4,"li",9)(2,Xa,3,4,"li",9),o&2){let e,a=l.$implicit,t=f(2);v((e=a)===t._approverTypes.SINGLE_USER?0:e===t._approverTypes.ANYONE?1:e===t._approverTypes.EVERYONE?2:-1)}}function ei(o,l){if(o&1){let e=A();r(0,"fd-multi-input",10),y("ngModelChange",function(t){m(e);let i=f(2);return x(i._selectedApprovers,t)||(i._selectedApprovers=t),_(t)}),g("openChange",function(){m(e);let t=f(2);return _(t._goToSelectMode())})("selectedChange",function(t){m(e);let i=f(2);return _(i._setSelectedApprovers(t))}),s()}if(o&2){let e=f(2);u("showAllButton",!1)("dropdownValues",e._selectedApprovers),S("ngModel",e._selectedApprovers),u("displayFn",e._displayUserFn)}}function ti(o,l){if(o&1){let e=A();r(0,"fd-multi-input",11),y("ngModelChange",function(t){m(e);let i=f(2);return x(i._selectedTeamArray,t)||(i._selectedTeamArray=t),_(t)}),g("openChange",function(){m(e);let t=f(2);return _(t._goToSelectMode())}),s()}if(o&2){let e=f(2);u("showAllButton",!1)("dropdownValues",e._selectedTeamArray),S("ngModel",e._selectedTeamArray),u("displayFn",e._displayTeamFn)}}function oi(o,l){if(o&1){let e=A();r(0,"div",5)(1,"fd-checkbox",12),y("ngModelChange",function(t){m(e);let i=f(2);return x(i._addToNextSerial,t)||(i._addToNextSerial=t),_(t)}),c(2),w(3,"fdTranslate"),s()()}if(o&2){let e=f(2);p(),S("ngModel",e._addToNextSerial),p(),b(" ",h(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}function ai(o,l){if(o&1){let e=A();r(0,"div",5)(1,"label",6),c(2),w(3,"fdTranslate"),s(),r(4,"fd-date-picker",13),y("ngModelChange",function(t){m(e);let i=f(2);return x(i._dueDate,t)||(i._dueDate=t),_(t)}),s()()}if(o&2){let e=f(2);p(2),z(h(3,3,"platformApprovalFlow.addNodeDialogDueDate")),p(2),u("state",e._dueDate?null:"error"),S("ngModel",e._dueDate)}}function ii(o,l){if(o&1){let e=A();C(0,Ka,7,4,"div",5),r(1,"div",5)(2,"label",6),c(3),w(4,"fdTranslate"),s(),r(5,"fd-select",7),y("valueChange",function(t){m(e);let i=f();return x(i._approverType,t)||(i._approverType=t),_(t)}),K(6,$a,3,1,null,null,de),s()(),r(8,"div",5)(9,"label",6),c(10),w(11,"fdTranslate"),s(),C(12,ei,1,4,"fd-multi-input",8)(13,ti,1,4,"fd-multi-input",8),s(),C(14,oi,4,4,"div",5)(15,ai,5,5,"div",5)}if(o&2){let e=f();v(e._data.showNodeTypeSelect?0:-1),p(3),b(" ",h(4,8,"platformApprovalFlow.addNodeDialogApproverType")," "),p(2),S("value",e._approverType),p(),Y(e._approverTypesArray),p(4),z(h(11,10,"platformApprovalFlow.addNodeDialogUserOrTeam")),p(2),v(e._isSingleUserMode?12:-1),p(),v(e._isSingleUserMode?-1:13),p(),v(e._nodeType===e._nodeTypes.PARALLEL?14:-1),p(),v(e._checkDueDate?15:-1)}}function ni(o,l){if(o&1){let e=A();r(0,"fdp-approval-flow-team-list",17),g("onTeamClick",function(t){m(e);let i=f(3);return _(i._viewTeamMembers(t))})("onTeamRadioClick",function(t){m(e);let i=f(3);return _(i._setSelectedTeam(t))}),s()}if(o&2){let e=f(3);u("isRtl",e._data.rtl)("teams",e._teams)("selectedTeamId",e._selectedTeam==null?null:e._selectedTeam.id)}}function li(o,l){o&1&&k(0,"fd-busy-indicator",16),o&2&&u("loading",!0)("block",!0)}function ri(o,l){if(o&1&&C(0,ni,1,3,"fdp-approval-flow-team-list",15)(1,li,1,2,"fd-busy-indicator",16),o&2){let e=f(2);v(e._data.teamDataSource.isDataLoading?1:0)}}function di(o,l){if(o&1){let e=A();r(0,"fdp-approval-flow-user-list",19),g("onUserClick",function(t){m(e);let i=f(3);return _(i._seeUserDetails(t))})("onSelectionChange",function(t){m(e);let i=f(3);return _(i._selectedApprovers=t)}),s()}if(o&2){let e=f(3);u("users",e.viewService.isSelectUserMode?e._approvers:e._filteredTeamMembers)("isSelectable",e.viewService.isSelectUserMode)("selectedUsers",e._selectedApprovers)}}function pi(o,l){o&1&&k(0,"fd-busy-indicator",16),o&2&&u("loading",!0)("block",!0)}function si(o,l){if(o&1&&C(0,di,1,3,"fdp-approval-flow-user-list",18)(1,pi,1,2,"fd-busy-indicator",16),o&2){let e=f(2);v(e.viewService.isSelectUserMode||!e._data.userDataSource.isDataLoading?0:1)}}function fi(o,l){if(o&1&&k(0,"fdp-approval-flow-user-details",14),o&2){let e=f(2);u("user",e._userToShowDetails)("detailsTemplate",e._data.userDetailsTemplate)("details",e._userToShowDetailsData$)}}function ci(o,l){if(o&1&&C(0,ri,2,1)(1,si,2,1)(2,fi,1,3,"fdp-approval-flow-user-details",14),o&2){let e=f();v(e.viewService.isSelectTeamMode?0:-1),p(),v(e.viewService.isSelectUserMode||e.viewService.isTeamMembersMode?1:-1),p(),v(e.viewService.isUserDetailsMode&&e._userToShowDetails?2:-1)}}function mi(o,l){if(o&1){let e=A();r(0,"fd-button-bar",20),w(1,"fdTranslate"),g("click",function(){m(e);let t=f();return _(t._submit())}),s(),r(2,"fd-button-bar",21),w(3,"fdTranslate"),g("click",function(){m(e);let t=f();return _(t.dialogRef.close())}),s()}if(o&2){let e=f();u("label",h(1,3,"platformApprovalFlow.addNodeAddActionBtnLabel"))("disabled",e._isMainSubmitButtonDisabled),p(2),u("label",h(3,5,"platformApprovalFlow.addNodeCancelActionBtnLabel"))}}function _i(o,l){if(o&1){let e=A();r(0,"fd-button-bar",20),w(1,"fdTranslate"),g("click",function(){m(e);let t=f(2);return _(t._confirmSelectedApprovers())}),s(),r(2,"fd-button-bar",21),w(3,"fdTranslate"),g("click",function(){m(e);let t=f(2);return _(t._exitSelectMode())}),s()}if(o&2){let e=f(2);u("label",h(1,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!e._selectedApprovers.length),p(2),u("label",h(3,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function ui(o,l){if(o&1){let e=A();r(0,"fd-button-bar",20),w(1,"fdTranslate"),g("click",function(){m(e);let t=f(2);return _(t._confirmSelectedTeam())}),s(),r(2,"fd-button-bar",21),w(3,"fdTranslate"),g("click",function(){m(e);let t=f(2);return _(t._exitSelectMode())}),s()}if(o&2){let e=f(2);u("label",h(1,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!e._selectedTeam&&!e.viewService.team),p(2),u("label",h(3,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function vi(o,l){if(o&1){let e=A();r(0,"fd-button-bar",21),w(1,"fdTranslate"),g("click",function(){m(e);let t=f(2);return _(t._exitTeamMembersMode())}),s()}o&2&&u("label",h(1,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel"))}function wi(o,l){if(o&1){let e=A();r(0,"fd-button-bar",21),w(1,"fdTranslate"),g("click",function(){m(e);let t=f(2);return _(t._exitUserDetailsMode())}),s()}o&2&&u("label",h(1,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel"))}function gi(o,l){if(o&1&&C(0,_i,4,7)(1,ui,4,7)(2,vi,2,3,"fd-button-bar",22)(3,wi,2,3,"fd-button-bar",22),o&2){let e=f();v(e.viewService.isSelectUserMode?0:-1),p(),v(e.viewService.isSelectTeamMode?1:-1),p(),v(e.viewService.isTeamMembersMode?2:-1),p(),v(e.viewService.isUserDetailsMode?3:-1)}}var le=function(o){return o.SERIAL="SERIAL",o.PARALLEL="PARALLEL",o}(le||{}),Ye=function(o){return o.SINGLE_USER="SINGLE_USER",o.ANYONE="ANYONE",o.EVERYONE="EVERYONE",o}(Ye||{}),Je=(()=>{class o{constructor(e,a,t){this.dialogRef=e,this.viewService=a,this._cdr=t,this._nodeType=le.SERIAL,this._nodeTypes=le,this._nodeTypesArray=Object.keys(le),this._approverType=Ye.SINGLE_USER,this._approverTypes=Ye,this._approverTypesArray=Object.keys(Ye),this._dueDate=Lt.getNow(),this._selectMode=!1,this._approvers=[],this._teams=[],this._selectedApprovers=[],this._selectedTeamArray=[],this._selectedTeamMembers=[],this._filteredTeamMembers=[],this._checkDueDate=!1,this._displayUserFn=Ct,this._displayTeamFn=Zo,this._trackByFn=fe,this._addToNextSerial=!1}get _data(){return this.dialogRef.data}get _isSingleUserMode(){return this._approverType===this._approverTypes.SINGLE_USER}get _isMainSubmitButtonDisabled(){return!(this._isSingleUserMode?this._selectedApprovers:this._selectedTeamArray).length||this._checkDueDate&&!this._dueDate}get _headerArrowGlyph(){return"navigation-"+(this._data.rtl?"right":"left")+"-arrow"}ngOnInit(){this._data.teamDataSource.match(),this._data.userDataSource.match();let e=this._data.teamDataSource.open(),a=this._data.userDataSource.open();switch(this._dataSourceSub=et([e,a]).subscribe(([t,i])=>{if(this._teams=t,this._approvers=i,this._data.isEdit){this._checkDueDate=!!this._data.checkDueDate,this._checkDueDate&&this._data.node?.dueDate&&(this._dueDate=Lt.getFdDateByDate(new Date(this._data.node.dueDate))),this._selectedApprovers=[...this._data.node?.approvers??[]];let d=this._data.node?.approvalTeamId&&this._teams.find(n=>n.id===this._data.node?.approvalTeamId);d&&(this.viewService.selectTeam(d),this._selectedTeam=d,this._selectedTeamArray=[d],this._approverType=this._data.node?.isEveryoneApprovalNeeded?this._approverTypes.EVERYONE:this._approverTypes.ANYONE)}this._cdr.detectChanges()}),this._viewChangeSub=this.viewService.onViewChange.subscribe(()=>{this._onSearchStringChange(""),this._cdr.detectChanges()}),this._data.nodeTarget){case"empty":case"before":case"after":this._nodeType=this._nodeTypes.SERIAL;break;case"parallel":this._nodeType=this._nodeTypes.PARALLEL;break}}ngOnDestroy(){this._viewChangeSub.unsubscribe(),this._dataSourceSub.unsubscribe(),this._data.userDataSource.close(),this._data.teamDataSource.close()}_goToSelectMode(){this._selectMode=!0,this.viewService.setCurrentView(this._isSingleUserMode?ie.SELECT_USER:ie.SELECT_TEAM),this._cdr.detectChanges()}_exitSelectMode(){this._selectedApprovers.length&&!this._data.node?.approvers.length&&(this._selectedApprovers=[]),!this._data.isEdit&&!this._data.node?.approvalTeamId&&this.viewService.resetTeam(),this._selectMode=!1,this.viewService.resetView(),this._cdr.detectChanges()}_setSelectedApprovers(e){this._selectedApprovers=e,this._confirmSelectedApprovers()}_confirmSelectedApprovers(){this._data.node&&(this._data.node.approvers=this._selectedApprovers,this._data.node.variousTeams=this._data.node.approvers.some(e=>e.teamId!==this._data.node.approvers[0].teamId),this._data.node.description=this._data.node.variousTeams?"":this._selectedApprovers[0]?.description,delete this._data.node.approvalTeamId,delete this._data.node.isEveryoneApprovalNeeded,this._exitSelectMode())}_setSelectedTeam(e){this.viewService.selectTeam(e)}_confirmSelectedTeam(){this.viewService.team&&(this._selectedTeam=this.viewService.team,this._selectedTeamArray=[this.viewService.team],this._data.node&&(this._data.node.variousTeams=!1,this._data.node.approvalTeamId=this.viewService.team.id,this._data.node.description=this.viewService.team.name,this._data.node.isEveryoneApprovalNeeded=this._approverType===Ye.EVERYONE),this._exitSelectMode())}_seeUserDetails(e){this.viewService.setCurrentView(ie.USER_DETAILS),this._userToShowDetails=e,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",e.id]])),this._cdr.detectChanges()}_exitUserDetailsMode(){this.viewService.setCurrentView(this.viewService.team?ie.VIEW_TEAM_MEMBERS:ie.SELECT_USER),this._userToShowDetails=void 0,this._userToShowDetailsData$=void 0,this._cdr.detectChanges()}_viewTeamMembers(e){this.viewService.selectTeam(e),this.viewService.setCurrentView(ie.VIEW_TEAM_MEMBERS),this._selectedTeamMembers=e.members,this._setFilteredTeamMembers(this._selectedTeamMembers),this._cdr.detectChanges()}_exitTeamMembersMode(){this.viewService.setCurrentView(ie.SELECT_TEAM),this.viewService.resetTeam(),this._selectedTeamMembers=[],this._cdr.detectChanges()}_submit(){this._data.node&&!this._isSingleUserMode&&this._selectedTeam&&(this._data.node.approvers=[...this._selectedTeam.members]),this._data.node&&this._checkDueDate&&(this._data.node.dueDate=this._dueDate.toDate()),this.dialogRef.close({node:this._data.node,nodeType:this._nodeType,toNextSerial:this._addToNextSerial})}_onSearchStringChange(e=""){let a=new Map([["query",e]]);this.viewService.isSelectUserMode?this._data.userDataSource.match(a):this.viewService.isSelectTeamMode?this._data.teamDataSource.match(a):this.viewService.isTeamMembersMode&&this._setFilteredTeamMembers(this._selectedTeamMembers.filter(t=>bt(t,e)))}_setFilteredTeamMembers(e){this._filteredTeamMembers=[...e],this._cdr.detectChanges()}static{this.\u0275fac=function(a){return new(a||o)(R(Pe),R(yt),R(se))}}static{this.\u0275cmp=V({type:o,selectors:[["fdp-approval-flow-add-node"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-add-node"],standalone:!0,features:[L],decls:9,vars:8,consts:[["fdCompact",""],["fdkTemplate","header"],[3,"placeholder","suggestions"],[3,"click","glyph"],[3,"inputChange","placeholder","suggestions"],["fd-form-item",""],["fd-form-label",""],[3,"valueChange","value"],[3,"showAllButton","dropdownValues","ngModel","displayFn"],["fd-option","",3,"value"],[3,"ngModelChange","openChange","selectedChange","showAllButton","dropdownValues","ngModel","displayFn"],[3,"ngModelChange","openChange","showAllButton","dropdownValues","ngModel","displayFn"],[3,"ngModelChange","ngModel"],["type","single",3,"ngModelChange","state","ngModel"],[3,"user","detailsTemplate","details"],[3,"isRtl","teams","selectedTeamId"],[3,"loading","block"],[3,"onTeamClick","onTeamRadioClick","isRtl","teams","selectedTeamId"],[3,"users","isSelectable","selectedUsers"],[3,"onUserClick","onSelectionChange","users","isSelectable","selectedUsers"],["fdType","emphasized",3,"click","label","disabled"],["fdkInitialFocus","","fdType","transparent",3,"click","label"],["fdkInitialFocus","","fdType","transparent",3,"label"]],template:function(a,t){a&1&&(r(0,"fd-dialog",0)(1,"fd-dialog-header"),C(2,Qa,7,6,"ng-template",1),s(),r(3,"fd-dialog-body"),C(4,ii,16,12)(5,ci,3,3),s(),r(6,"fd-dialog-footer"),C(7,mi,4,7)(8,gi,4,4),s()()),a&2&&(p(),H("show-search",t._selectMode&&!t._userToShowDetails),p(2),H("fd-dialog__body--auto-height",t.viewService.isUserDetailsMode),p(),v(t._selectMode?-1:4),p(),v(t._selectMode?5:-1),p(2),v(t._selectMode?-1:7),p(),v(t._selectMode?8:-1))},dependencies:[Ue,Z,We,Ie,be,gt,Ve,je,Ao,Fo,To,Ae,oe,ee,te,ct,So,St,He,xt,Re,Le,fo,J],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`,`.fdp-approval-flow-add-node .fd-dialog__body{width:20rem;height:27rem}.fdp-approval-flow-add-node .fd-dialog__body--auto-height{height:auto}
`],encapsulation:2,changeDetection:0})}}return o})();var hi=()=>[];function Ci(o,l){if(o&1){let e=A();r(0,"fd-icon",8),g("click",function(){m(e);let t=f(2);return _(t._exitUserDetailsMode())})("keyup.space",function(){m(e);let t=f(2);return _(t._exitUserDetailsMode())})("keyup.enter",function(){m(e);let t=f(2);return _(t._exitUserDetailsMode())}),s()}if(o&2){let e=f(2);u("glyph","navigation-"+(e._data.rtl?"right":"left")+"-arrow")}}function bi(o,l){if(o&1&&c(0),o&2){let e,a=f(2);Ce(" ",a._data.node==null?null:a._data.node.description," (",(e=a._data.node==null||a._data.node.approvers==null?null:a._data.node.approvers.length)!==null&&e!==void 0?e:0,") ")}}function Ai(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.userDetailsHeader")," ")}function Si(o,l){if(o&1){let e=A();r(0,"fdp-search-field",9),w(1,"fdTranslate"),g("inputChange",function(t){m(e);let i=f(2);return _(i._onSearchStringChange(t.text))}),s()}o&2&&u("placeholder",h(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",ue(4,hi))}function xi(o,l){if(o&1&&(r(0,"p"),C(1,Ci,1,1,"fd-icon",6)(2,bi,1,2)(3,Ai,2,3),s(),C(4,Si,2,5,"fdp-search-field",7)),o&2){let e=f();p(),v(e._userToShowDetails&&(e._data.node!=null&&e._data.node.approvers)&&e._data.node.approvers.length>1?1:-1),p(),v(e._isListMode&&!e._userToShowDetails?2:3),p(2),v(!e._userToShowDetails&&e._isListMode?4:-1)}}function yi(o,l){if(o&1&&k(0,"fdp-approval-flow-user-details",1),o&2){let e=f();u("user",e._userToShowDetails)("detailsTemplate",e._data.userDetailsTemplate)("details",e._userToShowDetailsData$)}}function Ti(o,l){if(o&1){let e=A();r(0,"fdp-approval-flow-user-list",10),g("onUserClick",function(t){m(e);let i=f();return _(i._seeUserDetails(t))})("onSelectionChange",function(t){m(e);let i=f();return _(i._selectedUsers=t)}),s()}if(o&2){let e=f();u("users",e._listItems)}}function Fi(o,l){if(o&1){let e=A();r(0,"fd-button-bar",11),w(1,"fdTranslate"),g("click",function(){m(e);let t=f();return _(t._sendReminder())}),s()}if(o&2){let e=f();u("label",h(1,2,"platformApprovalFlow.userDetailsSendReminderBtnLabel"))("disabled",!e._data.allowSendReminder||e._isListMode&&!e._selectedUsers.length)}}var Xe=(()=>{class o{constructor(e,a){this.dialogRef=e,this._cdr=a,this._isListMode=!1,this._listItems=[],this._selectedUsers=[]}get _data(){return this.dialogRef.data}ngOnInit(){if(this._isListMode=(this._data.node?.approvers.length??0)>1,this._isListMode)this._setListItems(this._data.node?.approvers??[]);else{let e=this._data.watcher||this._data.node?.approvers[0];e?this._seeUserDetails(e):this.dialogRef.close()}}_setListItems(e=[]){this._listItems=[...e],this._cdr.detectChanges()}_exitUserDetailsMode(){this._userToShowDetails=void 0,this._isListMode=!0}_seeUserDetails(e){this._userToShowDetails=e,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",e.id]])),this._isListMode=!1,this._selectedUsers=[],this._cdr.detectChanges()}_sendReminder(){let e=this._isListMode?this._selectedUsers:this._data.node?.approvers;this.dialogRef.close(e)}_onSearchStringChange(e){if(!e){this._setListItems(this._data.node?.approvers);return}this._setListItems(this._data.node?.approvers.filter(a=>bt(a,e)))}static{this.\u0275fac=function(a){return new(a||o)(R(Pe),R(se))}}static{this.\u0275cmp=V({type:o,selectors:[["fdp-approval-flow-approver-details"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-approver-details"],standalone:!0,features:[L],decls:10,vars:8,consts:[["fdkTemplate","header"],[3,"user","detailsTemplate","details"],[3,"users"],["fdCompact",""],["fdType","emphasized",3,"label","disabled"],["fdkInitialFocus","","fdType","transparent",3,"click","label"],["tabindex","0","role","button",3,"glyph"],["fdCompact","",3,"placeholder","suggestions"],["tabindex","0","role","button",3,"click","keyup.space","keyup.enter","glyph"],["fdCompact","",3,"inputChange","placeholder","suggestions"],[3,"onUserClick","onSelectionChange","users"],["fdType","emphasized",3,"click","label","disabled"]],template:function(a,t){a&1&&(r(0,"fd-dialog")(1,"fd-dialog-header"),C(2,xi,5,3,"ng-template",0),s(),r(3,"fd-dialog-body"),C(4,yi,1,3,"fdp-approval-flow-user-details",1)(5,Ti,1,1,"fdp-approval-flow-user-list",2),s(),r(6,"fd-dialog-footer",3),C(7,Fi,2,4,"fd-button-bar",4),r(8,"fd-button-bar",5),w(9,"fdTranslate"),g("click",function(){return t.dialogRef.close("Cancel")}),s()()()),a&2&&(p(),H("show-search",!t._userToShowDetails&&t._isListMode),p(3),v(t._userToShowDetails?4:-1),p(),v(t._isListMode?5:-1),p(2),v(t._isListMode||t._userToShowDetails&&(t._data.node==null||t._data.node.approvers==null?null:t._data.node.approvers.length)===1?7:-1),p(),u("label",h(9,6,"platformApprovalFlow.userDetailsCancelBtnLabel")))},dependencies:[Ue,We,Ie,be,gt,Z,Ve,xt,He,Re,Le,J],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`],encapsulation:2,changeDetection:0})}}return o})();function Ei(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.messagesApproverAddedSuccess")," ")}function Di(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.messagesTeamAddedSuccess")," ")}function Ni(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.messagesNodeEdited")," ")}function Mi(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.messagesNodeRemovedSingular")," ")}function ki(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.messagesNodeRemovedPlural")," ")}function Ii(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.messagesTeamRemoved")," ")}function Pi(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.messagesErrorBuildGraph")," ")}function Vi(o,l){if(o&1){let e=A();r(0,"a",3),g("click",function(t){m(e);let i=f().$index,d=f();return _(d._undoLastAction(i,t))})("keyup.enter",function(t){m(e);let i=f().$index,d=f();return _(d._undoLastAction(i,t))})("keyup.space",function(t){m(e);let i=f().$index,d=f();return _(d._undoLastAction(i,t))}),c(1),w(2,"fdTranslate"),s()}o&2&&(p(),b(" ",h(2,1,"platformApprovalFlow.messagesUndoAction")," "))}function Bi(o,l){if(o&1){let e=A();r(0,"fd-message-strip",1),g("onDismiss",function(){let t=m(e).$index,i=f();return _(i._dismissMessage(t))}),r(1,"bdi")(2,"span"),C(3,Ei,2,3)(4,Di,2,3)(5,Ni,2,3)(6,Mi,2,3)(7,ki,2,3)(8,Ii,2,3)(9,Pi,2,3),s(),C(10,Vi,3,3,"a",2),s()()}if(o&2){let e,a=l.$implicit,t=f();u("type",a.type==="error"?"error":"success")("dismissible",a.type!=="error"),p(3),v((e=a.type)==="approverAddSuccess"?3:e==="teamAddSuccess"?4:e==="nodeEdit"?5:e==="nodeRemove"?6:e==="nodesRemove"?7:e==="teamRemove"?8:e==="error"?9:-1),p(7),v(t.undoLastActionAvailable?10:-1)}}var ta=(()=>{class o{constructor(){this.messages=[],this.undoLastActionAvailable=!1,this.messagesChange=new B,this.undoLastAction=new B,this._trackByFn=fe}_dismissMessage(e){this.messages.splice(e,1)}_undoLastAction(e,a){a.preventDefault(),this._dismissMessage(e),this.undoLastAction.emit()}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=V({type:o,selectors:[["fdp-approval-flow-messages"]],hostAttrs:[1,"fdp-approval-flow-messages"],inputs:{messages:"messages",undoLastActionAvailable:"undoLastActionAvailable"},outputs:{messagesChange:"messagesChange",undoLastAction:"undoLastAction"},standalone:!0,features:[L],decls:2,vars:0,consts:[[1,"fdp-approval-flow-messages__item",3,"type","dismissible"],[1,"fdp-approval-flow-messages__item",3,"onDismiss","type","dismissible"],["href","#"],["href","#",3,"click","keyup.enter","keyup.space"]],template:function(a,t){a&1&&K(0,Bi,11,4,"fd-message-strip",0,de),a&2&&Y(t.messages)},dependencies:[lt,J],styles:[`.fdp-approval-flow-messages__item:not(:last-child){margin-bottom:1rem}
`],encapsulation:2,changeDetection:0})}}return o})();var Wt=(()=>{class o{constructor(e){this.elRef=e,this.active=!1}_checkIfNodeDraggedInDropZone(e){this.active=!1;let a=this.elRef.nativeElement.getBoundingClientRect();a.top+a.height>e.top&&a.left+a.width>e.left&&a.bottom-a.height<e.bottom&&a.right-a.width<e.right&&(this.active=!0)}static{this.\u0275fac=function(a){return new(a||o)(R(tt))}}static{this.\u0275dir=$t({type:o,selectors:[["","fdp-approval-flow-drop-zone",""]],inputs:{placement:"placement"},exportAs:["fdp-approval-flow-drop-zone"],standalone:!0})}}return o})();var Ri=["overflowMenuButton"],Wi=["nodeContent"],Ui=["*"],Ut=o=>({count:o}),zi=o=>({node:o}),Oi=()=>({placement:"before-all"}),ji=()=>({placement:"before"}),Gi=()=>({placement:"after"}),Qi=()=>({placement:"after-all"});function Hi(o,l){if(o&1&&k(0,"div",11),o&2){let e=f();H("fdp-approval-flow-node__vertical-line-before-solid",e._isVerticalLineBeforeSolid)}}function Zi(o,l){if(o&1&&k(0,"div",12),o&2){let e=f();H("fdp-approval-flow-node__vertical-line-after-solid",e._isVerticalLineAfterSolid)}}function qi(o,l){o&1&&k(0,"div",13)}function Ki(o,l){o&1&&k(0,"div",14)}function Yi(o,l){o&1&&k(0,"div",15)}function Ji(o,l){if(o&1&&(C(0,qi,1,0,"div",13)(1,Ki,1,0,"div",14)(2,Yi,1,0,"div",15),ao(3)),o&2){let e=f();v(e.renderArrow?0:-1),p(),v(e._isRoot&&(e.meta==null?null:e.meta.nodeIndex)===0?1:-1),p(),v(e._isFinal&&(e.meta==null?null:e.meta.nodeIndex)===0?2:-1)}}function Xi(o,l){if(o&1){let e=A();r(0,"button",17),w(1,"fdTranslate"),g("click",function(t){return m(e),_(t.stopPropagation())}),s()}if(o&2){let e=f(2),a=U(14);u("title",h(1,3,"platformApprovalFlow.nodeMenuButtonTitle"))("fdMenuTrigger",a)("disabled",e._isEditActionsAvailable)}}function $i(o,l){if(o&1&&C(0,Xi,2,5,"button",16),o&2){let e=f();v(e.node!=null&&e.node.disableActions?-1:0)}}function en(o,l){if(o&1&&c(0),o&2){let e=f(2);b(" ",e.node.approvers[0].name," ")}}function tn(o,l){if(o&1&&(c(0),w(1,"fdTranslate")),o&2){let e=f(2);b(" ",Ne(1,1,"platformApprovalFlow.nodeMembersCount",pe(4,Ut,e.node.approvers.length))," ")}}function on(o,l){if(o&1&&c(0),o&2){let e=f(2);b(" ",e.node.approvers.length>1?e.node.description:e.node.approvers.length?e.node.approvers[0].description:""," ")}}function an(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.nodeVariousTeams")," ")}function nn(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.nodeVariousTeams")," ")}function ln(o,l){}function rn(o,l){if(o&1&&C(0,ln,0,0,"ng-template",8),o&2){let e=f(5);u("ngTemplateOutlet",e.approvalStatusTemplate)("ngTemplateOutletContext",pe(2,zi,e.node))}}function dn(o,l){if(o&1&&C(0,rn,1,4,null,8),o&2){let e=f(4);v(e.approvalStatusTemplate?0:-1)}}function pn(o,l){if(o&1&&C(0,dn,1,1),o&2){let e=f(3);v(!e.checkDueDate||!e._showDueDateWarning?0:-1)}}function sn(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.statusApproved")," ")}function fn(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.statusRejected")," ")}function cn(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.statusInProgress")," ")}function mn(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.statusNotStarted")," ")}function _n(o,l){if(o&1&&C(0,sn,2,3)(1,fn,2,3)(2,cn,2,3)(3,mn,2,3),o&2){let e,a=f(4);v((e=a.node.status)==="approved"?0:e==="rejected"?1:e==="in progress"?2:e==="not started"?3:-1)}}function un(o,l){if(o&1&&C(0,_n,4,1),o&2){let e=f(3);v(!e.checkDueDate||!e._showDueDateWarning?0:-1)}}function vn(o,l){o&1&&(c(0),w(1,"fdTranslate")),o&2&&b(" ",h(1,1,"platformApprovalFlow.nodeStatusDueToday")," ")}function wn(o,l){if(o&1&&(c(0),w(1,"fdTranslate")),o&2){let e=f(4);b(" ",Ne(1,1,"platformApprovalFlow.nodeStatusDueInXDays",pe(4,Ut,e.dueDateThreshold-e._dueIn))," ")}}function gn(o,l){if(o&1&&(c(0),w(1,"fdTranslate")),o&2){let e=f(4);b(" ",Ne(1,1,"platformApprovalFlow.nodeStatusXDaysOverdue",pe(4,Ut,e._dueIn-e.dueDateThreshold))," ")}}function hn(o,l){if(o&1&&C(0,vn,2,3)(1,wn,2,6)(2,gn,2,6),o&2){let e=f(3);v(e._dueIn===e.dueDateThreshold?0:-1),p(),v(e._dueIn<e.dueDateThreshold?1:-1),p(),v(e._dueIn>e.dueDateThreshold?2:-1)}}function Cn(o,l){if(o&1&&C(0,pn,1,1)(1,un,1,1)(2,hn,3,3),o&2){let e=f(2);v(e.approvalStatusTemplate?0:1),p(2),v(e.checkDueDate&&e._showDueDateWarning?2:-1)}}function bn(o,l){if(o&1&&(r(0,"div",18)(1,"div",19),C(2,en,1,1)(3,tn,2,6),s(),r(4,"div",20),C(5,on,1,1)(6,an,2,3)(7,nn,2,3,"ng-template",null,4,ne),s(),r(9,"fdp-object-status",21),C(10,Cn,3,2,"ng-template",22),s()()),o&2){let e=f();p(),H("fdp-approval-flow-node__name--members-count",e.node.approvers.length>1),u("id",e.approvalFlowNodeId),p(),v(e.node.approvers.length===1?2:3),p(3),v(e.node.variousTeams?6:5),p(4),u("status",e._objectStatus)("inverted",!0)}}function An(o,l){}function Sn(o,l){if(o&1&&C(0,An,0,0,"ng-template",8),o&2){f();let e=U(12);u("ngTemplateOutlet",e)("ngTemplateOutletContext",ue(2,Oi))}}function xn(o,l){}function yn(o,l){if(o&1&&C(0,xn,0,0,"ng-template",8),o&2){f();let e=U(12);u("ngTemplateOutlet",e)("ngTemplateOutletContext",ue(2,ji))}}function Tn(o,l){}function Fn(o,l){if(o&1&&C(0,Tn,0,0,"ng-template",8),o&2){f();let e=U(12);u("ngTemplateOutlet",e)("ngTemplateOutletContext",ue(2,Gi))}}function En(o,l){}function Dn(o,l){if(o&1&&C(0,En,0,0,"ng-template",8),o&2){f();let e=U(12);u("ngTemplateOutlet",e)("ngTemplateOutletContext",ue(2,Qi))}}function Nn(o,l){if(o&1){let e=A();r(0,"button",25),w(1,"fdTranslate"),g("click",function(){m(e);let t=f().placement,i=f();return _(i.onAdd.emit(t))}),s()}if(o&2){let e=f().placement,a=U(2),t=f();M("visibility",a.active?"hidden":""),H("fdp-approval-flow-node__add--blank",t._blank)("fdp-approval-flow-node__add--before",!t._blank&&(e==="before"||e==="before-all"))("fdp-approval-flow-node__add--before-all",!t._blank&&e==="before-all")("fdp-approval-flow-node__add--after",!t._blank&&(e==="after"||e==="after-all"))("fdp-approval-flow-node__add--after-all",e==="after-all"),u("title",h(1,13,"platformApprovalFlow.addNodeButtonTitle"))}}function Mn(o,l){if(o&1&&(C(0,Nn,2,15,"button",23),k(1,"div",24,5)),o&2){let e=l.placement,a=U(2),t=f();v(t.node.status!=="approved"?0:-1),p(),H("fdp-approval-flow-node__drop-zone--active",a.active)("fdp-approval-flow-node__drop-zone--blank",t.isNextNodeBlank)("fdp-approval-flow-node__drop-zone--partial",t._dropZonePartial(e)),u("placement",e)}}function kn(o,l){if(o&1){let e=A();r(0,"li",26),g("click",function(){m(e);let t=f();return U(14).close(),_(t.onAdd.emit("before"))}),r(1,"div",27)(2,"span",28),c(3),w(4,"fdTranslate"),s()()()}o&2&&(p(3),z(h(4,1,"platformApprovalFlow.nodeActionAddApproversBefore")))}function In(o,l){if(o&1){let e=A();r(0,"li",26),g("click",function(){m(e);let t=f();return U(14).close(),_(t.onAdd.emit("after"))}),r(1,"div",27)(2,"span",28),c(3),w(4,"fdTranslate"),s()()()}o&2&&(p(3),z(h(4,1,"platformApprovalFlow.nodeActionAddApproversAfter")))}function Pn(o,l){if(o&1){let e=A();r(0,"li",26),g("click",function(){m(e);let t=f();return U(14).close(),_(t.onAdd.emit("parallel"))}),r(1,"div",27)(2,"span",28),c(3),w(4,"fdTranslate"),s()()()}o&2&&(p(3),z(h(4,1,"platformApprovalFlow.nodeActionAddApproversParallel")))}function Vn(o,l){if(o&1){let e=A();r(0,"li",26),g("click",function(){m(e);let t=f();return U(14).close(),_(t.onEdit.emit())}),r(1,"div",27)(2,"span",28),c(3),w(4,"fdTranslate"),s()()()}o&2&&(p(3),b(" ",h(4,1,"platformApprovalFlow.nodeActionEditApprover"),""))}function Bn(o,l){if(o&1){let e=A();r(0,"li",26),g("click",function(){m(e);let t=f();return U(14).close(),_(t.onDelete.emit())}),r(1,"div",27)(2,"span",28),c(3),w(4,"fdTranslate"),s()()()}o&2&&(p(3),b(" ",h(4,1,"platformApprovalFlow.nodeActionRemove"),""))}var Ln={approved:"positive",rejected:"negative","in progress":"informative","not started":""},oa=1e3*60*60*24,Rn=0,$e=(()=>{class o{get _blank(){return!!this.node?.blank}get _space(){return!!this.node?.space}get _isRoot(){return this.meta?.isRoot}get _isFinal(){return this.meta?.isFinal}get _renderLineBefore(){return!this.node?.blank}get _renderLineAfter(){return!this.node?.blank||this._isFinal}get _isApproved(){return this.node&&ae(this.node)}get _isParentApproved(){return this.meta?.parents?.length?this.meta.parents.every(e=>ae(e)):!!this.meta?.rootNodesApproved}get _isNodeSelected(){return this.isEdit&&this._isSelected}get _isParallelStart(){return!!this.meta?.parallelStart}get _isParallelEnd(){return!!this.meta?.parallelEnd}get _isFirstInParallel(){return!!this.meta?.isFirstInParallel}get _isLastInParallel(){return!!this.meta?.isLastInParallel}get _lastBlank(){return this._blank&&this.node.targets.length===0}get _isSelected(){return!!this.node.selected}constructor(e,a,t){this._elRef=e,this._cdr=a,this._rtlService=t,this.renderArrow=!1,this.checkDueDate=!1,this.dueDateThreshold=7,this.allNodesInColumnApproved=!1,this.onAdd=new B,this.onEdit=new B,this.onDelete=new B,this._showDueDateWarning=!1,this._dueIn=0,this.approvalFlowNodeId="fdp-approval-flow-node-"+Rn++,this._subscriptions=new we}get _nativeElement(){return this._elRef.nativeElement}get _isNotStarted(){return!ht(this.node)}get _isEditActionsAvailable(){return this.node.status==="approved"||this.node.status==="rejected"}get _activeDropZones(){return this._dropZones.filter(e=>e.active)}get _isAnyDropZoneActive(){return this._activeDropZones.length>0}get _isVerticalLineBeforeSolid(){return this.meta?.parents.length?this.meta.parents.every(e=>ae(e)):!!this.meta?.isVerticalLineBeforeSolid}get _isVerticalLineAfterSolid(){return this.node?.targets.length?this._isVerticalLineBeforeSolid&&this.allNodesInColumnApproved:!!this.meta?.isVerticalLineAfterSolid}get _showAddButton(){return this.isEdit&&!this._blank&&!this._space&&!this.node?.disableActions}get _showAfterAllAddButton(){return this.isEdit&&!this._space&&!this.node?.disableActions}_dropZonePartial(e){return!this._blank&&(!this.isNextNodeBlank||e==="before")||this._lastBlank&&e==="after-all"}ngOnInit(){this._checkNodeStatus(),this._subscriptions.add(this._rtlService?.rtl.subscribe(()=>this._cdr.markForCheck()))}ngOnChanges(){this._checkNodeStatus()}ngOnDestroy(){this._subscriptions.unsubscribe()}_onMenuOpen(){this._menu.refreshPosition()}_focus(e){this._gridListItem?.focus(e)}_deactivateDropZones(){this._dropZones.forEach(e=>e.active=!1),this._cdr.detectChanges()}_checkIfNodeDraggedInDropZone(e){this._dropZones.forEach(a=>a._checkIfNodeDraggedInDropZone(e)),this._cdr.detectChanges()}_checkNodeStatus(){if(this.node){if(this.checkDueDate&&this.node.dueDate){let e=Number(new Date(this.node.dueDate))-this.dueDateThreshold*oa,a=Date.now()-e;this._dueIn=Math.round(a/oa),this._showDueDateWarning=!ae(this.node)&&e<Date.now(),this._objectStatus=this._showDueDateWarning?"critical":this._getNodeStatusClass(),this._cdr.detectChanges();return}this._objectStatus=this._getNodeStatusClass(),this._cdr.detectChanges()}}_getNodeStatusClass(){return this.statusColorMapping?this.statusColorMapping[this.node.status]:Ln[this.node.status]}static{this.\u0275fac=function(a){return new(a||o)(R(tt),R(se),R(nt,8))}}static{this.\u0275cmp=V({type:o,selectors:[["fdp-approval-flow-node"]],contentQueries:function(a,t,i){if(a&1&&io(i,wt,5),a&2){let d;j(d=G())&&(t._gridListItem=d.first)}},viewQuery:function(a,t){if(a&1&&(Q(Bt,5),Q(Ri,5),Q(Wi,5),Q(Wt,5)),a&2){let i;j(i=G())&&(t._menu=i.first),j(i=G())&&(t._overflowMenuButton=i.first),j(i=G())&&(t._nodeContent=i.first),j(i=G())&&(t._dropZones=i)}},hostAttrs:[1,"fdp-approval-flow-node"],hostVars:36,hostBindings:function(a,t){a&2&&H("fdp-approval-flow-node--first-root",t.meta==null?null:t.meta.firstOfMultipleRootNodes)("fdp-approval-flow-node--first-final",t.meta==null?null:t.meta.firstOfMultipleFinalNodes)("fdp-approval-flow-node--edit-mode",t.isEdit)("fdp-approval-flow-node--next-blank",t.isNextNodeBlank)("fdp-approval-flow-node--blank",t._blank)("fdp-approval-flow-node--space",t._space)("fdp-approval-flow-node--root",t._isRoot)("fdp-approval-flow-node--final",t._isFinal)("fdp-approval-flow-node--line-before",t._renderLineBefore)("fdp-approval-flow-node--line-after",t._renderLineAfter)("fdp-approval-flow-node--approved",t._isApproved)("fdp-approval-flow-node--parent-approved",t._isParentApproved)("fdp-approval-flow-node--selected",t._isNodeSelected)("fdp-approval-flow-node--parallel-start",t._isParallelStart)("fdp-approval-flow-node--parallel-end",t._isParallelEnd)("fdp-approval-flow-node--first-in-parallel",t._isFirstInParallel)("fdp-approval-flow-node--last-in-parallel",t._isLastInParallel)("fdp-approval-flow-node--last-blank",t._lastBlank)},inputs:{node:"node",meta:"meta",renderArrow:"renderArrow",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allNodesInColumnApproved:"allNodesInColumnApproved",approvalStatusTemplate:"approvalStatusTemplate",statusColorMapping:"statusColorMapping",isEdit:"isEdit",isNextNodeBlank:"isNextNodeBlank"},outputs:{onAdd:"onAdd",onEdit:"onEdit",onDelete:"onDelete"},standalone:!0,features:[De,L],ngContentSelectors:Ui,decls:20,vars:12,consts:[["overflowMenuButton",""],["nodeContent",""],["addNodeButton",""],["menu",""],["variousTeams",""],["dropZone","fdp-approval-flow-drop-zone"],[1,"fdp-approval-flow-node__vertical-line-before",3,"fdp-approval-flow-node__vertical-line-before-solid"],[1,"fdp-approval-flow-node__vertical-line-after",3,"fdp-approval-flow-node__vertical-line-after-solid"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["fdContentDensity","","placement","bottom-end",3,"isOpenChange"],["fd-menu-item",""],[1,"fdp-approval-flow-node__vertical-line-before"],[1,"fdp-approval-flow-node__vertical-line-after"],[1,"fdp-approval-flow-node__arrow"],[1,"fdp-approval-flow-node__carousel-start-marker"],[1,"fdp-approval-flow-node__carousel-end-marker"],["fd-button","","fdType","transparent","tabindex","0","glyph","overflow","fdCompact","",1,"fdp-approval-flow-node__menu-button",3,"title","fdMenuTrigger","disabled"],["fd-button","","fdType","transparent","tabindex","0","glyph","overflow","fdCompact","",1,"fdp-approval-flow-node__menu-button",3,"click","title","fdMenuTrigger","disabled"],[1,"fdp-approval-flow-node__info"],[1,"fdp-approval-flow-node__name",3,"id"],[1,"fdp-approval-flow-node__description"],[3,"status","inverted"],["fdpObjectStatusText",""],["fd-button","","glyph","add","fdCompact","",1,"fdp-approval-flow-node__add",3,"title","fdp-approval-flow-node__add--blank","fdp-approval-flow-node__add--before","fdp-approval-flow-node__add--before-all","fdp-approval-flow-node__add--after","fdp-approval-flow-node__add--after-all","visibility"],["fdp-approval-flow-drop-zone","",1,"fdp-approval-flow-node__drop-zone",3,"placement"],["fd-button","","glyph","add","fdCompact","",1,"fdp-approval-flow-node__add",3,"click","title"],["fd-menu-item","",3,"click"],["fd-menu-interactive",""],["fd-menu-title",""]],template:function(a,t){if(a&1){let i=A();oo(),C(0,Hi,1,2,"div",6)(1,Zi,1,2,"div",7)(2,Ji,4,3)(3,$i,1,1,"ng-template",null,0,ne)(5,bn,11,7,"ng-template",null,1,ne)(7,Sn,1,3,null,8)(8,yn,1,3,null,8)(9,Fn,1,3,null,8)(10,Dn,1,3,null,8)(11,Mn,3,8,"ng-template",null,2,ne),r(13,"fd-menu",9,3),g("isOpenChange",function(){return m(i),_(t._onMenuOpen())}),C(15,kn,5,3,"li",10)(16,In,5,3,"li",10)(17,Pn,5,3,"li",10)(18,Vn,5,3,"li",10)(19,Bn,5,3,"li",10),s()}a&2&&(v(t.meta!=null&&t.meta.renderVerticalLineBefore?0:-1),p(),v(t.meta!=null&&t.meta.renderVerticalLineAfter?1:-1),p(),v(!t._blank&&!t._space?2:-1),p(5),v(t._showAddButton&&(t.meta!=null&&t.meta.canAddNodeBeforeAll)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddBefore)?7:-1),p(),v(t._showAddButton&&(t.meta!=null&&t.meta.canAddNodeBefore)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddBefore)?8:-1),p(),v(t._showAddButton&&(t.meta!=null&&t.meta.canAddNodeAfter)&&(t.meta!=null&&t.meta.renderAddNodeAfterButton)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddAfter)?9:-1),p(),v(t._showAfterAllAddButton&&(t.meta!=null&&t.meta.canAddNodeAfterAll)&&(t.meta!=null&&t.meta.renderAddNodeAfterButton)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddAfter)?10:-1),p(5),v(t.meta!=null&&t.meta.canAddNodeBefore&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddBefore)?15:-1),p(),v(t.meta!=null&&t.meta.canAddNodeAfter&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddAfter)?16:-1),p(),v(t.meta!=null&&t.meta.canAddParallel&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddParallel)?17:-1),p(),v(t._isNotStarted&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableEdit)?18:-1),p(),v(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableRemove?-1:19))},dependencies:[Be,Z,ho,yo,xo,Me,Wt,Bt,go,wo,vo,J],styles:[`.fdp-approval-flow-node{display:block;box-sizing:border-box;position:relative;width:17.375rem;height:5.875rem;margin-bottom:1rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode{height:7.875rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-after:after{top:-4.9375rem;height:8.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{content:"";display:block;position:absolute;top:-3.9375rem;height:6.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before{left:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before-solid:before{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{right:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after-solid:after{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-before:before{left:auto;right:-2.0625rem}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-after:after{right:auto;left:-2.0625rem}.fdp-approval-flow-node .fdp-approval-flow-node__add{position:absolute;z-index:10;margin:calc(3.4375rem - 1px) auto auto;inset:0;border-radius:100%;min-width:1rem;max-width:1rem;min-height:1rem;max-height:1rem}.fdp-approval-flow-node .fdp-approval-flow-node__add fd-icon{line-height:1rem;font-size:.7rem;font-weight:900}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before{left:-2.5rem;right:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-2.8rem}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after{right:-2.5rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-2.8rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone{border-radius:.25rem;position:absolute;height:100%;z-index:1}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--active{background:#e5f0fa;background:var(--sapList_SelectionBackgroundColor, #e5f0fa);border:.125rem solid #0854a0;border:.125rem solid var(--sapButton_IconColor, #0854a0)}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--blank{width:100%;top:0}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--partial{width:10%;left:0;top:0}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank{background:transparent;box-shadow:none;pointer-events:none;cursor:default}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:before{content:"";display:block;position:absolute;width:calc(100% + 4rem);height:0;left:-2rem;top:calc(50% - .0625rem);border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{width:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:not(.fdp-approval-flow-node--last-blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{width:100%}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{content:"";width:2rem;height:0;display:block;position:absolute;top:calc(50% - .0625rem);bottom:0;pointer-events:none;border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{right:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--blank:before{border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parent-approved.fdp-approval-flow-node--line-before:before{left:-2rem;border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode.fdp-approval-flow-node--blank{pointer-events:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-end-marker{top:3.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__arrow{display:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{right:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{right:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{left:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{left:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{left:19.875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{right:-12.6875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:calc(100% + 4rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{width:4rem;left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{width:4rem;right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__add,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-after{visibility:hidden}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name{font-size:1rem;line-height:1.25rem;margin-bottom:.1rem;color:#32363a;color:var(--sapTextColor, #32363a)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__description{font-size:.875rem;line-height:1rem;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin-bottom:.4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow{width:0;height:0;border-style:solid;border-width:.375rem 0 .375rem .5rem;border-color:transparent transparent transparent #d9d9d9;border-color:transparent transparent transparent var(--sapGroup_TitleBorderColor, #d9d9d9);position:absolute;left:-.5rem;top:0;bottom:0;margin:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{z-index:1;background:#d9d9d9;background:var(--sapGroup_TitleBorderColor, #d9d9d9);display:block;position:absolute;width:.25rem;height:1rem;top:2.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__arrow{left:auto;right:-.5rem;border-width:.375rem .5rem .375rem 0;border-color:transparent #d9d9d9 transparent transparent;border-color:transparent var(--sapGroup_TitleBorderColor, #d9d9d9) transparent transparent}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-before:before{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-after:after{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count{direction:ltr;text-align:right}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before{right:-2.5rem;left:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-2.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after{left:-2.5rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-2.8rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{left:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{left:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{right:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{right:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{right:19.875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:calc(100% + 2rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{left:-12.6875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:calc(100% + 4rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{left:0}
`],encapsulation:2,changeDetection:0})}}return o})();function Wn(o,l){o&1&&(r(0,"p"),c(1),w(2,"fdTranslate"),s()),o&2&&(p(),z(h(2,1,"platformApprovalFlow.selectTypeDialogMoveApproverAs")))}function Un(o,l){if(o&1){let e=A();r(0,"div",4)(1,"fd-checkbox",9),y("ngModelChange",function(t){m(e);let i=f();return x(i._toNextSerial,t)||(i._toNextSerial=t),_(t)}),c(2),w(3,"fdTranslate"),s()()}if(o&2){let e=f();p(),S("ngModel",e._toNextSerial),p(),b(" ",h(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}var Tt=(()=>{class o{constructor(e){this._dialogRef=e,this._nodeType=le.SERIAL,this._nodeTypes=le,this._toNextSerial=!1}_submit(){this._dialogRef.close({type:this._nodeType,toNextSerial:this._toNextSerial})}static{this.\u0275fac=function(a){return new(a||o)(R(Pe))}}static{this.\u0275cmp=V({type:o,selectors:[["fdp-approval-flow-select-type"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-select-type"],standalone:!0,features:[L],decls:22,vars:20,consts:[["fdkTemplate","header"],["fdCompact",""],[1,"fd-form-label"],[1,"fdp-approval-flow-select-type__form"],["fd-form-item",""],["id","select-type-parallel","name","select-type-parallel",3,"ngModelChange","value","ngModel"],["id","select-type-serial","name","select-type-serial",3,"ngModelChange","value","ngModel"],["fdType","emphasized",3,"click","label"],["fdkInitialFocus","","fdType","transparent",3,"click","label"],[3,"ngModelChange","ngModel"]],template:function(a,t){a&1&&(r(0,"fd-dialog")(1,"fd-dialog-header"),C(2,Wn,3,3,"ng-template",0),s(),r(3,"fd-dialog-body",1)(4,"span",2),c(5),w(6,"fdTranslate"),s(),r(7,"fd-form-group",3)(8,"div",4)(9,"fd-radio-button",5),y("ngModelChange",function(d){return x(t._nodeType,d)||(t._nodeType=d),d}),c(10),w(11,"fdTranslate"),s()(),r(12,"div",4)(13,"fd-radio-button",6),y("ngModelChange",function(d){return x(t._nodeType,d)||(t._nodeType=d),d}),c(14),w(15,"fdTranslate"),s()(),C(16,Un,4,4,"div",4),s()(),r(17,"fd-dialog-footer",1)(18,"fd-button-bar",7),w(19,"fdTranslate"),g("click",function(){return t._submit()}),s(),r(20,"fd-button-bar",8),w(21,"fdTranslate"),g("click",function(){return t._dialogRef.close()}),s()()()),a&2&&(p(5),b(" ",h(6,10,"platformApprovalFlow.selectTypeDialogParallelOrSerial")," "),p(4),u("value",t._nodeTypes.PARALLEL),S("ngModel",t._nodeType),p(),b(" ",h(11,12,"platformApprovalFlow.selectTypeDialogNodeTypeParallel")," "),p(3),u("value",t._nodeTypes.SERIAL),S("ngModel",t._nodeType),p(),b(" ",h(15,14,"platformApprovalFlow.selectTypeDialogNodeTypeSerial")," "),p(2),v(t._nodeType===t._nodeTypes.PARALLEL?16:-1),p(2),u("label",h(19,16,"platformApprovalFlow.selectTypeDialogConfirmButton")),p(2),u("label",h(21,18,"platformApprovalFlow.selectTypeDialogCancelButton")))},dependencies:[Ue,We,Ie,Ve,Z,ft,je,mt,oe,ee,te,ct,Re,Le,J],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`,`.fdp-approval-flow-select-type .fd-dialog__body{width:24rem}.fdp-approval-flow-select-type .fd-dialog__body .fd-form-item{margin-bottom:0}
`],encapsulation:2,changeDetection:0})}}return o})();function zn(o,l){if(o&1){let e=A();r(0,"button",2),w(1,"fdTranslate"),g("click",function(){m(e);let t=f();return _(t._addNode("empty"))}),s()}o&2&&u("label",h(1,1,"platformApprovalFlow.toolbarAddStepButton"))}function On(o,l){if(o&1){let e=A();r(0,"button",2),w(1,"fdTranslate"),g("click",function(){m(e);let t=f();return _(t.enterEditMode.emit())}),s()}o&2&&u("label",h(1,1,"platformApprovalFlow.toolbarEditButton"))}function jn(o,l){if(o&1){let e=A();r(0,"button",2),w(1,"fdTranslate"),g("click",function(){m(e);let t=f(2);return _(t._addNode("before"))}),s()}o&2&&u("label",h(1,1,"platformApprovalFlow.toolbarAddApproversBefore"))}function Gn(o,l){if(o&1){let e=A();r(0,"button",2),w(1,"fdTranslate"),g("click",function(){m(e);let t=f(2);return _(t._addNode("after"))}),s()}o&2&&u("label",h(1,1,"platformApprovalFlow.toolbarAddApproversAfter"))}function Qn(o,l){if(o&1){let e=A();r(0,"button",2),w(1,"fdTranslate"),g("click",function(){m(e);let t=f(2);return _(t._addNode("parallel"))}),s()}o&2&&u("label",h(1,1,"platformApprovalFlow.toolbarAddApproversParallel"))}function Hn(o,l){if(o&1){let e=A();r(0,"button",2),w(1,"fdTranslate"),g("click",function(){m(e);let t=f(2);return _(t.deleteSelectedNodes.emit())}),s()}o&2&&u("label",h(1,1,"platformApprovalFlow.toolbarRemove"))}function Zn(o,l){if(o&1){let e=A();r(0,"button",2),w(1,"fdTranslate"),g("click",function(){m(e);let t=f(2);return _(t._editSelectedNode())}),s()}o&2&&u("label",h(1,1,"platformApprovalFlow.toolbarEditApprover"))}function qn(o,l){if(o&1&&C(0,jn,2,3,"button",1)(1,Gn,2,3,"button",1)(2,Qn,2,3,"button",1)(3,Hn,2,3,"button",1)(4,Zn,2,3,"button",1),o&2){let e=f();v(e._canAddBefore?0:-1),p(),v(e._canAddAfter?1:-1),p(),v(e._canAddParallel?2:-1),p(),v(e._canRemoveSelectedNodes?3:-1),p(),v(e._canEditNode?4:-1)}}var aa=(()=>{class o{constructor(){this.isEditMode=!1,this.enterEditMode=new B,this.addNode=new B,this.editSelectedNode=new B,this.deleteSelectedNodes=new B,this._canRemoveSelectedNodes=!1,this._selectedNodes=[]}set selectedNodes(e){this._selectedNodes=e,this._canRemoveSelectedNodes=!!this.selectedNodes.length&&this.selectedNodes.every(a=>!a.disableActions&&!a.actionsConfig?.disableRemove)}get selectedNodes(){return this._selectedNodes}get _notApprovedSelectedNode(){return this.selectedNodes.length!==1||ae(this.selectedNodes[0])?null:this.selectedNodes[0]}get _canAddBefore(){let e=this._notApprovedSelectedNode;return!!e&&!e.disableActions&&!e.actionsConfig?.disableAddBefore&&!!this.graphMetadata[e.id].canAddNodeBefore}get _canAddAfter(){let e=this._notApprovedSelectedNode;return!!e&&!e.disableActions&&!e.actionsConfig?.disableAddAfter&&!!this.graphMetadata[e.id].canAddNodeAfter}get _canAddParallel(){let e=this._notApprovedSelectedNode;return!!this._notApprovedSelectedNode&&!e?.disableActions&&!e?.actionsConfig?.disableAddParallel&&!!this.graphMetadata[e.id].canAddParallel}get _canEditNode(){let e=this._notApprovedSelectedNode;return!!e&&!e.disableActions&&!e.actionsConfig?.disableEdit}_addNode(e){let a=this.selectedNodes[0];this.addNode.emit({node:a,target:e})}_editSelectedNode(){let e=this.selectedNodes[0];this.editSelectedNode.emit(e)}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=V({type:o,selectors:[["fdp-approval-flow-toolbar-actions"]],hostAttrs:[1,"fdp-approval-flow-toolbar-actions"],inputs:{graph:"graph",graphMetadata:"graphMetadata",selectedNodes:"selectedNodes",isEditMode:"isEditMode"},outputs:{enterEditMode:"enterEditMode",addNode:"addNode",editSelectedNode:"editSelectedNode",deleteSelectedNodes:"deleteSelectedNodes"},standalone:!0,features:[L],decls:4,vars:3,consts:[["fdCompact",""],["fd-button","",3,"label"],["fd-button","",3,"click","label"]],template:function(a,t){a&1&&(ot(0,0),C(1,zn,2,3,"button",1)(2,On,2,3,"button",1)(3,qn,5,5),at()),a&2&&(p(),v(!(!(t.graph==null||t.graph.columns==null)&&t.graph.columns.length)&&!(t.graph!=null&&t.graph.errors)?1:-1),p(),v(!(t.graph==null||t.graph.columns==null)&&t.graph.columns.length&&!t.isEditMode?2:-1),p(),v(t.isEditMode?3:-1))},dependencies:[Z,Be,J],styles:[`.fdp-approval-flow-toolbar-actions .fd-button:not(:last-child){margin-right:.5rem}[dir=rtl] .fdp-approval-flow-toolbar-actions .fd-button:not(:last-child),.fdp-approval-flow-toolbar-actions[dir=rtl] .fd-button:not(:last-child){margin-right:0;margin-left:.5rem}
`],encapsulation:2,changeDetection:0})}}return o})();var $n=["graphContainerEl"],el=["graphEl"],tl=["gridList"];function ol(o,l){if(o&1){let e=A();r(0,"fdp-approval-flow-toolbar-actions",11),g("enterEditMode",function(){m(e);let t=f();return _(t._enterEditMode())})("addNode",function(t){m(e);let i=f();return _(i._addNode(t.node,t.target))})("editSelectedNode",function(t){m(e);let i=f();return _(i._editNode(t))})("deleteSelectedNodes",function(){m(e);let t=f();return _(t._deleteSelectedNodes())}),s()}if(o&2){let e=f();u("graph",e._graph)("selectedNodes",e._selectedNodes)("graphMetadata",e._graphMetadata)("isEditMode",e._isEditMode)}}function al(o,l){if(o&1){let e=A();r(0,"fd-avatar",15),g("avatarClicked",function(t){let i=m(e).$implicit,d=f(3);return _(d._onWatcherClick(i,t))}),s()}if(o&2){let e=l.$implicit;u("image",e.imgUrl||"")("label",e.name)("clickable",!0)("circle",!0)}}function il(o,l){if(o&1&&K(0,al,1,4,"fd-avatar",14,Vt()._trackByFn,!0),o&2){let e=f(2);Y(e._approvalProcess.watchers)}}function nl(o,l){if(o&1){let e=A();r(0,"div",13)(1,"fd-multi-input",16),w(2,"fdTranslate"),y("ngModelChange",function(t){m(e);let i=f(2);return x(i._selectedWatcherIds,t)||(i._selectedWatcherIds=t),_(t)}),g("ngModelChange",function(t){m(e);let i=f(2);return _(i._watchersSelectionChanged(t))}),s()()}if(o&2){let e=f(2);p(),u("dropdownValues",e._usersForWatchersList)("placeholder",h(2,6,"platformApprovalFlow.watchersInputPlaceholder"))("displayFn",e._displayUserFn)("valueFn",e._userValueFn)("showAllButton",!0),S("ngModel",e._selectedWatcherIds)}}function ll(o,l){if(o&1&&(r(0,"div",9)(1,"p",12),c(2),w(3,"fdTranslate"),s(),C(4,il,2,0)(5,nl,3,8,"div",13),s()),o&2){let e=f();_e("aria-label",e.watchersLabel),p(2),b(" ",e.watchersLabel||h(3,3,"platformApprovalFlow.defaultWatchersLabel")," "),p(2),v(e._isEditMode?5:4)}}function rl(o,l){if(o&1){let e=A();r(0,"button",26),w(1,"fdTranslate"),g("click",function(){m(e);let t=f(4);return _(t.nextSlide(-1))}),k(2,"fd-icon",27),c(3),s()}if(o&2){let e=f(4);_e("aria-label",h(1,3,"platformApprovalFlow.prevButtonAriaLabel")),p(2),u("glyph","navigation-"+(e._rtl?"right":"left")+"-arrow"),p(),b(" ",e._carouselStepsLeft," ")}}function dl(o,l){if(o&1){let e=A();r(0,"button",28),w(1,"fdTranslate"),g("click",function(){m(e);let t=f(4);return _(t.nextSlide())}),c(2),k(3,"fd-icon",27),s()}if(o&2){let e=f(4);_e("aria-label",h(1,3,"platformApprovalFlow.nextButtonAriaLabel")),p(2),b(" ",e._carouselStepsRight," "),p(),u("glyph","navigation-"+(e._rtl?"left":"right")+"-arrow")}}function pl(o,l){if(o&1&&(r(0,"div",23),C(1,rl,4,5,"button",24)(2,dl,4,5,"button",25),s()),o&2){let e=f(3);H("fdp-approval-flow-carousel-controls--edit-mode",e._isEditMode),p(),v(e._carouselStepsLeft>0?1:-1),p(),v(e._carouselStepsRight>0?2:-1)}}function sl(o,l){}function fl(o,l){if(o&1&&C(0,sl,0,0,"ng-template",32),o&2){f();let e=U(1);u("ngTemplateOutlet",e._overflowMenuButton)}}function cl(o,l){}function ml(o,l){if(o&1&&C(0,cl,0,0,"ng-template",32),o&2){f();let e=U(1);u("ngTemplateOutlet",e._nodeContent)}}function _l(o,l){if(o&1){let e=A();r(0,"fdp-approval-flow-node",30,3),g("onAdd",function(t){let i=m(e).$implicit,d=f(4);return _(d._addNode(i,t))})("onEdit",function(){let t=m(e).$implicit,i=f(4);return _(i._editNode(t))})("onDelete",function(){let t=m(e).$implicit,i=f(4);return _(i._onNodeDelete(t))})("keydown",function(t){let i=m(e).$implicit,d=f(4);return _(d._onNodeKeyDown(t,i))})("cdkDragStarted",function(){m(e);let t=f(4);return _(t._dragDropInProgress=!0)})("cdkDragReleased",function(t){let i=m(e).$implicit,d=f(4);return _(d._onNodeDrop(i,t.source))})("cdkDragMoved",function(){let t=m(e).$implicit,i=f(4);return _(i._onNodeDragMoved(t))}),r(2,"fd-grid-list-item",31),g("press",function(){let t=m(e).$implicit,i=f(4);return _(i._onNodeClick(t))}),r(3,"fd-grid-list-item-toolbar"),C(4,fl,1,1,null,32),s(),k(5,"fd-avatar",33),C(6,ml,1,1,"ng-template",34),s()()}if(o&2){let e=l.$implicit,a=l.$index,t=U(1),i=f(),d=i.$implicit,n=i.$index,T=f(3);u("cdkDragDisabled",T._isCdkDragDisabled(e))("node",e)("meta",T._graphMetadata[e.id])("isEdit",T._isEditMode)("isNextNodeBlank",T._isNextNodeBlank(e,n,a))("checkDueDate",T.checkDueDate)("dueDateThreshold",T.dueDateThreshold)("renderArrow",n>0)("allNodesInColumnApproved",!!d.allNodesApproved)("approvalStatusTemplate",T.approvalStatusTemplate)("statusColorMapping",T.statusColorMapping),p(2),H("fdp-approval-flow__graph-node-inner--edit",T._isEditMode),u("value",e)("selected",!!e.selected)("ariaLabelledBy",t.approvalFlowNodeId)("disableToolbarClick",!0),p(2),v(T._isEditMode?4:-1),p(),u("image",e.approvers.length===1?e.approvers[0].imgUrl:null)("label",e.approvers.length>1?e.description:null)("circle",!0)}}function ul(o,l){if(o&1&&(r(0,"div",22),K(1,_l,7,21,"fdp-approval-flow-node",29,Vt()._trackByFn,!0),s()),o&2){let e=l.$implicit;p(),Y(e.nodes)}}function vl(o,l){if(o&1&&(r(0,"div",18),C(1,pl,3,4,"div",19),r(2,"div",20,1)(4,"div",21,2),K(6,ul,3,0,"div",22,de),s()()()),o&2){let e=f(2);H("fdp-approval-flow__container--extra-padding-start",!0)("fdp-approval-flow__container--extra-padding-end",!0),p(),v(e._scrollDiff>0?1:-1),p(),H("fdp-approval-flow__graph-container--multiple-root-nodes",e._multipleRootNodes)("fdp-approval-flow__graph-container--multiple-final-nodes",e._multipleFinalNodes)("fd-scrollbar",!0),p(2),H("fdp-approval-flow__graph--edit-mode",e._isEditMode),p(2),Y(e._graph.columns)}}function wl(o,l){if(o&1&&(r(0,"figure",35)(1,"figcaption",36)(2,"h3",37),c(3),w(4,"fdTranslate"),s(),r(5,"p",38),c(6),w(7,"fdTranslate"),s()()(),r(8,"div"),eo(),r(9,"svg",39),k(10,"path",40)(11,"path",41)(12,"path",42)(13,"path",43)(14,"path",44)(15,"path",45)(16,"path",46),s()()),o&2){let e=f(2);u("svgConfig",e._emptyApprovalFlowSpotConfig),p(3),b(" ",h(4,19,"platformApprovalFlow.emptyTitle")," "),p(3),b(" ",h(7,21,"platformApprovalFlow.emptyHint")," "),p(2),M("display","none"),p(2),M("fill","var(--sapIllus_PatternShadow)"),p(),M("fill","var(--sapIllus_ObjectFillColor)"),p(),M("fill","var(--sapIllus_BrandColorSecondary)"),p(),M("fill","var(--sapIllus_Layering1)"),p(),M("fill","var(--sapIllus_Layering1)"),p(),M("fill","var(--sapIllus_Layering1)"),p(),M("fill","var(--sapIllus_StrokeDetailColor)")}}function gl(o,l){if(o&1&&C(0,vl,8,13,"div",17)(1,wl,17,23),o&2){let e=f();v(e._graph.columns.length?0:1)}}function hl(o,l){if(o&1){let e=A();r(0,"div",10)(1,"div",47)(2,"fd-bar-element")(3,"button",48),w(4,"fdTranslate"),g("click",function(){m(e);let t=f();return _(t._saveEditModeChanges())}),s()(),r(5,"fd-bar-element")(6,"button",49),w(7,"fdTranslate"),g("click",function(){m(e);let t=f();return _(t._exitEditMode())}),s()()()()}if(o&2){let e=f();p(3),u("label",h(4,4,"platformApprovalFlow.editModeSaveButtonLabel"))("disabled",e.disableSaveButton),p(3),u("label",h(7,6,"platformApprovalFlow.editModeExitButtonLabel"))("disabled",e.disableExitButton)}}var Cl=0,Se=(()=>{class o{get approvalProcess(){return O(this._approvalProcess)}get _rtl(){return this._rtlService?.rtl.getValue()}get _selectedNodes(){return Te(this._graph).filter(e=>e.selected)}constructor(e,a,t,i,d){this._dialogService=e,this._cdr=a,this._injector=t,this.providers=i,this._rtlService=d,this.checkDueDate=!1,this.dueDateThreshold=7,this.allowSendRemindersForStatuses=["in progress","not started"],this.isEditAvailable=!1,this.allowAddParallelNodes=!0,this.disableSaveButton=!1,this.disableExitButton=!1,this.removeSpaceNode=!1,this.nodeClick=new B,this.afterNodeAdd=new B,this.afterNodeEdit=new B,this.valueChange=new B,this.sendReminders=new B,this.onDataRequested=new B,this.onDataReceived=new B,this._isCarousel=!1,this._graphMetadata={},this._isEditMode=!1,this._usersForWatchersList=[],this._selectedWatcherIds=[],this._messages=[],this._emptyApprovalFlowSpotConfig={spot:{url:"",id:"sapIllus-Spot-NoData"}},this._multipleRootNodes=!1,this._multipleFinalNodes=!1,this._dragDropInProgress=!1,this._displayUserFn=Ct,this._userValueFn=qo,this._trackByFn=fe,this.approvalFlowUniqueId=`fdp-approval-flow-${++Cl}`,this._selectedWatchers=[],this._subscriptions=new we,this._dataSourceChanged$=new Qt,this._getNextHorizontalNode=(n,T,I)=>{let W=I==="right"?1:-1,P=this._graph.columns[T+W]?.nodes[n];if(P)return P.blank||P.space?this._getNextHorizontalNode(n,T+W,I):P},this._getNextVerticalNode=(n,T,I)=>{let W=I==="down"?1:-1,P=this._graph.columns[T].nodes[n+W];if(P)return P.blank||P.space?this._getNextVerticalNode(n+W,T,I):P},console.log("ApprovalFlowComponent is deprecated and will be removed in next release.")}ngOnInit(){if(!this.userDataSource){let e=this.usersDataProviderEntityKey&&this.providers?.get(this.usersDataProviderEntityKey);e?this.userDataSource=new ve(e):console.error("Could not resolve users data source")}if(!this.watcherDataSource){let e=this.watchersDataProviderEntityKey&&this.providers?.get(this.watchersDataProviderEntityKey);e?this.watcherDataSource=new ve(e):console.error("Could not resolve watchers data source")}if(!this.teamDataSource){let e=this.teamsDataProviderEntityKey&&this.providers?.get(this.teamsDataProviderEntityKey);e?this.teamDataSource=new Oe(e):console.error("Could not resolve teams data source")}this._listenOnResize(),this._setupDataSourceSubscription()}ngOnChanges(e){if(e.value){let a=this.value??{watchers:[],nodes:[]};this._initialApprovalProcess=O(a),this._buildView(a)}(e.userDataSource||e.watcherDataSource||e.teamDataSource)&&this._dataSourceChanged$.next()}ngOnDestroy(){this._subscriptions.unsubscribe()}_isNextNodeBlank(e,a,t){let i=this._graph.columns[a+1]?.nodes[t],d=i?.blank,n=this._graphMetadata[i?.id]?.parallelEnd;return!e.blank&&!!d&&!n}_isCdkDragDisabled(e){return!this._isEditMode||e.blank||e.space||e.status!=="not started"}_onNodeClick(e){if(this._dragDropInProgress)return;this._dialogService.open(Xe,{data:$({node:e,allowSendReminder:this.allowSendRemindersForStatuses.includes(e.status)},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(t=>{Array.isArray(t)&&this.sendReminders.emit({users:t,node:e})}),this.nodeClick.emit(e)}_onNodeAdd(e){this.afterNodeAdd.emit(e)}_onNodeEdit(e){this.afterNodeEdit.emit(e)}_onNodeSelectionChange(e){this._graph.columns.forEach(a=>{a.nodes.forEach(t=>{t.selected=!!e.selection.find(i=>i.id===t.id)})})}_onWatcherClick(e,a){a.preventDefault(),this._dialogService.open(Xe,{data:$({watcher:e},this._defaultDialogOptions)})}getNodeMetadataByNodeId(e){return this._graphMetadata[e]}nextSlide(e=1){let t;if(e===1){let i=this._carouselStepsRight===1,d=this._carouselStepsCount-this._carouselStepsRight+1;t=this._carouselStepSize*d+(i?0:1)-this._graphEl.nativeElement.clientWidth}else{let i=this._carouselStepsLeft===1,d=this._carouselStepsLeft-1;t=this._carouselStepSize*d-(i?0:1)}this._setScrollPosition(t),this._cdr.detectChanges()}_setScrollPosition(e){this._graphContainerEl.nativeElement.scrollTo({left:e,behavior:"smooth"})}_onNodeKeyDown(e,a){if(!ke.isKeyCode(e,[38,40,39,37]))return;let{nodeIndex:t,columnIndex:i}=this._graphMetadata[a.id];e.preventDefault();let d;typeof t=="number"&&typeof i=="number"&&(ke.isKeyCode(e,38)?t>0&&(d=this._getNextVerticalNode(t,i,"up")):ke.isKeyCode(e,40)?d=this._getNextVerticalNode(t,i,"down"):ke.isKeyCode(e,37)?d=this._getNextHorizontalNode(t,i,this._rtl?"right":"left"):ke.isKeyCode(e,39)&&(d=this._getNextHorizontalNode(t,i,this._rtl?"left":"right"))),d&&this._focusNode(d)}_enterEditMode(){this.watcherDataSource.match(),this._editModeInitSub=this.watcherDataSource.open().subscribe(e=>{this._usersForWatchersList=e,this._selectedWatchers=this._approvalProcess.watchers,this._selectedWatcherIds=this._selectedWatchers.map(a=>a.id),this._isEditMode=!0,this._initialApprovalProcess=O(this._approvalProcess),this._cdr.detectChanges()}),this._subscriptions.add(this._editModeInitSub)}_saveEditModeChanges(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[];let e=re($({},this._approvalProcess),{watchers:this._selectedWatchers});this._buildView(e),this.valueChange.emit(e)}_exitEditMode(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._approvalProcess=O(this._initialApprovalProcess),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[],this._buildView(this._approvalProcess)}_watchersSelectionChanged(e){let a=new Set(e);this._selectedWatchers=po(this._selectedWatchers.concat(this._usersForWatchersList).filter(t=>a.has(t.id)),t=>t.id)}_undoLastAction(){this._approvalProcess=O(this._previousApprovalProcess),this._previousApprovalProcess=void 0,this._buildView(this._approvalProcess)}_addNode(e,a){let t=a==="before"&&!e.actionsConfig?.disableAddParallel;this._dialogService.open(Je,{data:$({nodeTarget:a,showNodeTypeSelect:t,node:Object.assign(At(),{blank:!1}),checkDueDate:this.checkDueDate},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(d=>{if(!d)return;let{node:n,nodeType:T,toNextSerial:I}=d;if(n){switch(this._cacheCurrentApprovalProcess(),n.id=`tempId${(Math.random()*1e3).toFixed()}`,a){case"empty":this._enterEditMode();break;case"before":T===le.SERIAL&&(n.targets=[e.id],this._replaceTargets(e.id,[n.id])),T===le.PARALLEL&&this._processAddingParallelNode(n,e,I);break;case"before-all":n.targets=this._graph.columns[0].nodes.map(W=>W.id);break;case"after":n.targets=e.targets,e.targets=[n.id];break;case"after-all":{this._graphMetadata[e.targets[0]]?.parents?(n.targets=e.targets,this._replaceTargets(e.id,[n.id]),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(q=>q.id!==e.id)):this._graph.columns[this._graph.columns.length-1].nodes.forEach(q=>q.targets.push(n.id));break}case"parallel":this._processAddingParallelNode(n,e,I);break}this._showMessage(n.approvalTeamId?"teamAddSuccess":"approverAddSuccess"),this._approvalProcess.nodes.push(n),this._buildView(this._approvalProcess),this._onNodeAdd(n)}})}_editNode(e){this._dialogService.open(Je,{data:$({isEdit:!0,node:Object.assign({},e),checkDueDate:this.checkDueDate},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(t=>{let i=t?.node;i&&(this._cacheCurrentApprovalProcess(),this._updateNode(i),this._showMessage("nodeEdit"),this._buildView(this._approvalProcess),this._onNodeEdit(e))})}_onNodeDelete(e){this._cacheCurrentApprovalProcess(),this._deleteNode(e),this._showMessage(e.approvalTeamId?"teamRemove":"nodeRemove"),this._buildView(this._approvalProcess)}_deleteSelectedNodes(){this._cacheCurrentApprovalProcess(),this._nodeComponents.filter(a=>a._isSelected).map(a=>a.node).forEach(a=>{this._deleteNode(a),this._buildView(this._approvalProcess)}),this._showMessage("nodesRemove")}_onNodeDragMoved(e){let a=this._nodeComponents.find(t=>t.node===e)?._nativeElement.getBoundingClientRect();a&&this._nodeComponents.forEach(t=>{t.node!==e&&t._dropZones.length&&t._checkIfNodeDraggedInDropZone(a)})}_focusNode(e){let a=this._nodeComponents.find(t=>t.node===e);a&&(this._moveColInView(e.colIndex??0),a._focus({preventScroll:!0}))}_onNodeDrop(e,a){a.reset(),setTimeout(()=>this._dragDropInProgress=!1);let t=this._nodeComponents.find(d=>d._isAnyDropZoneActive);if(!t)return;this._cacheCurrentApprovalProcess();let i=t._activeDropZones[0].placement;if(this._nodeComponents.forEach(d=>d._deactivateDropZones()),i==="after"){this._deleteNode(e),this._buildView(this._approvalProcess);let d=Te(this._graph).find(n=>n.id===t.node.targets[0]);d?.blank&&(this._deleteNode(d),this._buildView(this._approvalProcess)),e.targets=this._approvalProcess.nodes.find(n=>n.id===t.node.id)?.targets??[],t.node.targets=[e.id],this._finishDragDropProcess(e)}else if(i==="before")this._dialogService.open(Tt,void 0,this._injector).afterClosed.subscribe(n=>{if(!n)return;let{type:T,toNextSerial:I}=n;this._deleteNode(e),this._buildView(this._approvalProcess),T===le.SERIAL&&(this._replaceTargets(t.node.id,[e.id]),e.targets=[t.node.id]),T===le.PARALLEL&&this._processAddingParallelNode(e,t.node,I),this._finishDragDropProcess(e)});else if(i==="before-all"){this._deleteNode(e);let d=this._graph.columns[0].nodes;e.targets=d.map(n=>n.id),this._finishDragDropProcess(e)}else i==="after-all"&&(this._deleteNode(e),this._buildView(this._approvalProcess),e.targets=[...t.node.targets],t.node.targets.length===0?this._graph.columns[this._graph.columns.length-1].nodes.forEach(n=>n.targets.push(e.id)):(this._approvalProcess.nodes=this._approvalProcess.nodes.filter(d=>d.id!==t.node.id),this._replaceTargets(t.node.id,[e.id])),this._finishDragDropProcess(e))}_moveColInView(e){let a=this._graphEl.nativeElement.children[e].firstElementChild;if(!a)return;let{x:t,width:i}=a.getBoundingClientRect(),d=this._graphContainerEl.nativeElement.getBoundingClientRect().x,n=t-d,T=n+i;n<0?this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+n):T>this._graphEl.nativeElement.clientWidth&&this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+T-this._graphEl.nativeElement.clientWidth)}_finishDragDropProcess(e){this._approvalProcess.nodes.push(e),this._buildView(this._approvalProcess)}_showMessage(e){this._messages=[{type:e}]}_buildView(e){if(e.nodes||(e.nodes=[]),e.watchers||(e.watchers=[]),this._approvalProcess=e,this._graph=Xo(this._approvalProcess.nodes),this.removeSpaceNode&&(this._graph.columns=this.removeSpaceNodesFromColumns(this._graph.columns)),this._graph.errors){this._showMessage("error");return}this._graphMetadata=$o(this._graph);let a=Te(this._graph);this._approvalProcess.nodes=a.filter(t=>!t.space),this._multipleRootNodes=a.filter(t=>this._graphMetadata[t.id].isRoot).length>1,this._multipleFinalNodes=a.filter(t=>this._graphMetadata[t.id].isFinal).length>1,this._cdr.detectChanges(),this._gridList?.clearSelection(),this._isEditMode||this._setScrollPosition(0)}_listenOnResize(){this._subscriptions.add(kt(Mt(window,"resize"),Mt(this._graphContainerEl.nativeElement,"scroll")).pipe(Kt(50,void 0,{leading:!0,trailing:!0})).subscribe(()=>{this._cdr.detectChanges()}))}_updateNode(e){let a=this._approvalProcess.nodes.findIndex(t=>t.id===e.id);a>-1&&(this._approvalProcess.nodes[a]=e)}_deleteNode(e){let a=[e],t=Te(this._graph),i=t.find(P=>P.id===e.id),d;do i?.targets.length===1&&(d=t.find(P=>P.id===i?.targets[0]),d?.blank&&this._graphMetadata[d.id].parents.length===1&&(a.push(d),i=d,d=t.find(P=>P.id===i?.targets[0])));while(d?.blank&&this._graphMetadata[d.id].parents.length===1);let n=this._graphMetadata[e.id].parents[0],T=e.targets[0],I=this._graphMetadata[n?.id]?.parallelStart,W=this._graphMetadata[T]?.parallelEnd,q=I&&W||a.length>1?[]:i?.targets??[];this._replaceTargets(e.id,q),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(P=>!a.includes(P))}_addParallelTargets(e,a){this._approvalProcess.nodes.forEach(t=>{Fe(t,e)&&t.targets.push(a)})}_replaceTargets(e,a){this._approvalProcess.nodes.forEach(t=>{Fe(t,e)&&(t.targets=t.targets.filter(i=>i!==e),t.targets.push(...a))})}_cacheCurrentApprovalProcess(){this._previousApprovalProcess=O(this._approvalProcess)}get _carouselStepSize(){return this._graphEl.nativeElement.scrollWidth/this._carouselStepsCount}get _scrollDiff(){return this._graphEl?this._graphEl.nativeElement.scrollWidth-this._graphEl.nativeElement.clientWidth:0}get _carouselStepsCount(){return this._graphEl.nativeElement.children.length}get _carouselStepsLeft(){return Math.ceil(this._graphContainerEl.nativeElement.scrollLeft/this._carouselStepSize)}get _carouselStepsRight(){return Math.ceil((this._scrollDiff-Math.round(this._graphContainerEl.nativeElement.scrollLeft))/this._carouselStepSize)}get _defaultDialogOptions(){return{teamDataSource:this.teamDataSource,userDataSource:this.userDataSource,userDetailsTemplate:this.userDetailsTemplate,rtl:this._rtl}}_findSerialNode(e,a){if(Number.isInteger(e)&&a?.some(d=>{let n=this._graphMetadata[d]?.nodeIndex;return Number.isInteger(n)&&n<=e-1}))return a??[];let i=this._approvalProcess.nodes.find(d=>d.id===a?.[0]);return this._findSerialNode(e,i?.targets)}_processAddingParallelNode(e,a,t=!1){if(e.targets=a.targets,this._addParallelTargets(a.id,e.id),t){let i=this._graphMetadata[a.id].nodeIndex,d=a.targets;if(i===0){let n=this._graphMetadata[a.id],I=(this._graph.columns?.[n.columnIndex]?.nodes).find((W,q)=>q>0&&!W.space);if(I){i=this._graphMetadata[I.id].columnIndex,d=I.targets,e.targets=this._findSerialNode(i,d);return}e.targets=a.targets;return}e.targets=this._findSerialNode(i,d)}}_setupDataSourceSubscription(){let e=this._dataSourceChanged$.pipe(Pt(null),qt(()=>{let a=[this.teamDataSource,this.userDataSource,this.watcherDataSource].filter(Boolean).map(t=>kt(t.onDataRequested().pipe(It(!0)),t.onDataReceived().pipe(It(!1))).pipe(Pt(t.isDataLoading)));return et(a)}),Ht(a=>a.some(Boolean)),Zt()).subscribe(a=>{a?this.onDataRequested.emit():this.onDataReceived.emit()});this._subscriptions.add(e)}removeSpaceNodesFromColumns(e){let a=[];return e.forEach(t=>{let i=t.nodes.filter(n=>!n.space),d=re($({},t),{nodes:i});a.push(d)}),a}static{this.\u0275fac=function(a){return new(a||o)(R(uo),R(se),R(to),R(bo,8),R(nt,8))}}static{this.\u0275cmp=V({type:o,selectors:[["fdp-approval-flow"]],viewQuery:function(a,t){if(a&1&&(Q($n,5),Q(el,5),Q(tl,5),Q($e,5)),a&2){let i;j(i=G())&&(t._graphContainerEl=i.first),j(i=G())&&(t._graphEl=i.first),j(i=G())&&(t._gridList=i.first),j(i=G())&&(t._nodeComponents=i)}},inputs:{title:"title",value:"value",userDataSource:"userDataSource",watcherDataSource:"watcherDataSource",teamDataSource:"teamDataSource",userDetailsTemplate:"userDetailsTemplate",approvalStatusTemplate:"approvalStatusTemplate",statusColorMapping:"statusColorMapping",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allowSendRemindersForStatuses:"allowSendRemindersForStatuses",isEditAvailable:"isEditAvailable",watchersLabel:"watchersLabel",allowAddParallelNodes:"allowAddParallelNodes",disableSaveButton:"disableSaveButton",disableExitButton:"disableExitButton",usersDataProviderEntityKey:"usersDataProviderEntityKey",teamsDataProviderEntityKey:"teamsDataProviderEntityKey",watchersDataProviderEntityKey:"watchersDataProviderEntityKey",removeSpaceNode:"removeSpaceNode"},outputs:{nodeClick:"nodeClick",afterNodeAdd:"afterNodeAdd",afterNodeEdit:"afterNodeEdit",valueChange:"valueChange",sendReminders:"sendReminders",onDataRequested:"onDataRequested",onDataReceived:"onDataReceived"},standalone:!0,features:[no([yt]),De,L],decls:11,vars:10,consts:[["gridList",""],["graphContainerEl",""],["graphEl",""],["approvalFlowNode",""],["fdCompact",""],[3,"messagesChange","undoLastAction","messages","undoLastActionAvailable"],[1,"fdp-approval-flow__toolbar",3,"selectionChange","selectionMode"],[3,"title"],[3,"graph","selectedNodes","graphMetadata","isEditMode"],[1,"fdp-approval-flow__watchers"],["fd-bar",""],[3,"enterEditMode","addNode","editSelectedNode","deleteSelectedNodes","graph","selectedNodes","graphMetadata","isEditMode"],[1,"fdp-approval-flow__watchers-title"],[1,"fdp-approval-flow__watchers-input-container"],["size","xs",3,"image","label","clickable","circle"],["size","xs",3,"avatarClicked","image","label","clickable","circle"],[3,"ngModelChange","dropdownValues","placeholder","displayFn","valueFn","showAllButton","ngModel"],[1,"fdp-approval-flow__container",3,"fdp-approval-flow__container--extra-padding-start","fdp-approval-flow__container--extra-padding-end"],[1,"fdp-approval-flow__container"],[1,"fdp-approval-flow-carousel-controls",3,"fdp-approval-flow-carousel-controls--edit-mode"],[1,"fdp-approval-flow__graph-container"],[1,"fdp-approval-flow__graph"],[1,"fdp-approval-flow__graph-column"],[1,"fdp-approval-flow-carousel-controls"],[1,"fdp-approval-flow-carousel-controls__button--prev-slide"],[1,"fdp-approval-flow-carousel-controls__button--next-slide"],[1,"fdp-approval-flow-carousel-controls__button--prev-slide",3,"click"],[3,"glyph"],[1,"fdp-approval-flow-carousel-controls__button--next-slide",3,"click"],["cdkDrag","",3,"cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","approvalStatusTemplate","statusColorMapping"],["cdkDrag","",3,"onAdd","onEdit","onDelete","keydown","cdkDragStarted","cdkDragReleased","cdkDragMoved","cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","approvalStatusTemplate","statusColorMapping"],["type","active",1,"fdp-approval-flow__graph-node-inner",3,"press","value","selected","ariaLabelledBy","disableToolbarClick"],[3,"ngTemplateOutlet"],["fd-grid-list-item-image","","size","xs",3,"image","label","circle"],["fd-grid-list-item-body",""],["fd-illustrated-message","","type","spot",3,"svgConfig"],["fd-illustrated-message-figcaption",""],["fd-illustrated-message-title",""],["fd-illustrated-message-text",""],["xmlns","http://www.w3.org/2000/svg","width","128","height","128","viewBox","0 0 128 128","id","sapIllus-Spot-NoData"],["d","M41.6179,32.7174H84.6273a1,1,0,0,1,.723.3092l7.2445,7.5824,7.4817,7.8491a1,1,0,0,1,.2761.69l-.0046,55.6069a4.1038,4.1038,0,0,1-.8787,2.1212A4.0564,4.0564,0,0,1,98.1,107.9631l-56.3858.0313a2.6167,2.6167,0,0,1-3.0812-3.2309l-.0152-69.0594Z",1,"sapIllus_PatternShadow"],["d","M35.7928,27.4987H78.8022a1,1,0,0,1,.723.3092L86.77,35.39l7.4816,7.8492a1,1,0,0,1,.2762.69l-.0046,55.6069a3,3,0,0,1-3,3H35.808a2.9946,2.9946,0,0,1-3-2.9913c-.01-12.0564-.0423-57.0116-.0152-69.0595A2.9943,2.9943,0,0,1,35.7928,27.4987Z",1,"sapIllus_ObjectFillColor"],["d","M93.2978,44.5335H78.8208a.9925.9925,0,0,1-.974-1.01V28.5108a.97.97,0,0,1,1.6628-.7143L93.9865,42.8092A1.0151,1.0151,0,0,1,93.2978,44.5335Z",1,"sapIllus_BrandColorSecondary"],["d","M104.608,38.9485l5.9157-1.7721c1.32-.3954.7584-2.5258-.5689-2.1282L104.0392,36.82c-1.32.3953-.7584,2.5258.5688,2.1282Z",1,"sapIllus_Layering1"],["d","M85.2973,21.2465l.9718-5.9331c.2154-1.3151-1.777-1.8807-1.9941-.5554l-.9718,5.9332c-.2155,1.3151,1.777,1.8807,1.9941.5553Z",1,"sapIllus_Layering1"],["d","M95.3034,29.0015a1.01,1.01,0,0,1-.6837-.267,1.0783,1.0783,0,0,1-.0864-1.4932l5.9511-6.8857a1.01,1.01,0,0,1,1.4538-.0884,1.0785,1.0785,0,0,1,.0865,1.4932l-5.9511,6.8858A1.0164,1.0164,0,0,1,95.3034,29.0015Z",1,"sapIllus_Layering1"],["d","M94.8747,42.8861,80.0855,27.4623a1.5152,1.5152,0,0,0-1.0885-.4636H35.807a3.509,3.509,0,0,0-3.5146,3.4836c-.0294,13.2857.0137,66.7559.0157,69.0257a3.5076,3.5076,0,0,0,3.5146,3.4894H91.7709a3.5106,3.5106,0,0,0,3.5146-3.4982l.005-55.5785A1.49,1.49,0,0,0,94.8747,42.8861Zm-16.21-14.8355a1.15,1.15,0,0,1,.2561-.0309,1.04,1.04,0,0,1,.51.2134l14.276,14.8837.0194.02a.5891.5891,0,0,1,.0968.6251c-.1016.1764-.4086.24-.69.24L78.8355,44a.6031.6031,0,0,1-.5472-.6131c-.0087-4.9588-.017-9.9015-.0035-14.8689A.5189.5189,0,0,1,78.6646,28.0506Zm13.1062,73.95H35.8188a2.5045,2.5045,0,0,1-2.5107-2.491c-.002-2.2694-.0451-55.74-.0157-69.0248a2.5054,2.5054,0,0,1,2.5107-2.4861H77.3684a1.49,1.49,0,0,0-.0976.5106V43.4934A1.5145,1.5145,0,0,0,78.7894,45H78.92L94.286,47.9749l-.0046,51.5269A2.5074,2.5074,0,0,1,91.7708,102.0006Z",1,"sapIllus_StrokeDetailColor"],["fd-bar-right",""],["fd-button","","fdType","emphasized",3,"click","label","disabled"],["fd-button","","fdType","transparent",3,"click","label","disabled"]],template:function(a,t){if(a&1){let i=A();ot(0,4),r(1,"fdp-approval-flow-messages",5),y("messagesChange",function(n){return m(i),x(t._messages,n)||(t._messages=n),_(n)}),g("undoLastAction",function(){return m(i),_(t._undoLastAction())}),s(),r(2,"fd-grid-list",6,0),g("selectionChange",function(n){return m(i),_(t._onNodeSelectionChange(n))}),r(4,"fd-grid-list-title-bar",7),w(5,"fdTranslate"),k(6,"fd-grid-list-title-bar-spacer"),C(7,ol,1,4,"fdp-approval-flow-toolbar-actions",8),s(),C(8,ll,6,5,"div",9)(9,gl,2,1),s(),C(10,hl,8,8,"div",10),at()}a&2&&(p(),S("messages",t._messages),u("undoLastActionAvailable",!!t._previousApprovalProcess),p(),u("selectionMode",t._isEditMode?"multiSelect":"none"),p(2),u("title",t.title||h(5,8,"platformApprovalFlow.defaultTitle")),p(3),v(t.isEditAvailable?7:-1),p(),v(t._approvalProcess.watchers!=null&&t._approvalProcess.watchers.length||t._isEditMode?8:-1),p(),v(t._graph.errors?-1:9),p(),v(t._isEditMode?10:-1))},dependencies:[Z,ta,Wo,Ro,Lo,aa,_t,Ae,oe,ee,te,be,$e,so,wt,Vo,Me,Uo,Bo,co,_o,mo,Be,Go,zo,jo,Oo,J],styles:[`.fd-scrollbar{border:0;-webkit-box-sizing:border-box;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:normal;margin-block:0;margin-inline:0;overflow:auto;padding-block:0;padding-inline:0;scrollbar-color:var(--fdScrollbar_Thumb_Color) var(--fdScrollbar_Track_Color)}.fd-scrollbar:after,.fd-scrollbar:before{-webkit-box-sizing:inherit;box-sizing:inherit;font-size:inherit}.fd-scrollbar.is-focus,.fd-scrollbar:focus{outline:none;z-index:5}.fd-scrollbar::-webkit-scrollbar{height:var(--fdScrollbar_Dimension);width:var(--fdScrollbar_Dimension)}.fd-scrollbar::-webkit-scrollbar-corner,.fd-scrollbar::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color)}.fd-scrollbar::-webkit-scrollbar-thumb{background-color:transparent;border:var(--fdScrollbar_Thumb_Offset) solid transparent;border-radius:calc(var(--fdScrollbar_Thumb_Border_Radius) - var(--fdScrollbar_Thumb_Offset));-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color);box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color)}.fd-scrollbar::-webkit-scrollbar-thumb:active,.fd-scrollbar::-webkit-scrollbar-thumb:hover{-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color);box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color)}.fd-scrollbar--container::-webkit-scrollbar-corner,.fd-scrollbar--container::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color);border-radius:0 var(--fdScrollbar_Border_Radius) var(--fdScrollbar_Border_Radius) 0}.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-corner,.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-track,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-corner,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-track{border-radius:var(--fdScrollbar_Border_Radius) 0 0 var(--fdScrollbar_Border_Radius)}.fdp-approval-flow__watchers{margin-bottom:.5rem;padding-left:.5rem}.fdp-approval-flow__watchers-title{font-size:.875em;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin:1rem 0 .5rem}.fdp-approval-flow__watchers fd-avatar{margin-right:.5rem;cursor:pointer}.fdp-approval-flow__watchers fd-avatar:focus{outline-offset:.0625rem;outline-width:.0625rem;outline-style:dotted;outline-color:var(--sapContent_FocusColor, #0854a0)}.fdp-approval-flow__watchers .fdp-approval-flow__watchers-input-container{width:17.375rem}[dir=rtl] .fdp-approval-flow__watchers,.fdp-approval-flow__watchers[dir=rtl]{padding-right:.5rem}[dir=rtl] .fdp-approval-flow__watchers fd-avatar,.fdp-approval-flow__watchers[dir=rtl] fd-avatar{margin-left:.5rem;margin-right:0}.fdp-approval-flow__container{max-width:100%;position:relative;padding:0 .5rem}.fdp-approval-flow__container--extra-padding-start{padding-left:2rem}.fdp-approval-flow__container--extra-padding-end{padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start{padding-left:.5rem;padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-end{padding-right:.5rem;padding-left:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end{padding-right:2rem;padding-left:2rem}.fdp-approval-flow__graph-container{position:relative;overflow:auto;padding-top:.5rem;padding-bottom:2rem;padding-left:2rem}.fdp-approval-flow__graph-container--multiple-root-nodes{padding-left:4rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-root-nodes,.fdp-approval-flow__graph-container--multiple-root-nodes[dir=rtl]{padding-right:2rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-final-nodes,.fdp-approval-flow__graph-container--multiple-final-nodes[dir=rtl]{padding-left:0}.fdp-approval-flow-carousel-controls{position:absolute;display:flex;align-items:center;width:100%;height:6.375rem;padding-top:.5rem;left:0}.fdp-approval-flow-carousel-controls--edit-mode{height:8.375rem}.fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--next-slide{position:absolute;border:none;background:transparent;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);display:flex;justify-content:space-between;width:2rem;align-items:center;cursor:pointer}.fdp-approval-flow-carousel-controls__button--prev-slide fd-icon,.fdp-approval-flow-carousel-controls__button--next-slide fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;top:.0625rem}.fdp-approval-flow-carousel-controls__button--prev-slide{left:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--prev-slide[dir=rtl]{left:auto;right:0}.fdp-approval-flow-carousel-controls__button--next-slide{right:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--next-slide,.fdp-approval-flow-carousel-controls__button--next-slide[dir=rtl]{left:0;right:auto}.fdp-approval-flow__graph{display:flex;align-items:flex-start;position:relative;left:0;transition:left .3s}.fdp-approval-flow__graph-column{margin-right:4rem;position:relative}[dir=rtl] .fdp-approval-flow__graph-column:first-child,.fdp-approval-flow__graph-column[dir=rtl]:first-child{margin-right:2rem}.fdp-approval-flow__graph fdp-approval-flow-node+fdp-approval-flow-node:not(:last-child){margin-bottom:1rem}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner{padding:0}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content{margin-left:auto}[dir=rtl] .fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content,.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content[dir=rtl]{margin-left:0;margin-right:auto}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--actions{display:none}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner:not(.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner--edit) .fd-toolbar.fd-grid-list__item-toolbar{display:none}.cdk-overlay-container{z-index:1002!important}
/*!
 * Fundamental Library Styles v0.38.0
 * Copyright (c) 2024 SAP SE or an SAP affiliate company.
 * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)
 */
`],encapsulation:2,changeDetection:0})}}return o})();var Ft=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=Xt({type:o})}static{this.\u0275inj=Jt({imports:[Se,$e,Xe,Je,He,St,Tt]})}}return o})();var Al=["reminderTemplate"];function Sl(o,l){o&1&&c(0),o&2&&b(" ","Approved"," ")}function xl(o,l){o&1&&c(0),o&2&&b(" ","Rejected"," ")}function yl(o,l){o&1&&c(0),o&2&&b(" ","In progress"," ")}function Tl(o,l){o&1&&c(0),o&2&&b(" ","Not started"," ")}function Fl(o,l){o&1&&c(0),o&2&&b(" ","Denied"," ")}function El(o,l){o&1&&c(0),o&2&&b(" ","Withdrawn"," ")}function Dl(o,l){if(o&1&&C(0,Sl,1,1)(1,xl,1,1)(2,yl,1,1)(3,Tl,1,1)(4,Fl,1,1)(5,El,1,1),o&2){let e,a=l.node;v((e=a.status)==="approved"?0:e==="rejected"?1:e==="in progress"?2:e==="not started"?3:e==="denied"?4:e==="withdrawn"?5:-1)}}function Nl(o,l){if(o&1&&(r(0,"p")(1,"span"),c(2,"Mobile"),s(),r(3,"a",25),c(4),s()()),o&2){let e=f().data;M("display","flex")("flex-direction","column"),p(3),u("href","tel:"+e.phone,he),p(),z(e.phone)}}function Ml(o,l){if(o&1&&(r(0,"p")(1,"span"),c(2,"Phone"),s(),r(3,"a",25),c(4),s()()),o&2){let e=f().data;M("display","flex")("flex-direction","column"),p(3),u("href","tel:"+e.phone,he),p(),z(e.phone)}}function kl(o,l){if(o&1&&(r(0,"p")(1,"span"),c(2,"E-mail"),s(),r(3,"a",25),c(4),s()()),o&2){let e=f().data;M("display","flex")("flex-direction","column"),p(3),u("href","mailto:"+e.email,he),p(),z(e.email)}}function Il(o,l){if(o&1&&(r(0,"h4"),c(1,"Contact info"),s(),C(2,Nl,5,6,"p",24)(3,Ml,5,6,"p",24)(4,kl,5,6,"p",24),r(5,"h4"),c(6,"Company"),s(),r(7,"p")(8,"span"),c(9,"Name"),s(),r(10,"span"),c(11),s()(),r(12,"p")(13,"span"),c(14,"Address"),s(),r(15,"span"),c(16,"481 West Street, Anytown OH, 83749, USA"),s()()),o&2){let e=l.data;M("margin-bottom",1,"rem"),p(2),v(e!=null&&e.phone?2:-1),p(),v(e!=null&&e.phone?3:-1),p(),v(e!=null&&e.email?4:-1),p(),M("margin-top",1.5,"rem")("margin-bottom",1,"rem"),p(2),M("display","flex")("flex-direction","column"),p(4),b("Company A",e==null?null:e.email,""),p(),M("display","flex")("flex-direction","column")}}function Pl(o,l){if(o&1&&c(0),o&2){let e=f().$implicit;b(" Reminder has been sent to ",e.data.targets[0].name," ")}}function Vl(o,l){if(o&1&&c(0),o&2){let e=f().$implicit;Ce(" Reminder has been sent to ",e.data.targets.length," members of ",e.data.node.description," ")}}function Bl(o,l){if(o&1&&C(0,Pl,1,1)(1,Vl,1,2),o&2){let e=l.$implicit;v(e.data.targets.length===1?0:1)}}function Ll(o,l){if(o&1&&(r(0,"option",5),c(1),w(2,"titlecase"),s()),o&2){let e=l.$implicit;u("value",e),p(),z(h(2,2,e))}}var na=(()=>{class o{constructor(e){this._messageToastService=e,this.graphs=Gl(),this.examples=["empty","simple","medium","complex"],this.selectedExample="complex",this.approvalProcess=this.graphs[this.selectedExample],this.userDataSource=new ve(new Et),this.watcherDataSource=new ve(new Et),this.teamDataSource=new Oe(new Ot),this.checkDueDate=!1,this.setNotStartedStatuses=!1,this.editModeEnabled=!0,this.nodeActionsDisabled=!1,this.nodeActionsConfig={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1,disableEdit:!1,disableRemove:!1},this.nodeActionsConfigForNewNodes={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1},this.allStatuses=["in progress","not started","approved","rejected","denied","withdrawn"],this.sendReminderStatuses=["in progress","not started"],this.disableSaveButton=!1,this.disableExitButton=!1,this.colorMapping={approved:"positive",rejected:"negative","in progress":"informative","not started":"neutral",denied:"critical",withdrawn:"negative"},this._subscriptions=new we,this.newNodes=new Map}ngOnDestroy(){this._subscriptions.unsubscribe()}valueChanged(e){console.log("valueChanged",e)}sendReminders(e){this._messageToastService.open(this._reminderTemplate,{data:{targets:e.users,node:e.node},duration:5e3})}changeExampleData(){this.approvalProcess=O(this.graphs[this.selectedExample])}toggleNodeActions(e){let a=this._approvalFlow.approvalProcess,t=O(a);t.nodes.forEach(i=>{i.disableActions=e}),this.approvalProcess=t}toggleSpecificNodeAction(e,a){let t=this._approvalFlow.approvalProcess,i=O(t);i.nodes.forEach(d=>{d.actionsConfig=re($({},d.actionsConfig),{[e]:a})}),this.approvalProcess=i}newNodeSettingsChange(){this._approvalFlow.approvalProcess.nodes.forEach(a=>{if(this.newNodes.has(a.id)){let t=this._approvalFlow.getNodeMetadataByNodeId(a.id);t.canAddNodeAfter=!this.nodeActionsConfigForNewNodes.disableAddAfter,t.canAddNodeBefore=!this.nodeActionsConfigForNewNodes.disableAddBefore,t.canAddParallel=!this.nodeActionsConfigForNewNodes.disableAddParallel}})}nodeClick(e){console.log("Node click handler",e)}afterNodeAdd(e){console.log("After node add handler",e),this.newNodes.set(e.id,e),this.newNodeSettingsChange()}afterNodeEdit(e){console.log("After node edit handler",e),this.newNodeSettingsChange()}setNotStarted(){let e=this._approvalFlow.approvalProcess,a=new Map(this.graphs[this.selectedExample].nodes.map(i=>[i.id,i])),t=O(e);t.nodes=t.nodes.map(i=>{let d=this.setNotStartedStatuses||!a.has(i.id)?"not started":a.get(i.id).status;return re($({},i),{status:d})}),this.approvalProcess=t}static{this.\u0275fac=function(a){return new(a||o)(R(vt))}}static{this.\u0275cmp=V({type:o,selectors:[["fdp-platform-approval-flow-custom-status-example"]],viewQuery:function(a,t){if(a&1&&(Q(Se,5),Q(Al,5)),a&2){let i;j(i=G())&&(t._approvalFlow=i.first),j(i=G())&&(t._reminderTemplate=i.first)}},standalone:!0,features:[L],decls:71,vars:45,consts:[["approvalStatusTemplate",""],["userDetailsTemplate",""],["reminderTemplate",""],["title","Basic Approval Flow Demo",3,"nodeClick","afterNodeAdd","afterNodeEdit","valueChange","sendReminders","value","userDetailsTemplate","approvalStatusTemplate","statusColorMapping","userDataSource","watcherDataSource","teamDataSource","checkDueDate","allowSendRemindersForStatuses","isEditAvailable","disableSaveButton","disableExitButton"],[3,"ngModelChange","ngModel"],[3,"value"],["type","checkbox",3,"ngModelChange","ngModel"],["id","disableAddingNodeBefore","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeBefore"],["id","disableAddingNodeAfter","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeAfter"],["id","disableAddingNodeParallel","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeParallel"],["id","disableEditingNode","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableEditingNode"],["id","disableRemovingNode","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableRemovingNode"],["fdCompact","",3,"ngModelChange","dropdownValues","ngModel"],["id","disableAddingNodeBeforeForNewNodes","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeBeforeForNewNodes"],["id","disableAddingNodeAfterForNewNodes","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeAfterForNewNodes"],["id","disableAddingNodeParallelForNewNodes","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeParallelForNewNodes"],[3,"display","flex-direction"],[3,"href"]],template:function(a,t){if(a&1){let i=A();r(0,"fdp-approval-flow",3),g("nodeClick",function(n){return m(i),_(t.nodeClick(n))})("afterNodeAdd",function(n){return m(i),_(t.afterNodeAdd(n))})("afterNodeEdit",function(n){return m(i),_(t.afterNodeEdit(n))})("valueChange",function(n){return m(i),_(t.valueChanged(n))})("sendReminders",function(n){return m(i),_(t.sendReminders(n))}),s(),C(1,Dl,6,1,"ng-template",null,0,ne)(3,Il,17,18,"ng-template",null,1,ne)(5,Bl,2,1,"ng-template",null,2,ne),r(7,"p"),c(8," Selected example: "),r(9,"select",4),y("ngModelChange",function(n){return m(i),x(t.selectedExample,n)||(t.selectedExample=n),_(n)}),g("ngModelChange",function(){return m(i),_(t.changeExampleData())}),K(10,Ll,3,4,"option",5,de),s()(),r(12,"p"),c(13,'Enable "Edit mode": '),r(14,"input",6),y("ngModelChange",function(n){return m(i),x(t.editModeEnabled,n)||(t.editModeEnabled=n),_(n)}),s()(),r(15,"p"),c(16,"Enable due date warnings: "),r(17,"input",6),y("ngModelChange",function(n){return m(i),x(t.checkDueDate,n)||(t.checkDueDate=n),_(n)}),s()(),r(18,"p"),c(19,' Set all statuses to "Not Started": '),r(20,"input",6),y("ngModelChange",function(n){return m(i),x(t.setNotStartedStatuses,n)||(t.setNotStartedStatuses=n),_(n)}),g("ngModelChange",function(){return m(i),_(t.setNotStarted())}),s()(),r(21,"p"),c(22," Disable all node actions: "),r(23,"input",6),y("ngModelChange",function(n){return m(i),x(t.nodeActionsDisabled,n)||(t.nodeActionsDisabled=n),_(n)}),g("ngModelChange",function(n){return m(i),_(t.toggleNodeActions(n))}),s()(),r(24,"p"),c(25,"Disable certain node actions:"),s(),r(26,"div")(27,"p")(28,"input",7),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfig.disableAddBefore,n)||(t.nodeActionsConfig.disableAddBefore=n),_(n)}),g("ngModelChange",function(n){return m(i),_(t.toggleSpecificNodeAction("disableAddBefore",n))}),s(),r(29,"label",8),c(30,"Disable adding before"),s()(),r(31,"p")(32,"input",9),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfig.disableAddAfter,n)||(t.nodeActionsConfig.disableAddAfter=n),_(n)}),g("ngModelChange",function(n){return m(i),_(t.toggleSpecificNodeAction("disableAddAfter",n))}),s(),r(33,"label",10),c(34,"Disable adding after"),s()(),r(35,"p")(36,"input",11),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfig.disableAddParallel,n)||(t.nodeActionsConfig.disableAddParallel=n),_(n)}),g("ngModelChange",function(n){return m(i),_(t.toggleSpecificNodeAction("disableAddParallel",n))}),s(),r(37,"label",12),c(38,"Disable adding parallel"),s()(),r(39,"p")(40,"input",13),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfig.disableEdit,n)||(t.nodeActionsConfig.disableEdit=n),_(n)}),g("ngModelChange",function(n){return m(i),_(t.toggleSpecificNodeAction("disableEdit",n))}),s(),r(41,"label",14),c(42,"Disable editing"),s()(),r(43,"p")(44,"input",15),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfig.disableRemove,n)||(t.nodeActionsConfig.disableRemove=n),_(n)}),g("ngModelChange",function(n){return m(i),_(t.toggleSpecificNodeAction("disableRemove",n))}),s(),r(45,"label",16),c(46,"Disable removing"),s()()(),r(47,"p"),c(48," Allow sending reminders to approvers with statuses: "),r(49,"fd-multi-input",17),y("ngModelChange",function(n){return m(i),x(t.sendReminderStatuses,n)||(t.sendReminderStatuses=n),_(n)}),s()(),r(50,"p"),c(51,"Disable certain node actions for newly added nodes:"),s(),r(52,"div")(53,"p")(54,"input",18),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfigForNewNodes.disableAddBefore,n)||(t.nodeActionsConfigForNewNodes.disableAddBefore=n),_(n)}),g("ngModelChange",function(){return m(i),_(t.newNodeSettingsChange())}),s(),r(55,"label",19),c(56,"Disable adding before"),s()(),r(57,"p")(58,"input",20),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfigForNewNodes.disableAddAfter,n)||(t.nodeActionsConfigForNewNodes.disableAddAfter=n),_(n)}),g("ngModelChange",function(){return m(i),_(t.newNodeSettingsChange())}),s(),r(59,"label",21),c(60,"Disable adding after"),s()(),r(61,"p")(62,"input",22),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfigForNewNodes.disableAddParallel,n)||(t.nodeActionsConfigForNewNodes.disableAddParallel=n),_(n)}),g("ngModelChange",function(){return m(i),_(t.newNodeSettingsChange())}),s(),r(63,"label",23),c(64,"Disable adding parallel"),s()()(),r(65,"p"),c(66,'Disable "Save" button: '),r(67,"input",6),y("ngModelChange",function(n){return m(i),x(t.disableSaveButton,n)||(t.disableSaveButton=n),_(n)}),s()(),r(68,"p"),c(69,'Disable "Exit" button: '),r(70,"input",6),y("ngModelChange",function(n){return m(i),x(t.disableExitButton,n)||(t.disableExitButton=n),_(n)}),s()()}if(a&2){let i=U(2),d=U(4);u("value",t.approvalProcess)("userDetailsTemplate",d)("approvalStatusTemplate",i)("statusColorMapping",t.colorMapping)("userDataSource",t.userDataSource)("watcherDataSource",t.watcherDataSource)("teamDataSource",t.teamDataSource)("checkDueDate",t.checkDueDate)("allowSendRemindersForStatuses",t.sendReminderStatuses)("isEditAvailable",t.editModeEnabled)("disableSaveButton",t.disableSaveButton)("disableExitButton",t.disableExitButton),p(9),S("ngModel",t.selectedExample),p(),Y(t.examples),p(4),S("ngModel",t.editModeEnabled),p(3),S("ngModel",t.checkDueDate),p(3),S("ngModel",t.setNotStartedStatuses),p(3),S("ngModel",t.nodeActionsDisabled),p(5),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfig.disableAddBefore),p(4),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfig.disableAddAfter),p(4),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfig.disableAddParallel),p(4),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfig.disableEdit),p(4),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfig.disableRemove),p(3),M("display","flex")("align-items","center")("flex-wrap","wrap"),p(2),M("margin-left",.5,"rem"),u("dropdownValues",t.allStatuses),S("ngModel",t.sendReminderStatuses),p(5),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfigForNewNodes.disableAddBefore),p(4),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfigForNewNodes.disableAddAfter),p(4),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfigForNewNodes.disableAddParallel),p(5),S("ngModel",t.disableSaveButton),p(3),S("ngModel",t.disableExitButton)}},dependencies:[Ft,Se,oe,pt,st,rt,dt,ee,te,Ae,Z,it,Ge],encapsulation:2})}}return o})(),Rl=1e3*60*60*24,zt=()=>[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}],la={};zt().forEach(o=>la[o.id]=o);var Wl=()=>[{id:"teamId1",name:"Accounting team",description:"",members:["uid66171","uid66161","uid66151","uid66141"].map(o=>F(o))},{id:"teamId2",name:"Sales team",description:"",members:["uid77111","uid77115","uid77135","uid81955"].map(o=>F(o))},{id:"teamId3",name:"Legal team",description:"",members:["uid28141","uid08141","uid99641"].map(o=>F(o))},{id:"teamId4",name:"Marketing team",description:"",members:["uid38141","uid37866","uid09141","uid81353","uid81355","uid99655","uid09641","uid99651"].map(o=>F(o))}],Ul=()=>({watchers:[F("uid66161")],nodes:[]}),zl=()=>({watchers:[F("uid66161")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[F("uid81955")],status:"approved",targets:["ID2"],dueDate:D(30),createDate:D(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[F("uid66171")],status:"in progress",targets:["ID3"],dueDate:D(10),createDate:D(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[F("uid81355")],status:"withdrawn",targets:[],dueDate:D(10),createDate:D(-30)}]}),Ol=()=>({watchers:[F("uid66151"),F("uid77115")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[F("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:D(30),createDate:D(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[F("uid66171")],status:"in progress",targets:["ID3"],dueDate:D(30),createDate:D(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[F("uid77135")],status:"approved",targets:["ID3"],dueDate:D(30),createDate:D(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[F("uid77111"),F("uid09641"),F("uid09141"),F("uid37866"),F("uid99641"),F("uid38141")],status:"not started",targets:["ID3"],dueDate:D(5),createDate:D(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[F("uid81355")],status:"not started",targets:["ID4"],dueDate:D(30),createDate:D(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[F("uid99651")],status:"not started",targets:[],dueDate:D(30),createDate:D(-30)}]}),jl=()=>({watchers:[F("uid66151"),F("uid66141"),F("uid99651"),F("uid99655")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[F("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:D(30),createDate:D(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[F("uid66171")],status:"in progress",targets:["ID3"],dueDate:D(30),createDate:D(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[F("uid28141")],status:"approved",targets:["ID220"],dueDate:D(30),createDate:D(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[F("uid77111"),F("uid09641")],status:"in progress",targets:["ID2220"],dueDate:D(3),createDate:D(-30)},{id:"ID220",name:"node name",description:"node description",approvers:[F("uid08141")],status:"denied",targets:["ID3"],dueDate:D(30),createDate:D(-30)},{id:"ID2220",name:"node name",description:"Marketing",approvers:[F("uid81353")],status:"withdrawn",targets:["ID3"],dueDate:D(30),createDate:D(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[F("uid81355")],status:"not started",targets:["ID4"],dueDate:D(30),createDate:D(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[F("uid99651")],status:"not started",targets:[],dueDate:D(30),createDate:D(-30)}]}),Gl=()=>({empty:Ul(),simple:zl(),medium:Ol(),complex:jl()});function F(o){return la[o]}function D(o){return new Date(Date.now()+Rl*o)}var Et=class extends ze{fetch(l){let e=zt(),a=l.get("query")?.toLowerCase();return a&&(e=e.filter(t=>t.name?.toLowerCase().startsWith(a))),ge(O(e)).pipe(Ee(500))}getOne(l){let e=l.get("id"),a=zt().find(t=>t.id===e);return ge(re($({},a),{phone:Math.random().toFixed(13).toString().replace("0.",""),email:`${a.name.toLowerCase().split(" ").join(".")}@company.com`}))}},Ot=class extends ze{fetch(l){let e=Wl(),a=l.get("query")?.toLowerCase();return a&&(e=e.filter(t=>t.name?.toLowerCase().startsWith(a))),ge(O(e)).pipe(Ee(500))}};var Ql=["approvalFlowComponent"],Hl=["reminderTemplate"];function Zl(o,l){if(o&1&&(r(0,"p")(1,"span"),c(2,"Mobile"),s(),r(3,"a",25),c(4),s()()),o&2){let e=f().data;M("display","flex")("flex-direction","column"),p(3),u("href","tel:"+e.phone,he),p(),z(e.phone)}}function ql(o,l){if(o&1&&(r(0,"p")(1,"span"),c(2,"Phone"),s(),r(3,"a",25),c(4),s()()),o&2){let e=f().data;M("display","flex")("flex-direction","column"),p(3),u("href","tel:"+e.phone,he),p(),z(e.phone)}}function Kl(o,l){if(o&1&&(r(0,"p")(1,"span"),c(2,"E-mail"),s(),r(3,"a",25),c(4),s()()),o&2){let e=f().data;M("display","flex")("flex-direction","column"),p(3),u("href","mailto:"+e.email,he),p(),z(e.email)}}function Yl(o,l){if(o&1&&(r(0,"h4"),c(1,"Contact info"),s(),C(2,Zl,5,6,"p",24)(3,ql,5,6,"p",24)(4,Kl,5,6,"p",24),r(5,"h4"),c(6,"Company"),s(),r(7,"p")(8,"span"),c(9,"Name"),s(),r(10,"span"),c(11),s()(),r(12,"p")(13,"span"),c(14,"Address"),s(),r(15,"span"),c(16,"481 West Street, Anytown OH, 83749, USA"),s()()),o&2){let e=l.data;M("margin-bottom",1,"rem"),p(2),v(e!=null&&e.phone?2:-1),p(),v(e!=null&&e.phone?3:-1),p(),v(e!=null&&e.email?4:-1),p(),M("margin-top",1.5,"rem")("margin-bottom",1,"rem"),p(2),M("display","flex")("flex-direction","column"),p(4),b("Company A",e==null?null:e.email,""),p(),M("display","flex")("flex-direction","column")}}function Jl(o,l){if(o&1&&c(0),o&2){let e=f().$implicit;b(" Reminder has been sent to ",e.data.targets[0].name," ")}}function Xl(o,l){if(o&1&&c(0),o&2){let e=f().$implicit;Ce(" Reminder has been sent to ",e.data.targets.length," members of ",e.data.node.description," ")}}function $l(o,l){if(o&1&&C(0,Jl,1,1)(1,Xl,1,2),o&2){let e=l.$implicit;v(e.data.targets.length===1?0:1)}}function er(o,l){if(o&1&&(r(0,"option",5),c(1),w(2,"titlecase"),s()),o&2){let e=l.$implicit;u("value",e),p(),z(h(2,2,e))}}var ra=(()=>{class o{constructor(e){this._messageToastService=e,this.graphs=rr(),this.examples=["empty","simple","medium","complex"],this.selectedExample="complex",this.approvalProcess=this.graphs[this.selectedExample],this.userDataSource=new ve(new Dt),this.watcherDataSource=new ve(new Dt),this.teamDataSource=new Oe(new Gt),this.checkDueDate=!1,this.setNotStartedStatuses=!1,this.editModeEnabled=!0,this.nodeActionsDisabled=!1,this.nodeActionsConfig={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1,disableEdit:!1,disableRemove:!1},this.nodeActionsConfigForNewNodes={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1},this.allStatuses=["in progress","not started","approved","rejected"],this.sendReminderStatuses=["in progress","not started"],this.isRemoveSpaceNode=!1,this.disableSaveButton=!1,this.disableExitButton=!1,this._subscriptions=new we,this.newNodes=new Map}ngOnDestroy(){this._subscriptions.unsubscribe()}valueChanged(e){console.log("valueChanged",e)}sendReminders(e){this._messageToastService.open(this._reminderTemplate,{data:{targets:e.users,node:e.node},duration:5e3})}changeExampleData(){this.approvalProcess=O(this.graphs[this.selectedExample])}toggleNodeActions(e){let a=this._approvalFlow.approvalProcess,t=O(a);t.nodes.forEach(i=>{i.disableActions=e}),this.approvalProcess=t}toggleSpecificNodeAction(e,a){let t=this._approvalFlow.approvalProcess,i=O(t);i.nodes.forEach(d=>{d.actionsConfig=re($({},d.actionsConfig),{[e]:a})}),this.approvalProcess=i}newNodeSettingsChange(){this._approvalFlow.approvalProcess.nodes.forEach(a=>{if(this.newNodes.has(a.id)){let t=this._approvalFlow.getNodeMetadataByNodeId(a.id);t.canAddNodeAfter=!this.nodeActionsConfigForNewNodes.disableAddAfter,t.canAddNodeBefore=!this.nodeActionsConfigForNewNodes.disableAddBefore,t.canAddParallel=!this.nodeActionsConfigForNewNodes.disableAddParallel}})}nodeClick(e){console.log("Node click handler",e)}afterNodeAdd(e){console.log("After node add handler",e),this.newNodes.set(e.id,e),this.newNodeSettingsChange()}afterNodeEdit(e){console.log("After node edit handler",e),this.newNodeSettingsChange()}setNotStarted(){let e=this._approvalFlow.approvalProcess,a=new Map(this.graphs[this.selectedExample].nodes.map(i=>[i.id,i])),t=O(e);t.nodes=t.nodes.map(i=>{let d=this.setNotStartedStatuses||!a.has(i.id)?"not started":a.get(i.id).status;return re($({},i),{status:d})}),this.approvalProcess=t}static{this.\u0275fac=function(a){return new(a||o)(R(vt))}}static{this.\u0275cmp=V({type:o,selectors:[["fdp-platform-approval-flow-example"]],viewQuery:function(a,t){if(a&1&&(Q(Ql,5),Q(Hl,5)),a&2){let i;j(i=G())&&(t._approvalFlow=i.first),j(i=G())&&(t._reminderTemplate=i.first)}},standalone:!0,features:[L],decls:73,vars:45,consts:[["approvalFlowComponent",""],["userDetailsTemplate",""],["reminderTemplate",""],["title","Basic Approval Flow Demo",3,"nodeClick","afterNodeAdd","afterNodeEdit","valueChange","sendReminders","value","userDetailsTemplate","userDataSource","watcherDataSource","teamDataSource","checkDueDate","allowSendRemindersForStatuses","isEditAvailable","disableSaveButton","disableExitButton","removeSpaceNode"],[3,"ngModelChange","ngModel"],[3,"value"],["type","checkbox",3,"ngModelChange","ngModel"],["id","disableAddingNodeBefore","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeBefore"],["id","disableAddingNodeAfter","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeAfter"],["id","disableAddingNodeParallel","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeParallel"],["id","disableEditingNode","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableEditingNode"],["id","disableRemovingNode","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableRemovingNode"],["fdCompact","",3,"ngModelChange","dropdownValues","ngModel"],["id","disableAddingNodeBeforeForNewNodes","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeBeforeForNewNodes"],["id","disableAddingNodeAfterForNewNodes","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeAfterForNewNodes"],["id","disableAddingNodeParallelForNewNodes","type","checkbox",3,"ngModelChange","disabled","ngModel"],["for","disableAddingNodeParallelForNewNodes"],[3,"display","flex-direction"],[3,"href"]],template:function(a,t){if(a&1){let i=A();r(0,"fdp-approval-flow",3,0),g("nodeClick",function(n){return m(i),_(t.nodeClick(n))})("afterNodeAdd",function(n){return m(i),_(t.afterNodeAdd(n))})("afterNodeEdit",function(n){return m(i),_(t.afterNodeEdit(n))})("valueChange",function(n){return m(i),_(t.valueChanged(n))})("sendReminders",function(n){return m(i),_(t.sendReminders(n))}),s(),C(2,Yl,17,18,"ng-template",null,1,ne)(4,$l,2,1,"ng-template",null,2,ne),r(6,"p"),c(7," Selected example: "),r(8,"select",4),y("ngModelChange",function(n){return m(i),x(t.selectedExample,n)||(t.selectedExample=n),_(n)}),g("ngModelChange",function(){return m(i),_(t.changeExampleData())}),K(9,er,3,4,"option",5,de),s()(),r(11,"p"),c(12,'Enable "Edit mode": '),r(13,"input",6),y("ngModelChange",function(n){return m(i),x(t.editModeEnabled,n)||(t.editModeEnabled=n),_(n)}),s()(),r(14,"p"),c(15,"Enable due date warnings: "),r(16,"input",6),y("ngModelChange",function(n){return m(i),x(t.checkDueDate,n)||(t.checkDueDate=n),_(n)}),s()(),r(17,"p"),c(18,' Set all statuses to "Not Started": '),r(19,"input",6),y("ngModelChange",function(n){return m(i),x(t.setNotStartedStatuses,n)||(t.setNotStartedStatuses=n),_(n)}),g("ngModelChange",function(){return m(i),_(t.setNotStarted())}),s()(),r(20,"p"),c(21," Disable all node actions: "),r(22,"input",6),y("ngModelChange",function(n){return m(i),x(t.nodeActionsDisabled,n)||(t.nodeActionsDisabled=n),_(n)}),g("ngModelChange",function(n){return m(i),_(t.toggleNodeActions(n))}),s()(),r(23,"p"),c(24,"Disable certain node actions:"),s(),r(25,"div")(26,"p")(27,"input",7),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfig.disableAddBefore,n)||(t.nodeActionsConfig.disableAddBefore=n),_(n)}),g("ngModelChange",function(n){return m(i),_(t.toggleSpecificNodeAction("disableAddBefore",n))}),s(),r(28,"label",8),c(29,"Disable adding before"),s()(),r(30,"p")(31,"input",9),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfig.disableAddAfter,n)||(t.nodeActionsConfig.disableAddAfter=n),_(n)}),g("ngModelChange",function(n){return m(i),_(t.toggleSpecificNodeAction("disableAddAfter",n))}),s(),r(32,"label",10),c(33,"Disable adding after"),s()(),r(34,"p")(35,"input",11),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfig.disableAddParallel,n)||(t.nodeActionsConfig.disableAddParallel=n),_(n)}),g("ngModelChange",function(n){return m(i),_(t.toggleSpecificNodeAction("disableAddParallel",n))}),s(),r(36,"label",12),c(37,"Disable adding parallel"),s()(),r(38,"p")(39,"input",13),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfig.disableEdit,n)||(t.nodeActionsConfig.disableEdit=n),_(n)}),g("ngModelChange",function(n){return m(i),_(t.toggleSpecificNodeAction("disableEdit",n))}),s(),r(40,"label",14),c(41,"Disable editing"),s()(),r(42,"p")(43,"input",15),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfig.disableRemove,n)||(t.nodeActionsConfig.disableRemove=n),_(n)}),g("ngModelChange",function(n){return m(i),_(t.toggleSpecificNodeAction("disableRemove",n))}),s(),r(44,"label",16),c(45,"Disable removing"),s()()(),r(46,"p"),c(47," Allow sending reminders to approvers with statuses: "),r(48,"fd-multi-input",17),y("ngModelChange",function(n){return m(i),x(t.sendReminderStatuses,n)||(t.sendReminderStatuses=n),_(n)}),s()(),r(49,"p"),c(50,"Disable certain node actions for newly added nodes:"),s(),r(51,"div")(52,"p")(53,"input",18),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfigForNewNodes.disableAddBefore,n)||(t.nodeActionsConfigForNewNodes.disableAddBefore=n),_(n)}),g("ngModelChange",function(){return m(i),_(t.newNodeSettingsChange())}),s(),r(54,"label",19),c(55,"Disable adding before"),s()(),r(56,"p")(57,"input",20),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfigForNewNodes.disableAddAfter,n)||(t.nodeActionsConfigForNewNodes.disableAddAfter=n),_(n)}),g("ngModelChange",function(){return m(i),_(t.newNodeSettingsChange())}),s(),r(58,"label",21),c(59,"Disable adding after"),s()(),r(60,"p")(61,"input",22),y("ngModelChange",function(n){return m(i),x(t.nodeActionsConfigForNewNodes.disableAddParallel,n)||(t.nodeActionsConfigForNewNodes.disableAddParallel=n),_(n)}),g("ngModelChange",function(){return m(i),_(t.newNodeSettingsChange())}),s(),r(62,"label",23),c(63,"Disable adding parallel"),s()()(),r(64,"p"),c(65,'Disable "Save" button: '),r(66,"input",6),y("ngModelChange",function(n){return m(i),x(t.disableSaveButton,n)||(t.disableSaveButton=n),_(n)}),s()(),r(67,"p"),c(68,'Disable "Exit" button: '),r(69,"input",6),y("ngModelChange",function(n){return m(i),x(t.disableExitButton,n)||(t.disableExitButton=n),_(n)}),s()(),r(70,"p"),c(71,"Remove space node: "),r(72,"input",6),y("ngModelChange",function(n){return m(i),x(t.isRemoveSpaceNode,n)||(t.isRemoveSpaceNode=n),_(n)}),s()()}if(a&2){let i=U(3);u("value",t.approvalProcess)("userDetailsTemplate",i)("userDataSource",t.userDataSource)("watcherDataSource",t.watcherDataSource)("teamDataSource",t.teamDataSource)("checkDueDate",t.checkDueDate)("allowSendRemindersForStatuses",t.sendReminderStatuses)("isEditAvailable",t.editModeEnabled)("disableSaveButton",t.disableSaveButton)("disableExitButton",t.disableExitButton)("removeSpaceNode",t.isRemoveSpaceNode),p(8),S("ngModel",t.selectedExample),p(),Y(t.examples),p(4),S("ngModel",t.editModeEnabled),p(3),S("ngModel",t.checkDueDate),p(3),S("ngModel",t.setNotStartedStatuses),p(3),S("ngModel",t.nodeActionsDisabled),p(5),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfig.disableAddBefore),p(4),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfig.disableAddAfter),p(4),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfig.disableAddParallel),p(4),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfig.disableEdit),p(4),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfig.disableRemove),p(3),M("display","flex")("align-items","center")("flex-wrap","wrap"),p(2),M("margin-left",.5,"rem"),u("dropdownValues",t.allStatuses),S("ngModel",t.sendReminderStatuses),p(5),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfigForNewNodes.disableAddBefore),p(4),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfigForNewNodes.disableAddAfter),p(4),u("disabled",t.nodeActionsDisabled),S("ngModel",t.nodeActionsConfigForNewNodes.disableAddParallel),p(5),S("ngModel",t.disableSaveButton),p(3),S("ngModel",t.disableExitButton),p(3),S("ngModel",t.isRemoveSpaceNode)}},dependencies:[Ft,Se,oe,pt,st,rt,dt,ee,te,Ae,Z,it,Ge],encapsulation:2})}}return o})(),tr=1e3*60*60*24,jt=()=>[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}],da={};jt().forEach(o=>da[o.id]=o);var or=()=>[{id:"teamId1",name:"Accounting team",description:"",members:["uid66171","uid66161","uid66151","uid66141"].map(o=>E(o))},{id:"teamId2",name:"Sales team",description:"",members:["uid77111","uid77115","uid77135","uid81955"].map(o=>E(o))},{id:"teamId3",name:"Legal team",description:"",members:["uid28141","uid08141","uid99641"].map(o=>E(o))},{id:"teamId4",name:"Marketing team",description:"",members:["uid38141","uid37866","uid09141","uid81353","uid81355","uid99655","uid09641","uid99651"].map(o=>E(o))}],ar=()=>({watchers:[E("uid66161")],nodes:[]}),ir=()=>({watchers:[E("uid66161")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[E("uid81955")],status:"approved",targets:["ID2"],dueDate:N(30),createDate:N(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[E("uid66171")],status:"in progress",targets:["ID3"],dueDate:N(10),createDate:N(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[E("uid81355")],status:"not started",targets:[],dueDate:N(10),createDate:N(-30)}]}),nr=()=>({watchers:[E("uid66151"),E("uid77115")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[E("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:N(30),createDate:N(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[E("uid66171")],status:"in progress",targets:["ID3"],dueDate:N(30),createDate:N(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[E("uid77135")],status:"approved",targets:["ID3"],dueDate:N(30),createDate:N(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[E("uid77111"),E("uid09641"),E("uid09141"),E("uid37866"),E("uid99641"),E("uid38141")],status:"not started",targets:["ID3"],dueDate:N(5),createDate:N(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[E("uid81355")],status:"not started",targets:["ID4"],dueDate:N(30),createDate:N(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[E("uid99651")],status:"not started",targets:[],dueDate:N(30),createDate:N(-30)}]}),lr=()=>({watchers:[E("uid66151"),E("uid66141"),E("uid99651"),E("uid99655")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[E("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:N(30),createDate:N(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[E("uid66171")],status:"in progress",targets:["ID3"],dueDate:N(30),createDate:N(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[E("uid28141")],status:"approved",targets:["ID220"],dueDate:N(30),createDate:N(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[E("uid77111"),E("uid09641")],status:"in progress",targets:["ID2220"],dueDate:N(3),createDate:N(-30)},{id:"ID220",name:"node name",description:"node description",approvers:[E("uid08141")],status:"rejected",targets:["ID3"],dueDate:N(30),createDate:N(-30)},{id:"ID2220",name:"node name",description:"Marketing",approvers:[E("uid81353")],status:"not started",targets:["ID3"],dueDate:N(30),createDate:N(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[E("uid81355")],status:"not started",targets:["ID4"],dueDate:N(30),createDate:N(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[E("uid99651")],status:"not started",targets:[],dueDate:N(30),createDate:N(-30)}]}),rr=()=>({empty:ar(),simple:ir(),medium:nr(),complex:lr()});function E(o){return da[o]}function N(o){return new Date(Date.now()+tr*o)}var Dt=class extends ze{fetch(l){let e=jt(),a=l.get("query")?.toLowerCase();return a&&(e=e.filter(t=>t.name?.toLowerCase().startsWith(a))),ge(O(e)).pipe(Ee(500))}getOne(l){let e=l.get("id"),a=jt().find(t=>t.id===e);return ge(re($({},a),{phone:Math.random().toFixed(13).toString().replace("0.",""),email:`${a.name.toLowerCase().split(" ").join(".")}@company.com`}))}},Gt=class extends ze{fetch(l){let e=or(),a=l.get("query")?.toLowerCase();return a&&(e=e.filter(t=>t.name?.toLowerCase().startsWith(a))),ge(O(e)).pipe(Ee(500))}};var dr="platform-approval-flow-example.component.html",pr="platform-approval-flow-example.component.ts",sr="platform-approval-flow-custom-status-example.component.ts",fr="platform-approval-flow-custom-status-example.component.html",pa=(()=>{class o{constructor(){this.basic=[{language:"html",code:Ze(dr),fileName:"platform-approval-flow-example",name:"approval-flow-example"},{language:"typescript",code:Ze(pr),fileName:"platform-approval-flow-example",component:"PlatformApprovalFlowExampleComponent",name:"approval-flow-example"}],this.status=[{language:"html",code:Ze(fr),fileName:"platform-approval-flow-custom-status-example",name:"platform-approval-flow-custom-status-example"},{language:"typescript",code:Ze(sr),fileName:"platform-approval-flow-custom-status-example",component:"PlatformApprovalFlowCustomStatusExampleComponent",name:"platform-approval-flow-custom-status-example"}]}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=V({type:o,selectors:[["app-approval-flow"]],standalone:!0,features:[L],decls:20,vars:2,consts:[["id","approval-flow","componentName","approval-flow"],[3,"exampleFiles"],["id","custom-width","componentName","table"]],template:function(a,t){a&1&&(r(0,"fd-docs-section-title",0),c(1," Approval flow "),s(),r(2,"component-example"),k(3,"fdp-platform-approval-flow-example"),s(),k(4,"code-example",1)(5,"separator"),r(6,"fd-docs-section-title",2),c(7,` Approval Flow with custom statuses
`),s(),r(8,"description")(9,"p"),c(10," In this example we have custom status defined on the application level. We need to provide a "),r(11,"code"),c(12,"approvalStatusTemplate"),s(),c(13," template to tell the "),r(14,"code"),c(15,"ApprovalFlow"),s(),c(16," component how to handle these different states "),s()(),r(17,"component-example"),k(18,"fdp-platform-approval-flow-custom-status-example"),s(),k(19,"code-example",1)),a&2&&(p(4),u("exampleFiles",t.basic),p(15),u("exampleFiles",t.status))},dependencies:[No,Eo,ra,Co,Mo,ut,Ge,na],encapsulation:2})}}return o})();var sa=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=V({type:o,selectors:[["fd-approval-flow-header"]],standalone:!0,features:[L],decls:19,vars:1,consts:[["type","warning",3,"dismissible"],["label","SAP Ariba Component","title","SAP Ariba Component","color","8"],["module","PlatformApprovalFlowModule","subPackage","approval-flow"]],template:function(a,t){a&1&&(r(0,"fd-doc-page")(1,"header"),c(2,"Approval Flow"),s(),r(3,"fd-message-strip",0),c(4," DEPRECATED. The component is not a standard SAP Design System component. "),s(),k(5,"fd-info-label",1),r(6,"description"),c(7," The Approval Flow component is a complex component which tracks and manages the approval process for a business object. From the Approval Flow component a user is able to: "),r(8,"ul")(9,"li"),c(10,"See the progress of the approval process"),s(),r(11,"li"),c(12,"Add, edit, move (drag and drop) and delete approvers"),s(),r(13,"li"),c(14,"Add and remove watchers"),s(),r(15,"li"),c(16,"Send reminder notifications to approvers"),s()()(),k(17,"import",2)(18,"fd-header-tabs"),s()),a&2&&(p(3),u("dismissible",!1))},dependencies:[Do,Io,lt,Ho,Qo,ut,Po,ko]})}}return o})();var cc=[{path:"",component:sa,children:[{path:"",component:pa}],data:{primary:!0}}],mc="approval-flow",_c="approvalFlow",uc="platformApprovalFlow";export{_c as API_FILE_KEY,uc as I18N_KEY,mc as LIBRARY_NAME,cc as ROUTES};
