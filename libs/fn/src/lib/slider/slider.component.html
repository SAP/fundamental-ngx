<div class="fn-slider__wrapper">
    <ng-container [ngTemplateOutlet]="range ? rangeMode : singleMode"></ng-container>
</div>

<ng-template #singleMode>
    <div class="fn-slider__track" [style.width.%]="_progress">
        <div class="fn-slider__track-range"></div>
        <fn-slider-handle
            (mousedown)="onHandleClick($event)"
            (keydown)="onKeyDown($event)"
            [ariaLabel]="ariaLabel || 'slider minimum value is ' + minValue + ', maximum value is ' + maxValue"
            [ariaValueMax]="ariaValuePrefix + maxValue"
            [ariaValueMin]="ariaValuePrefix + minValue"
            [ariaLabelledBy]="ariaLabelledBy"
            [ariaValueNow]="singleSliderCurrentValuePrefix + getValuenow(_position, _sliderValueTargets.SINGLE_SLIDER)"
            [ariaValueText]="singleSliderCurrentValuePrefix + getValuenow(_position, _sliderValueTargets.SINGLE_SLIDER)"
        ></fn-slider-handle>
    </div>
</ng-template>

<ng-template #rangeMode>
    <div
        class="fn-slider__track"
        [style.width.%]="_rangeProgress"
        [style.left.%]="!_isRtl ? _handle1Position : null"
        [style.right.%]="_isRtl ? _handle1Position : null"
    >
        <fn-slider-handle
            #rangeHandle1
            (mousedown)="onHandleClick($event)"
            (keydown)="onKeyDown($event)"
            [ariaLabel]="ariaLabel || 'slider minimum value is ' + minValue + ', maximum value is ' + maxValue"
            [ariaValueMax]="ariaValuePrefix + maxValue"
            [ariaValueMin]="ariaValuePrefix + minValue"
            [ariaLabelledBy]="ariaLabelledBy"
            [ariaValueNow]="
                rangeSliderHandle1CurrentValuePrefix + getValuenow(_handle1Value, _sliderValueTargets.RANGE_SLIDER1)
            "
            [ariaValueText]="
                rangeSliderHandle1CurrentValuePrefix + getValuenow(_handle1Value, _sliderValueTargets.RANGE_SLIDER1)
            "
        ></fn-slider-handle>
        <div class="fn-slider__track-range"></div>
        <fn-slider-handle
            #rangeHandle2
            (mousedown)="onHandleClick($event)"
            (keydown)="onKeyDown($event)"
            [ariaLabel]="ariaLabel || 'slider minimum value is ' + minValue + ', maximum value is ' + maxValue"
            [ariaValueMax]="ariaValuePrefix + maxValue"
            [ariaValueMin]="ariaValuePrefix + minValue"
            [ariaLabelledBy]="ariaLabelledBy"
            [ariaValueNow]="
                rangeSliderHandle2CurrentValuePrefix + getValuenow(_handle2Value, _sliderValueTargets.RANGE_SLIDER2)
            "
            [ariaValueText]="
                rangeSliderHandle2CurrentValuePrefix + getValuenow(_handle2Value, _sliderValueTargets.RANGE_SLIDER2)
            "
        ></fn-slider-handle>
    </div>
</ng-template>
