<fd-shellbar
    [showBackButton]="true"
    [showNavigationButton]="true"
    (navigationButtonClicked)="navClicked($event)"
    (backButtonClicked)="backClicked($event)"
>
    <fd-shellbar-branding [interactiveBranding]="true" (fdkClicked)="brandingClicked($event)">
        <fd-shellbar-logo>
            <a class="fd-shellbar__logo fd-shellbar__logo--image-replaced" aria-label="SAP"></a>
        </fd-shellbar-logo>
        <fd-shellbar-title>Product Identifier</fd-shellbar-title>
    </fd-shellbar-branding>

    <fd-shellbar-context-area (contentItemVisibilityChange)="itemVisibilityChanged($event)">
        <fd-shellbar-separator fdShellbarHidePriority="1"></fd-shellbar-separator>
        <span
            fdShellbarHidePriority="2"
            fd-object-status
            status="informative"
            [inverted]="true"
            label="Status priority 2"
        ></span>
        <fd-product-menu
            fdShellbarHidePriority="1"
            [control]="'Menu priority 1'"
            [closePopoverOnSelect]="true"
            [items]="productMenuItems"
        >
        </fd-product-menu>
        <span fdShellbarHidePriority="4" fd-button label="Button priority 4"></span>
        @if (showButtonWithPriority3) {
            <span fdShellbarHidePriority="3" fd-button label="Button priority 3"></span>
        }
    </fd-shellbar-context-area>

    <fdp-search-field
        placeholder="Search"
        fdCozy
        [suggestions]="suggestions"
        [categories]="categories"
        (searchSubmit)="onSearchSubmit($event)"
        (inputChange)="onInputChange($event)"
    ></fdp-search-field>

    <fd-shellbar-actions [assistiveTools]="true" [assistiveToolsCallback]="assistiveToolsCallback">
        @for (action of actions; track action) {
            <fd-shellbar-action
                [glyph]="action.glyph"
                [callback]="action.callback"
                [label]="action.label"
                [ariaLabel]="action.ariaLabel"
                [title]="action.title"
                [notificationCount]="action.notificationCount"
                [notificationLabel]="action.notificationLabel"
            ></fd-shellbar-action>
        }
        <fd-product-switch>
            <fd-product-switch-body [products]="productSwitcher"> </fd-product-switch-body>
        </fd-product-switch>

        <fd-user-menu (isOpenChange)="isOpenChange($event)">
            <fd-user-menu-control>
                <fd-avatar
                    fd-user-menu-control-element
                    size="xs"
                    [circle]="true"
                    [interactive]="true"
                    ariaLabel="photo 1 in circle"
                    image="https://picsum.photos/id/1018/400"
                ></fd-avatar>
            </fd-user-menu-control>

            <fd-user-menu-body>
                <div fd-user-menu-header>
                    <fd-avatar
                        [circle]="true"
                        size="l"
                        label="Lisa Miller"
                        zoomGlyph="edit"
                        (zoomGlyphClicked)="onZoomGlyphClick()"
                        title="Edit avatar"
                    ></fd-avatar>
                    <div fd-user-menu-header-container>
                        <div fd-user-menu-user-name>Lisa Miller</div>
                        <div fd-user-menu-subline>lisa.miller&#64;test.com</div>
                        <div fd-user-menu-subline>User Experience Designer</div>
                    </div>
                    <button fd-button label="Manage Account" glyph="user-settings" ariaLabel="Manage Account"></button>
                </div>
                <div fd-user-menu-content-container>
                    <fd-panel
                        transparent
                        noRadius
                        [(expanded)]="expanded"
                        expandId="panel-expand-1"
                        [expandAriaLabel]="expanded ? 'Hide other accounts' : 'Show other accounts'"
                        expandAriaLabelledBy="panel-expandable-title-1"
                    >
                        <h5 fd-panel-title id="panel-expandable-title-1">Other Accounts</h5>
                        <button
                            fd-button
                            fdType="transparent"
                            glyph="add-employee"
                            ariaLabel="Add account"
                            title="Add account"
                        ></button>
                        <div fd-panel-content noPadding ariaLabel="Panel Content" id="panel-content-1">
                            <ul fd-list [subline]="true">
                                <li fd-list-item [interactive]="true" [active]="true">
                                    <fd-avatar size="s" label="Lisa Miller"></fd-avatar>
                                    <div fd-list-content>
                                        <div fd-list-title>Lisa Miller</div>
                                        <div fd-list-subline>lisa.miller&#64;test.com</div>
                                        <div fd-list-subline>User Experience Designer</div>
                                    </div>
                                </li>
                                <li fd-list-item [interactive]="true">
                                    <fd-avatar size="s" label="John Doe"></fd-avatar>
                                    <div fd-list-content>
                                        <div fd-list-title>John Doe</div>
                                        <div fd-list-subline>john.doe&#64;test.com</div>
                                        <div fd-list-subline>Project Manager</div>
                                    </div>
                                </li>
                                <li fd-list-item [interactive]="true">
                                    <fd-avatar image="https://picsum.photos/id/1018/400" size="s"></fd-avatar>
                                    <div fd-list-content>
                                        <div fd-list-title>Jane Doe</div>
                                        <div fd-list-subline>jane.doe&#64;test.com</div>
                                        <div fd-list-subline>Delivery Manager</div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </fd-panel>

                    <fd-user-menu-list>
                        <li
                            fd-user-menu-list-item
                            icon="action-settings"
                            text="Settings"
                            (click)="actionPicked('Settings')"
                        ></li>
                        <li
                            fd-user-menu-list-item
                            icon="official-service"
                            text="Legal Information"
                            hasSubmenu
                            [submenu]="legalSublist"
                        ></li>
                        <li
                            fd-user-menu-list-item
                            icon="message-information"
                            text="About"
                            (click)="actionPicked('About')"
                        ></li>
                    </fd-user-menu-list>

                    <ng-template #legalSublist>
                        <div fd-user-menu-sublist hasIcons>
                            <li
                                fd-user-menu-list-item
                                icon="private"
                                text="Privacy Policy"
                                (click)="actionPicked('Privacy Policy')"
                            ></li>
                            <li
                                fd-user-menu-list-item
                                icon="notes"
                                text="Terms of Use"
                                (click)="actionPicked('Terms of Use')"
                            ></li>
                        </div>
                    </ng-template>
                </div>
            </fd-user-menu-body>

            <fd-user-menu-footer>
                <div fd-bar barDesign="footer">
                    <div fd-bar-right>
                        <button
                            fd-button
                            label="Sign Out"
                            fdType="transparent"
                            glyph="filter"
                            ariaLabel="Transparent Filter"
                        ></button>
                    </div>
                </div>
            </fd-user-menu-footer>
        </fd-user-menu>
    </fd-shellbar-actions>
</fd-shellbar>

<br />

<button fd-button (click)="toggleButton3()">Toggle display of button with priority 3</button>
