<!-- Basic programmatic control with signals -->
<h4 class="fd-title fd-title--h4 sap-margin-bottom--small">Signal-based Programmatic Control</h4>
<div class="sap-margin-y-medium sap-flex sap-flex--justify-space-between">
    <fd-popover
        [(isOpen)]="isOpen"
        [triggers]="[]"
        [closeOnOutsideClick]="false"
        [noArrow]="false"
        placement="bottom"
        title="photo 1"
        [disabled]="isDisabled()"
        (beforeOpen)="onBeforeOpen()"
        (isOpenChange)="onOpenChange($event)"
    >
        <fd-popover-control>
            <fd-avatar
                size="s"
                [circle]="true"
                ariaLabel="photo 1"
                image="https://picsum.photos/id/1018/400"
            ></fd-avatar>
        </fd-popover-control>
        <fd-popover-body>
            <fd-avatar [circle]="true" class="sap-margin--small" size="xl" glyph="group"></fd-avatar>
        </fd-popover-body>
    </fd-popover>
    <button fd-button label="Open Popover" (click)="isOpen.set(true)" [disabled]="isDisabled()"></button>
    <button fd-button label="Close Popover" (click)="isOpen.set(false)" [disabled]="isDisabled()"></button>
    <button fd-button label="Toggle Disabled" (click)="toggleDisabled()" fdType="transparent"></button>
</div>

<!-- Config object example -->
<h4 class="fd-title fd-title--h4 sap-margin-bottom--small">Using Config Object</h4>
<fd-popover [config]="popoverConfig">
    <fd-popover-control>
        <button fd-button label="Popover with Config"></button>
    </fd-popover-control>
    <fd-popover-body>
        <div class="sap-padding--small">
            <p>This popover uses the <code>[config]</code> input:</p>
            <pre>{{ popoverConfig | json }}</pre>
        </div>
    </fd-popover-body>
</fd-popover>

<!-- Event Log -->
<h4 class="fd-title fd-title--h4 sap-margin-top--medium sap-margin-bottom--small">Event Log</h4>
<div class="event-log sap-padding">
    @if (eventLog().length === 0) {
        <p class="event-log__empty">No events yet. Open the popover to see events.</p>
    } @else {
        <ul class="fd-list fd-list--no-border">
            @for (event of eventLog(); track event) {
                <li class="fd-list__item">{{ event }}</li>
            }
        </ul>
        <button fd-button label="Clear Log" fdType="transparent" (click)="clearLog()"></button>
    }
</div>
