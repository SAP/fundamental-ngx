<fd-input-group
    [disabled]="!!_cvaControl.cvaDirective?.disabled"
    [(ngModel)]="value"
    [state]="_cvaControl?.cvaDirective?.normalizedState$() || 'default'"
    [stateMessage]="_cvaControl.cvaDirective?.stateMessage"
>
    <!-- Before input addons area -->
    @for (addon of _beforeInputAddons; track addon) {
        <span fd-input-group-addon [button]="!!addon.button">
            <ng-template [ngTemplateOutlet]="addon.contentTemplateRef"></ng-template>
        </span>
    }
    @if (_input) {
        <input
            [attr.name]="_cvaControl.cvaDirective?.name"
            [attr.id]="_cvaControl.cvaDirective?.id"
            [attr.placeholder]="_cvaControl.cvaDirective?.placeholder"
            [type]="_input.type"
            [disabled]="!!_cvaControl.cvaDirective?.disabled"
            [class.is-disabled]="!!_cvaControl.cvaDirective?.disabled"
            [(ngModel)]="value"
            [ariaLabel]="_cvaControl.cvaDirective?.ariaLabel"
            [ariaLabelledBy]="_cvaControl.cvaDirective?.ariaLabelledBy"
            [attr.required]="_cvaControl.cvaDirective?.required"
            (input)="_onChangeInputValue($any($event.target)?.value)"
            (focus)="_cvaControl.cvaDirective?._onFocusChanged(true)"
            (blur)="_cvaControl.cvaDirective?._onFocusChanged(false)"
            (keypress)="_onKeyPress($event)"
            fd-input-group-input
            fd-form-control
        />
    }
    <!-- Before input addons area -->
    @for (addon of _afterInputAddons; track addon) {
        <span fd-input-group-addon [button]="!!addon.button">
            <ng-template [ngTemplateOutlet]="addon.contentTemplateRef"></ng-template>
        </span>
    }
</fd-input-group>
