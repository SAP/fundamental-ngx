<fd-dynamic-page
    [disableSnapOnScroll]="disableSnapOnScroll"
    [autoResponsive]="autoResponsive"
    [background]="background"
    [size]="size"
    [expandContent]="expandContent"
    [offset]="offset"
    [ariaLabel]="ariaLabel"
>
    @if (titleComponent) {
        <fd-dynamic-page-header
            [title]="titleComponent.title"
            [titleWrap]="titleComponent.titleWrap"
            [subtitle]="titleComponent.subtitle"
            [subtitleWrap]="titleComponent.subtitleWrap"
        >
            <fd-breadcrumb>
                <ng-container [ngTemplateOutlet]="titleComponent.breadcrumbTemplate"></ng-container>
            </fd-breadcrumb>
            @if (titleComponent._subtitleDirective) {
                <ng-container
                    *fdDynamicPageHeaderSubtitle="let hidden"
                    [ngTemplateOutlet]="titleComponent._subtitleDirective.templateRef"
                    [ngTemplateOutletContext]="{ $implicit: hidden }"
                >
                </ng-container>
            }
            @if (titleComponent._titleDirective) {
                <ng-container
                    *fdDynamicPageHeaderTitle="let hidden"
                    [ngTemplateOutlet]="titleComponent._titleDirective.templateRef"
                    [ngTemplateOutletContext]="{ $implicit: hidden }"
                >
                </ng-container>
            }
            @if (titleComponent.keyInfoComponent) {
                <fd-dynamic-page-title-content>
                    <ng-container
                        [ngTemplateOutlet]="titleComponent.keyInfoComponent.contentTemplateRef"
                    ></ng-container>
                </fd-dynamic-page-title-content>
            }
            @if (titleComponent.imageComponent) {
                <fd-facet type="image">
                    <ng-container [ngTemplateOutlet]="titleComponent.imageComponent.contentTemplateRef"></ng-container>
                </fd-facet>
            }
            @if (titleComponent.globalActionsComponent) {
                <fd-dynamic-page-global-actions>
                    <ng-container
                        [ngTemplateOutlet]="titleComponent.globalActionsComponent.contentTemplateRef"
                    ></ng-container>
                </fd-dynamic-page-global-actions>
            }
            @if (titleComponent.layoutActionsComponent) {
                <fd-dynamic-page-layout-actions>
                    <ng-container
                        [ngTemplateOutlet]="titleComponent.layoutActionsComponent.contentTemplateRef"
                    ></ng-container>
                </fd-dynamic-page-layout-actions>
            }
        </fd-dynamic-page-header>
    }
    @if (headerComponent) {
        <fd-dynamic-page-subheader
            [collapsed]="headerComponent.collapsed"
            [collapsible]="headerComponent.collapsible"
            [pinnable]="headerComponent.pinnable"
            [expandLabel]="headerComponent.expandLabel"
            [collapseLabel]="headerComponent.collapseLabel"
            [role]="headerComponent.role"
            [id]="headerComponent.id"
            [headerAriaLabel]="headerComponent.headerAriaLabel"
            [pinAriaLabel]="headerComponent.pinAriaLabel"
            [unpinAriaLabel]="headerComponent.unpinAriaLabel"
            (collapsedChange)="headerComponent._onCollapseChange($event)"
        >
            <ng-container [ngTemplateOutlet]="headerComponent.contentTemplateRef"></ng-container>
        </fd-dynamic-page-subheader>
    }
    @if (_isTabbed) {
        <fd-tab-list
            [stackContent]="stackContent"
            maxContentHeight="auto"
            (selectedTabChange)="_onSelectedTabChange($event)"
        >
            @for (tab of _tabs; track tab) {
                <fd-tab [title]="tab.tabLabel" [id]="tab.id">
                    <fd-dynamic-page-content>
                        <ng-container [ngTemplateOutlet]="tab.contentTemplateRef"></ng-container>
                    </fd-dynamic-page-content>
                </fd-tab>
            }
        </fd-tab-list>
    }
    @if (!_isTabbed && contentComponent) {
        <fd-dynamic-page-content>
            <ng-container [ngTemplateOutlet]="contentComponent.contentTemplateRef"></ng-container>
        </fd-dynamic-page-content>
    }
    @if (footerComponent) {
        <fd-dynamic-page-footer>
            <ng-container [ngTemplateOutlet]="footerComponent.contentTemplateRef"></ng-container>
        </fd-dynamic-page-footer>
    }
</fd-dynamic-page>
