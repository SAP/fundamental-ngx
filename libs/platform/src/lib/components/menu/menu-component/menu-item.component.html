<ng-container
    *ngTemplateOutlet="
        selectable ? selectableItemTemplate : itemTemplate;
        context: {
            label: label,
            i: index,
            selected: selected,
            item: item,
            group: group,
            separated: separated,
            secondaryIcon: secondaryIcon,
            disabled: disabled,
            tooltipLabel: tooltipLabel,
            itemWidth: itemWidth,
            childItems: childItems
        }
    "
    [ngClass]="{ 'fd-menu__list--separated': separated }"
>
</ng-container>
<ng-template #itemTemplate let-label="label" let-i="i">
    <li
        data-tag="menu-item"
        [attr.data-index]="i"
        [attr.disabled]="disabled"
        [ngClass]="['normal-item-state', disabled ? 'is-disabled' : '']"
    >
        <!-- removed from li [ngClass]="{ 'fd-menu__list--separated': separated }" -->
        <div class="fd-menu__addon-before" *ngIf="icon; else noIcon">
            <span [ngClass]="[icon]" data-tag="menu-item__icon-before" [attr.title]="icon">
                <!-- removed from span , separated ? 'fd-menu__list--separated' : '' -->
            </span>
        </div>
        <div class="fd-menu__label-truncation">
            <span
                class="fd-menu__item"
                [ngStyle]="{ width: getItemWidth() }"
                (click)="childItems.length > 0 ? doSomethingElse(childItems) : onItemClick()"
                role="button"
                data-tag="menu-item__button"
                [attr.title]="tooltipLabel ? tooltipLabel : label"
            >
                {{ label }}
            </span>
        </div>
        <div class="fd-menu__addon-after" *ngIf="secondaryIcon; else noIcon">
            <span
                [ngClass]="[secondaryIcon ? secondaryIcon : '']"
                data-tag="menu-item__icon-after"
                [attr.title]="secondaryIcon"
            >
                <!-- removed from span , separated ? 'fd-menu__list--separated' : '' -->
            </span>
        </div>
    </li>
</ng-template>
<ng-template #noIcon><span [ngClass]="{ 'fd-menu__list--separated': separated }"></span></ng-template>
<!-- works fine don't change -->
<ng-template #selectableItemTemplate let-label="label" let-i="i" let-selected="selected">
    <li
        data-tag="menu-item"
        [attr.data-index]="i"
        [attr.disabled]="disabled"
        [ngClass]="[selected ? 'selected-item-state' : 'normal-item-state', disabled ? 'is-disabled' : '']"
        [attr.aria-selected]="selected ? 'true' : 'false'"
    >
        <!-- removed from li         [ngClass]="{ 'fd-menu__list--separated': separated }" -->
        <div class="fd-menu__addon-before">
            <span
                *ngIf="selected; else noIcon"
                [ngClass]="[icon ? icon : 'sap-icon--accept']"
                data-tag="menu-item__icon-before"
                [attr.title]="icon"
            >
                <!-- removed from span , separated ? 'fd-menu__list--separated' : '' -->
            </span>
        </div>
        <div class="fd-menu__label-truncation">
            <span
                class="fd-menu__item"
                (click)="childItems.length > 0 ? doSomethingElse(childItems) : onItemClick()"
                [ngStyle]="{ width: getItemWidth() }"
                role="button"
                data-tag="menu-item__button"
                [attr.title]="tooltipLabel ? tooltipLabel : label"
            >
                {{ label }}
            </span>
        </div>
        <div class="fd-menu__addon-after" *ngIf="secondaryIcon; else noIcon">
            <span
                [ngClass]="[secondaryIcon ? secondaryIcon : '']"
                data-tag="menu-item__icon-after"
                [attr.title]="secondaryIcon"
            >
                <!-- removed from span , separated ? 'fd-menu__list--separated' : '' -->
            </span>
        </div>
    </li>
</ng-template>

<!-- maybe add 'fd-menu__list--separated': separated to icon's ngclass         [ngClass]="[icon ? icon : 'sap-icon--accept',{'fd-menu__list--separated': separated}]"
 -->

<!-- [ngClass]="[active ? 'is-selected' : '', disabled ? 'is-disabled' : '']" -->
