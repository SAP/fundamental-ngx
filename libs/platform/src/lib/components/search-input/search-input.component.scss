$fd-active-color: #0a6ed1;
$fd-border-color: #89919a;

.search-input__category-dropdown {
    display: inline-block;
    vertical-align: middle;

    ::ng-deep button.fd-dropdown__control {
        border-top-right-radius: 0px;
        border-bottom-right-radius: 0px;

        &:disabled {
            opacity: 1.0;
        }

        &::after {
            color: $fd-active-color;
            border: none;
            background-color: transparent;
        }
    }

    @supports(--css: variables) {
        ::ng-deep button.fd-dropdown__control::after {
            color: var(--sapLink_Active_Color, $fd-active-color);
        }
    }
}

.search-input {

    ::ng-deep input[type="search"],
    ::ng-deep .fd-input {
        border-width: 1px;
        border-style: solid;
        padding-right: 12px;
        padding-left: 12px;
        border-color: $fd-border-color;
        background: none;
    }

    ::ng-deep [type=search]+.fd-input-group__addon {
        border-width: 1px;
        border-left-width: 0px;
        border-style: solid;
        border-color: $fd-border-color;
        width: auto;
    }

    ::ng-deep input:disabled {
        border-color: $fd-border-color;
    }

    ::ng-deep input[type="search"]::-webkit-search-cancel-button {
        -webkit-appearance: searchfield-cancel-button;
    }

    ::ng-deep .fd-input-group .fd-input-group__addon--button>* {
        border-color: transparent;
    }

    ::ng-deep .fd-button--compact::before {
        font-size: 14px;
        line-height: 1.2;
    }

    @supports(--css: variables) {

        ::ng-deep input[type="search"],
        ::ng-deep .fd-input {
            border-color: var(--sapField_BorderColor, $fd-border-color);
        }

        ::ng-deep [type=search]+.fd-input-group__addon {
            border-color: var(--sapField_BorderColor, $fd-border-color);
        }

        ::ng-deep input:disabled {
            border-color: var(--sapField_BorderColor, $fd-border-color);
        }

    }

}

.with-categories {
    ::ng-deep input {
        margin-left: -1px;
        border-top-left-radius: 0px;
        border-bottom-left-radius: 0px;
    }
}

.hide-category-label {
    ::ng-deep input {
        border-left: none;
        padding-left: 0px;
    }

    .search-input__category-dropdown ::ng-deep button {
        border-right: none;
    }
}

::ng-deep [dir="rtl"] .search-input {

    & [type=search]+.fd-input-group__addon {
        border-width: 1px;
        border-left-width: 1px;
        border-right-width: 0px;
        border-style: solid;
        border-color: $fd-border-color;
        width: auto;
    }

    & .search-input__category-dropdown button {
        border-top-right-radius: 4px;
        border-bottom-right-radius: 4px;
        border-top-left-radius: 0px;
        border-bottom-left-radius: 0px;
        margin-right: 1px;
    }

    &.with-categories .fd-input-group input {
        border-top-right-radius: 0px;
        border-bottom-right-radius: 0px;
        border-top-left-radius: 0px;
        border-bottom-left-radius: 0px;
    }

    &.with-categories .fd-input-group>:first-child {
        border-top-right-radius: 0px;
        border-bottom-right-radius: 0px;
        border-top-left-radius: 0px;
        border-bottom-left-radius: 0px;
    }

    &.hide-category-label {
        input {
            border-right: none;
            padding-right: 0px;
        }

        .search-input__category-dropdown button {
            border-left: none;
            border-right: solid 1px $fd-border-color;
            padding-right: 0px;
        }
    }

}

@supports(--css: variables) {
    ::ng-deep [dir="rtl"] .search-input {
        & [type=search]+.fd-input-group__addon {
            border-color: var(--sapField_BorderColor, $fd-border-color);
        }

        &.hide-category-label {
            .search-input__category-dropdown button {
                border-right-color: var(--sapField_BorderColor, $fd-border-color);
            }
        }
    }
}

/* LOADING SPINNER */
$fd-spinner-height: 20px !default;
$fd-spinner-width--bar: 2px;
$fd-spinner-width--gutter: 1px;
$_width: $fd-spinner-width--bar*4+$fd-spinner-width--gutter*3;
$_height: $fd-spinner-height;

::ng-deep .search-input {

    & .fd-button {
        overflow: hidden;
    }

    .fd-spinner {
        width: $_width;
        height: $_height;

        &::before,
        &::after {
            width: $fd-spinner-width--bar;
            background-color: $fd-active-color;
        }

        .fd-spinner__body {

            &::before,
            &::after {
                width: $fd-spinner-width--bar;
                background-color: $fd-active-color;
            }

            &:before {
                left: $fd-spinner-width--bar + $fd-spinner-width--gutter;
            }

            &:after {
                right: $fd-spinner-width--bar + $fd-spinner-width--gutter;
            }
        }
    }

    & .fd-button .fd-spinner {
        display: none;
    }

    &.is-loading .fd-button .fd-spinner {
        display: flex;
    }

    &.is-loading .fd-button:hover .fd-spinner {
        display: none;
    }
}

@supports(--css: variables) {
    ::ng-deep .search-input {
        .fd-spinner {

            &::before,
            &::after {
                background-color: var(--sapLink_Active_Color, $fd-active-color);
            }

            .fd-spinner__body {

                &::before,
                &::after {
                    background-color: var(--sapLink_Active_Color, $fd-active-color);
                }
            }
        }
    }
}

::ng-deep .search-input .fd-button:before,
::ng-deep [dir="rtl"] .search-input .fd-button:before {
    margin-left: 0;
    margin-right: 0;
}

.is-loading ::ng-deep .fd-input-group__addon:hover .fd-button:before {
    width: $_width;
    content: "\e03e";
    animation: none;
}

fd-combobox {
    display: inline-block;
    vertical-align: middle;
}
