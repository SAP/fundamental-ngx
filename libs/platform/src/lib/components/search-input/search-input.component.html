<div class="search-input"
    [ngClass]="{'with-categories': showCategoryDropdown, 'is-loading': isLoading, 'hide-category-label': hideCategoryLabel}">
    <fd-popover *ngIf="showCategoryDropdown" class="search-input__category-dropdown" [disabled]="isLoading || disabled">
        <fd-dropdown-control [toolbar]="true" [disabled]="isLoading || disabled" [compact]="compact">
            <span class="search-input__category-label"
                *ngIf="!hideCategoryLabel">{{currentCategory ? currentCategory.label : categoryLabel}}</span>
        </fd-dropdown-control>
        <fd-popover-body>
            <fd-menu>
                <ul fd-menu-list class="search-input__category-menu">
                    <li fd-menu-item *ngFor="let category of categories" (click)="setCurrentCategory(category)">
                        <span>{{category.label}}</span></li>
                </ul>
            </fd-menu>
        </fd-popover-body>
    </fd-popover>
    <fd-combobox #combobox [glyph]="isLoading ? 'synchronize' : 'search'" [placeholder]="placeholder"
        [dropdownValues]="dropdownValues$ | async" [compact]="compact" [triggers]="[]" [(ngModel)]="inputText"
        (ngModelChange)="onValueChange($event)" (itemClicked)="onItemClick($event)" [searchFunction]="onSearchSubmit"
        [disabled]="disabled">
    </fd-combobox>
</div>
