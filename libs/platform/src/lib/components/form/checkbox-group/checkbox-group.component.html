<fd-form-group
    [isInline]="isInline"
    role="group"
    [attr.aria-label]="ariaLabel"
    [attr.aria-labelledby]="ariaLabelledById"
>
    <ng-container *ngIf="!list">
        <ng-container *ngFor="let checkbox of contentCheckboxes; let i = index">
            <ng-container
                *ngTemplateOutlet="
                    checkboxtmpt;
                    context: {
                        id: id + i,
                        name: name,
                        checkboxValue: checkbox.checkboxValue,
                        contentDensity: contentDensity,
                        labeltext: checkbox.label,
                        disabled: disabled || checkbox.disabled,
                        ariabLabel: checkbox.ariaLabel,
                        ariabLabelledby: checkbox.ariaLabelledby,
                        ariabDescribedby: checkbox.ariaDescribedby,
                        ariaDisabled: checkbox.ariaDisabled,
                        tabIndex: checkbox.tabIndex,
                        title: checkbox.title
                    }
                "
            >
            </ng-container>
        </ng-container>
    </ng-container>
    <ng-container *ngIf="list">
        <ng-container *ngTemplateOutlet="listvalues"></ng-container>
    </ng-container>
</fd-form-group>

<ng-template #listvalues>
    <ng-container *ngFor="let item of list; let i = index">
        <ng-container
            *ngTemplateOutlet="
                checkboxtmpt;
                context: {
                    id: id + i,
                    name: name,
                    checkboxValue: getLookupValue(item),
                    contentDensity: contentDensity,
                    labeltext: getDisplayValue(item),
                    disabled: getListItemDisabledValue(item)
                }
            "
        >
        </ng-container>
    </ng-container>
</ng-template>

<ng-template
    #checkboxtmpt
    let-id="id"
    let-name="name"
    let-checkboxValue="checkboxValue"
    let-contentDensity="contentDensity"
    let-labeltext="labeltext"
    let-checkboxDisabled="disabled"
    let-ariabLabel="ariabLabel"
    let-ariabLabelledby="ariabLabelledby"
    let-ariabDescribedby="ariabDescribedby"
    let-ariaDisabled="ariaDisabled"
    let-tabIndex="tabIndex"
    let-title="title"
>
    <fdp-checkbox
        [id]="id"
        [name]="name"
        [value]="checkboxValue"
        [label]="labeltext"
        [aria-label]="ariabLabel"
        [aria-labelledby]="ariabLabelledby"
        [aria-describedby]="ariabDescribedby"
        [aria-disabled]="ariaDisabled"
        [tabIndex]="tabIndex"
        [title]="title"
        [contentDensity]="contentDensity"
        [disabled]="checkboxDisabled"
        [stateType]="status"
        [(ngModel)]="value"
        (change)="groupValueChanges($event)"
    >
    </fdp-checkbox>
</ng-template>
