<!--  list item navigation with Arrow-->
<ng-container *ngIf="showNavigationArrow || hasNavigation">
    <li #listItem fd-list-item [attr.id]="id" [selected]="selected" class="fd-list__item--link"
        (keydown)="onKeyDown($event)" (keyup)="onKeyUp($event)">
        <!--angular routing requiured-->
        <a #link class="fd-list__link fd-link fdp-link-truncate__txt"
            [class.fd-list__link--navigation-indicator]="showNavigationArrow" [attr.href]="href" [attr.target]="target">
            <ng-container *ngTemplateOutlet="hasByLine ? byLineTemplate: commonTemplate"></ng-container>
        </a>
    </li>
</ng-container>

<!--  list item without navigation and used for simple list display-->
<ng-container *ngIf="!showNavigationArrow && !hasNavigation">
    <li #listItem fd-list-item [attr.id]="id" [selected]="selected" (keydown)="onKeyDown($event)"
        (keyup)="onKeyUp($event)">
        <ng-container *ngTemplateOutlet="hasByLine ? byLineTemplate: commonTemplate"></ng-container>
    </li>
</ng-container>

<ng-template #commonTemplate>
    <ng-container *ngTemplateOutlet="selectionTemplate"></ng-container>
    <span *ngIf="title" fd-list-title [attr.aria-label]="title" [attr.nowrap]="titleWrap"
        [attr.title]="title">{{title}}</span>
    <span fd-list-secondary [attr.aria-label]="secondary" *ngIf="secondary!== null && secondary!== undefined"
        [attr.title]="secondary" [attr.nowrap]="secondaryWrap">
        {{secondary}}
    </span>
    <span fd-list-secondary class="fd-list__counter" [attr.aria-label]="counter"
        *ngIf="counter!== null && counter!== undefined" [attr.title]="counter">
        {{counter}}
    </span>
    <span *ngIf="secondaryIcons!== null && secondaryIcons!== undefined">
        <span *ngFor="let secondaryIcon of secondaryIcons">
            <fd-icon *ngIf="!(secondaryIcon.isButton)" fd-list-icon [glyph]="secondaryIcon.icon"
                [attr.alt]="secondaryIcon.icon" [attr.role]="'img'">
            </fd-icon>
            <button fd-button *ngIf="secondaryIcon.isButton" [attr.role]="'button'"
                [compact]="contentDensity === 'compact'" [fdType]="'transparent'" [glyph]="secondaryIcon.icon">
            </button>
        </span>
    </span>
</ng-template>

<ng-template #byLineTemplate>
    <ng-container *ngTemplateOutlet="selectionTemplate"></ng-container>
    <div class="fd-list__content">
        <div *ngIf="title" fd-list-title [attr.aria-label]="title" [attr.nowrap]="titleWrap" [attr.title]="title">
            {{title}}</div>
        <div class="fd-list__byline fd-list__byline--2-col">
            <span *ngIf="description" class="fd-list__byline-left" [attr.aria-label]="description"
                [attr.title]="description" [attr.nowrap]="titleWrap">{{description}}</span>
            <span #rt class="fd-list__byline-right" *ngIf="secondary" [attr.aria-label]="secondary"
                [attr.title]="secondary" [attr.nowrap]="secondaryWrap">
                {{secondary}}
            </span>
            <span *ngIf="secondaryIcons!== null && secondaryIcons!== undefined">
                <span *ngFor="let secondaryIcon of secondaryIcons">
                    <fd-icon class="fd-list__byline-right" *ngIf="!(secondaryIcon.isButton)" fd-list-icon
                        [glyph]="secondaryIcon.icon" [attr.alt]="secondaryIcon.icon" [attr.role]="'img'">
                    </fd-icon>
                    <button fd-button class="fd-list__byline-right" *ngIf="secondaryIcon.isButton"
                        [attr.role]="'button'" [compact]="contentDensity === 'compact'" [fdType]="'transparent'"
                        [glyph]="secondaryIcon.icon">
                    </button>
                </span>
            </span>
        </div>
    </div>
</ng-template>

<ng-template #selectionTemplate>
    <fd-checkbox #checkbox *ngIf="selectionMode === 'multi'" [attr.aria-checked]="selected" [attr.role]="'checkbox'"
        [compact]="contentDensity === 'compact'" [(ngModel)]="selected">
    </fd-checkbox>
    <fd-radio-button #radio *ngIf="selectionMode === 'single'" [value]="title" [name]="name" [attr.role]="'radio'"
        [attr.aria-checked]="selected" [compact]="contentDensity === 'compact'" [(ngModel)]="selected">
    </fd-radio-button>
    <fd-icon [class.fd-list__thumbnail]="hasByLine" *ngIf="titleIcon" fd-list-icon [glyph]="titleIcon"
        [attr.alt]="titleIcon" [attr.role]="'img'">
    </fd-icon>
</ng-template>