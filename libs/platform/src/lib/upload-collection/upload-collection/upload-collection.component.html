<div [id]="id" class="fdp-upload-collection">
    <!-- Message strip -->
    @if (_message) {
        <fd-message-strip [type]="_message.messageStripType" (onDismiss)="_messageStripDismiss()">
            <ng-template
                [ngTemplateOutlet]="message"
                [ngTemplateOutletContext]="{
                    messageType: _message.messageType,
                    payload: _message.payload,
                    messageStripType: _message.messageStripType,
                    count: _message.count
                }"
            ></ng-template>
        </fd-message-strip>
    }
    <!-- Toolbar -->
    <fd-toolbar class="fdp-upload-collection__toolbar">
        <div [style.flex]="'1 auto'">
            <fd-breadcrumb [id]="id + '-breadcrumb'">
                <fd-breadcrumb-item>
                    <ng-template #multipleBreadcrumbs>
                        <a href="#" fd-link (click)="_breadcrumbGoTo($event)">
                            {{ 'platformUploadCollection.breadcrumbLabelAllFiles' | fdTranslate }}
                        </a>
                    </ng-template>
                    <ng-template #singleBreadcrumb>
                        <span>
                            {{
                                'platformUploadCollection.breadcrumbLabelAllFilesWithTotal'
                                    | fdTranslate: { total: _totalItems }
                            }}
                        </span>
                    </ng-template>
                    <ng-template
                        [ngTemplateOutlet]="_breadcrumbList.length > 0 ? multipleBreadcrumbs : singleBreadcrumb"
                    ></ng-template>
                </fd-breadcrumb-item>
                @for (item of _breadcrumbList; track item; let i = $index) {
                    <fd-breadcrumb-item>
                        <ng-template #clickableBreadcrumb>
                            <a href="#" fd-link (click)="_breadcrumbGoTo($event, i)">{{ item.folderName }}</a>
                        </ng-template>
                        <ng-template #textBreadcrumb>
                            <span>{{ item.folderName }} ({{ _totalItems }})</span>
                        </ng-template>
                        <ng-template
                            [ngTemplateOutlet]="item.clikable ? clickableBreadcrumb : textBreadcrumb"
                        ></ng-template>
                    </fd-breadcrumb-item>
                }
            </fd-breadcrumb>
        </div>
        <fd-toolbar-spacer [style.max-width.rem]="3"></fd-toolbar-spacer>
        @if (readonly || selectedItems.length === 0) {
            @if (showSearch) {
                <fd-input-group
                    [(ngModel)]="_searchText"
                    (ngModelChange)="_searchInputChanged()"
                    glyph="search"
                    [ariaLabelledBy]="id + '-breadcrumb'"
                    [placeholder]="'platformUploadCollection.searchPlaceholder' | fdTranslate"
                ></fd-input-group>
            }
            @if (!readonly) {
                <button
                    fd-toolbar-item
                    fd-button
                    (click)="_openUploadFiles()"
                    fdType="ghost"
                    [disabled]="disabled"
                    [label]="'platformUploadCollection.addBtnLabel' | fdTranslate"
                    [title]="'platformUploadCollection.addBtnLabel' | fdTranslate"
                ></button>
                @if (hierarchy) {
                    <button
                        fd-toolbar-item
                        fd-button
                        (click)="_openNewFolderDialog()"
                        [disabled]="disabled"
                        fdType="transparent"
                        [label]="'platformUploadCollection.newFolderBtnLabel' | fdTranslate"
                        [title]="'platformUploadCollection.newFolderBtnLabel' | fdTranslate"
                    ></button>
                }
            }
        }
        @if (!readonly && selectedItems.length > 0) {
            <button
                fd-toolbar-item
                fd-button
                (click)="_moveToClicked(true)"
                fdType="ghost"
                [disabled]="disabled"
                [label]="'platformUploadCollection.moveToBtnLabel' | fdTranslate"
                [title]="'platformUploadCollection.moveToBtnLabel' | fdTranslate"
            ></button>
            @if (_showIfSelectedOnlyFiles()) {
                <button
                    fd-toolbar-item
                    fd-button
                    (click)="_downloadClicked(true)"
                    fdType="ghost"
                    [disabled]="disabled"
                    [label]="'platformUploadCollection.downloadBtnLabel' | fdTranslate"
                    [title]="'platformUploadCollection.downloadBtnLabel' | fdTranslate"
                ></button>
            }
            <button
                fd-toolbar-item
                fd-button
                (click)="_remove(true)"
                fdType="ghost"
                [disabled]="disabled"
                [label]="'platformUploadCollection.removeBtnLabel' | fdTranslate"
                [title]="'platformUploadCollection.removeBtnLabel' | fdTranslate"
            ></button>
        }
    </fd-toolbar>
    <div class="fdp-upload-collection__table--wrapper">
        <div
            class="fdp-upload-collection__table"
            fdpUploadCollectionDragnDrop
            [fileTypes]="fileTypes"
            [maxFilenameLength]="maxFilenameLength"
            [maxFileSize]="maxFileSize"
            [mimeTypes]="mimeTypes"
            [dragndrop]="!readonly"
            [disabled]="disabled"
            [multiple]="multiple"
            (fileChanged)="_handleDrop($event)"
            (cancel)="_dragDropCancel()"
            (onDropzone)="_onDropzone($event)"
        >
            <!-- Table -->
            @if (_visibleList$.value.length > 0) {
                <fdp-table
                    [dataSource]="_visibleList$"
                    [loading]="dataSource.isDataLoading"
                    selectionMode="multiple"
                    emptyTableMessage=""
                    [noHorizontalBorders]="true"
                    [trackBy]="_trackByDocumentId"
                    (rowSelectionChange)="_onRowSelectionChange($event)"
                >
                    <fdp-column name="name" label="Name" width="8rem">
                        <fdp-table-cell *fdpCellDef="let item">
                            <div class="fdp-upload-collection__vertical-align-center">
                                @if (item.type === 'folder') {
                                    <fd-icon
                                        class="fdp-upload-collection__fd-icon"
                                        glyph="folder-blank"
                                        [title]="'platformUploadCollection.folderIconTitle' | fdTranslate"
                                    ></fd-icon>
                                }
                                @if (item.type === 'file') {
                                    <fd-icon
                                        class="fdp-upload-collection__fd-icon"
                                        [glyph]="_getIconByType(item)"
                                        [title]="'platformUploadCollection.fileIconTitle' | fdTranslate"
                                    ></fd-icon>
                                }
                                @if (disabled || readonly || !_isSelectedItem(item)) {
                                    <span
                                        [class.fdp-upload-collection__cursor]="item.type === 'folder'"
                                        (click)="_openFolder(item)"
                                        >{{ item.name }}</span
                                    >
                                } @else {
                                    <div fd-form-item>
                                        <fd-form-input-message-group
                                            [triggers]="[]"
                                            [isOpen]="!!item.sameFilenameState"
                                        >
                                            <div class="fdp-upload-collection__vertical-align-center">
                                                <input
                                                    fd-form-control
                                                    [value]="_getItemName(item)"
                                                    (blur)="_fileNameChange($event, item)"
                                                    (input)="_checkName($event, item)"
                                                    type="text"
                                                    [placeholder]="
                                                        'platformUploadCollection.editFileNameInputPlaceholder'
                                                            | fdTranslate
                                                    "
                                                    [state]="item.sameFilenameState"
                                                />
                                                <span class="fdp-upload-collection__item_extension">{{
                                                    _getItemExtension(item)
                                                }}</span>
                                            </div>
                                            <fd-form-message [type]="item.sameFilenameState">
                                                {{
                                                    (item.type === 'file'
                                                        ? 'platformUploadCollection.editFileNameFileAlreadyExistsError'
                                                        : 'platformUploadCollection.editFileNameFolderAlreadyExistsError'
                                                    ) | fdTranslate
                                                }}
                                            </fd-form-message>
                                        </fd-form-input-message-group>
                                    </div>
                                }
                            </div>
                        </fdp-table-cell>
                    </fdp-column>
                    <fdp-column name="uploadedBy" label="Uploaded by" width="5rem">
                        <fdp-table-cell *fdpCellDef="let item">{{ item.uploadedBy.name }}</fdp-table-cell>
                    </fdp-column>
                    <fdp-column name="uploadedOn" label="Uploaded on" width="5rem">
                        <fdp-table-cell *fdpCellDef="let item">{{
                            item.uploadedOn | date: 'shortDate'
                        }}</fdp-table-cell>
                    </fdp-column>
                    <fdp-column name="size" label="File size" width="5rem">
                        <fdp-table-cell *fdpCellDef="let item">{{ item.fileSize | convertBytes }}</fdp-table-cell>
                    </fdp-column>
                    <fdp-column name="version" label="Version" width="5rem">
                        <fdp-table-cell *fdpCellDef="let item">{{ item.version || '' }}</fdp-table-cell>
                    </fdp-column>
                    <fdp-column name="status" label="Status" width="5rem">
                        <fdp-table-cell *fdpCellDef="let item">
                            @if (item.status === _uploadCollectionItemStatus.LOADING) {
                                <fd-busy-indicator
                                    [loading]="true"
                                    ariaLabel="Status: Loading"
                                    ariaLive="polite"
                                    size="s"
                                ></fd-busy-indicator>
                            }
                            @if (item.status === _uploadCollectionItemStatus.SUCCESSFUL) {
                                <span fd-object-status status="positive">
                                    {{ 'platformUploadCollection.itemStatusSuccessful' | fdTranslate }}
                                </span>
                            }
                            @if (item.status === _uploadCollectionItemStatus.UNSUCCESSFUL) {
                                <span fd-object-status status="negative">
                                    {{ 'platformUploadCollection.itemStatusUnsuccessful' | fdTranslate }}
                                </span>
                            }
                        </fdp-table-cell>
                    </fdp-column>
                    @if (!readonly) {
                        <fdp-column name="action" width="5rem" align="end">
                            <fdp-table-header *fdpHeaderCellDef>Action</fdp-table-header>
                            <fdp-table-cell *fdpCellDef="let item">
                                <div class="fdp-upload-collection__actions">
                                    <div class="fdp-upload-collection__actions--status">
                                        @if (item.status === _uploadCollectionItemStatus.UNSUCCESSFUL) {
                                            <button
                                                fd-button
                                                [label]="
                                                    'platformUploadCollection.uploadNewFileAfterFailAction'
                                                        | fdTranslate
                                                "
                                                [title]="
                                                    'platformUploadCollection.uploadNewFileAfterFailAction'
                                                        | fdTranslate
                                                "
                                                (click)="_runUploadNewFileAfterFail(item)"
                                                fdType="ghost"
                                                [disabled]="disabled"
                                            ></button>
                                        }
                                        @if (
                                            terminationEnabled && item.status === _uploadCollectionItemStatus.LOADING
                                        ) {
                                            <button
                                                fd-button
                                                [label]="
                                                    'platformUploadCollection.cancelUploadNewFileAction' | fdTranslate
                                                "
                                                [title]="
                                                    'platformUploadCollection.cancelUploadNewFileAction' | fdTranslate
                                                "
                                                fdType="ghost"
                                                [disabled]="disabled"
                                                (click)="_cancelUploadNewFile(item)"
                                            ></button>
                                        }
                                    </div>
                                    <fdp-menu-button
                                        icon="overflow"
                                        [disabled]="disabled"
                                        type="transparent"
                                        [title]="'platformUploadCollection.itemMenuBtnTitle' | fdTranslate"
                                        [fdpMenuTriggerFor]="menuActions"
                                        (buttonClicked)="_actionButton(item)"
                                    >
                                    </fdp-menu-button>
                                </div>
                            </fdp-table-cell>
                        </fdp-column>
                    }
                </fdp-table>
            }
            <!-- Dragdrop area -->
            @if (_showDragDropArea) {
                <div class="fdp-upload-collection__dragdrop-area" [class.active]="_onDragDropArea">
                    <fd-icon class="fdp-upload-collection__dragdrop-area--icon" glyph="upload-to-cloud"></fd-icon>
                    <p class="fdp-upload-collection__dragdrop-area--text">
                        {{ 'platformUploadCollection.dragDropAreaText' | fdTranslate }}
                    </p>
                </div>
            }
            <!-- No data -->
            @if (_visibleList$.value.length === 0) {
                <div class="fdp-upload-collection__no-data" [class.invisible]="_showDragDropArea">
                    <fd-icon glyph="document"></fd-icon>
                    <h3>{{ 'platformUploadCollection.noDataText' | fdTranslate }}</h3>
                    <p>{{ 'platformUploadCollection.noDataDescription' | fdTranslate }}</p>
                </div>
            }
        </div>
        <!-- Table footer -->
        @if (enablePagination && _totalItems) {
            <div class="fdp-upload-collection__table-footer">
                <!-- Pagination -->
                <div class="fdp-upload-collection__pagination">
                    <span [id]="id + '-pagination'" class="fdp-upload-collection__pagination--total">
                        {{
                            'platformUploadCollection.paginationTotal'
                                | fdTranslate: { from: _countShowedItems, to: _countNotShowedItems, total: _totalItems }
                        }}
                    </span>
                    <fd-pagination
                        [totalItems]="_totalItems"
                        [displayTotalItems]="false"
                        (pageChangeStart)="_pageChanged($event)"
                        [itemsPerPage]="_itemsPerPage"
                        [currentPage]="_currentPage"
                        [attr.aria-labelledby]="id + '-pagination'"
                    ></fd-pagination>
                </div>
                <!-- Results per page -->
                <div class="fdp-upload-collection__results">
                    <span class="fdp-upload-collection__results--title">
                        <span [id]="id + '-results'">
                            {{ 'platformUploadCollection.resultsPerPage' | fdTranslate }}
                        </span>
                        @if (_itemsPerPageOptions.length === 0) {
                            <span>{{ _itemsPerPage }}</span>
                        }
                    </span>
                    @if (_itemsPerPageOptions.length > 0) {
                        <fdp-menu-button
                            type="ghost"
                            [ariaLabelledBy]="id + '-results'"
                            [fdpMenuTriggerFor]="itemsPerPageMenu"
                            [label]="_itemsPerPage + ''"
                        >
                        </fdp-menu-button>
                    }
                </div>
            </div>
        }
    </div>
</div>
<fdp-menu #itemsPerPageMenu xPosition="before">
    @for (value of _itemsPerPageOptions; track value) {
        <fdp-menu-item
            (itemSelect)="_itemsPerPageChange(value.label)"
            [attr.title]="'Results per page: ' + value.label"
        >
            <span>{{ value.label }}</span>
        </fdp-menu-item>
    }
</fdp-menu>
<fdp-menu #menuActions xPosition="before">
    <fdp-menu-item (itemSelect)="_moveToClicked()">
        <fd-icon
            class="fdp-upload-collection__fd-icon"
            glyph="folder-blank"
            [title]="'platformUploadCollection.moveToBtnLabel' | fdTranslate"
        ></fd-icon>
        <span>
            {{ 'platformUploadCollection.moveToBtnLabel' | fdTranslate }}
        </span>
    </fdp-menu-item>
    @if (_activeItem?.type === 'file') {
        <fdp-menu-item (itemSelect)="_downloadClicked()">
            <fd-icon
                class="fdp-upload-collection__fd-icon"
                glyph="download"
                [title]="'platformUploadCollection.downloadBtnLabel' | fdTranslate"
            ></fd-icon>
            <span>
                {{ 'platformUploadCollection.downloadBtnLabel' | fdTranslate }}
            </span>
        </fdp-menu-item>
        <fdp-menu-item (itemSelect)="_openUpdateFileVersion()">
            <fd-icon
                class="fdp-upload-collection__fd-icon"
                glyph="drill-up"
                [title]="'platformUploadCollection.updateVersionBtnLabel' | fdTranslate"
            ></fd-icon>
            <span>
                {{ 'platformUploadCollection.updateVersionBtnLabel' | fdTranslate }}
            </span>
        </fdp-menu-item>
    }
    <fdp-menu-item (itemSelect)="_remove()">
        <fd-icon
            class="fdp-upload-collection__fd-icon"
            glyph="delete"
            [title]="'platformUploadCollection.removeBtnLabel' | fdTranslate"
        ></fd-icon>
        <span>
            {{ 'platformUploadCollection.removeBtnLabel' | fdTranslate }}
        </span>
    </fdp-menu-item>
</fdp-menu>
<input
    #fileInput
    class="fdp-upload-collection__hidden"
    type="file"
    (fileSelected)="_selectHandler($event)"
    [multiple]="multiple"
    [disabled]="disabled"
    fdFileSelect
/>
<input
    #updateVersionInput
    class="fdp-upload-collection__hidden"
    type="file"
    (fileSelected)="_selectHandler($event)"
    [disabled]="disabled"
    [multiple]="false"
    fdFileSelect
/>
<ng-template
    let-messageType="messageType"
    let-payload="payload"
    let-messageStripType="messageStripType"
    let-count="count"
    #message
>
    @if (_message) {
        @switch (messageType) {
            @case (_messageType.CREATE) {
                <ng-template
                    [ngTemplateOutlet]="messageNewFolder"
                    [ngTemplateOutletContext]="{
                        messageStripType: _message.messageStripType,
                        payload: _message.payload
                    }"
                ></ng-template>
            }
            @case (_messageType.UPDATE_VERSION) {
                <ng-template
                    [ngTemplateOutlet]="messageUpdateVersion"
                    [ngTemplateOutletContext]="{
                        messageStripType: _message.messageStripType,
                        payload: _message.payload
                    }"
                ></ng-template>
            }
            @case (_messageType.FILE_RENAME) {
                <ng-template
                    [ngTemplateOutlet]="messageFileRename"
                    [ngTemplateOutletContext]="{
                        messageStripType: _message.messageStripType,
                        payload: _message.payload
                    }"
                ></ng-template>
            }
            @case (_messageType.REMOVE) {
                <ng-template
                    [ngTemplateOutlet]="messageRemove"
                    [ngTemplateOutletContext]="{
                        payload: _message.payload,
                        messageStripType: _message.messageStripType,
                        count: _message.count
                    }"
                ></ng-template>
            }
            @case (_messageType.MOVE) {
                <ng-template
                    [ngTemplateOutlet]="messageMove"
                    [ngTemplateOutletContext]="{
                        payload: _message.payload,
                        messageStripType: _message.messageStripType,
                        count: _message.count
                    }"
                ></ng-template>
            }
            @case (_messageType.TYPE_MISMATCH) {
                <ng-template
                    [ngTemplateOutlet]="messageTypeMismatch"
                    [ngTemplateOutletContext]="{
                        payload: _message.payload,
                        messageStripType: _message.messageStripType,
                        count: _message.count
                    }"
                ></ng-template>
            }
            @case (_messageType.FILE_SIZE) {
                <ng-template
                    [ngTemplateOutlet]="messageFileSize"
                    [ngTemplateOutletContext]="{
                        payload: _message.payload,
                        messageStripType: _message.messageStripType,
                        count: _message.count
                    }"
                ></ng-template>
            }
            @case (_messageType.FILE_NAME_LENGTH) {
                <ng-template
                    [ngTemplateOutlet]="messageFilenameLength"
                    [ngTemplateOutletContext]="{
                        payload: _message.payload,
                        messageStripType: _message.messageStripType,
                        count: _message.count
                    }"
                ></ng-template>
            }
        }
    }
</ng-template>
<ng-template #messageNewFolder let-payload="payload" let-messageStripType="messageStripType">
    @if (messageStripType === 'error') {
        {{ 'platformUploadCollection.messageCreateFailed' | fdTranslate: { folderName: payload.folder.name } }}
    } @else {
        {{ 'platformUploadCollection.messageCreateSuccess' | fdTranslate: { folderName: payload.folder.name } }}
    }
</ng-template>
<ng-template #messageUpdateVersion let-payload="payload" let-messageStripType="messageStripType">
    @if (messageStripType === 'error') {
        {{ 'platformUploadCollection.messageUpdateVersionFailed' | fdTranslate: { folderName: payload.item.name } }}
    } @else {
        {{ 'platformUploadCollection.messageUpdateVersionSuccess' | fdTranslate: { folderName: payload.item.name } }}
    }
</ng-template>
<ng-template #messageFileRename let-payload="payload" let-messageStripType="messageStripType">
    @if (messageStripType === 'error') {
        {{
            'platformUploadCollection.messageFileRenameFailed'
                | fdTranslate: { from: payload.item.name, to: payload.fileName }
        }}
    } @else {
        {{
            'platformUploadCollection.messageFileRenameSuccess'
                | fdTranslate: { from: payload.item.name, to: payload.fileName }
        }}
    }
</ng-template>
<ng-template #messageRemove let-payload="payload" let-messageStripType="messageStripType" let-count="count">
    @if (payload.items.length > 1 && count.folder && count.file) {
        @if (messageStripType === 'error') {
            {{
                'platformUploadCollection.messageRemoveFoldersAndFilesFailed'
                    | fdTranslate: { foldersCount: count.folder, filesCount: count.file }
            }}
        } @else {
            {{
                'platformUploadCollection.messageRemoveFoldersAndFilesSuccess'
                    | fdTranslate: { foldersCount: count.folder, filesCount: count.file }
            }}
        }
    }
    @if (payload.items.length > 1 && count.folder && !count.file) {
        @if (messageStripType === 'error') {
            {{ 'platformUploadCollection.messageRemoveFoldersFailed' | fdTranslate: { foldersCount: count.folder } }}
        } @else {
            {{ 'platformUploadCollection.messageRemoveFoldersSuccess' | fdTranslate: { foldersCount: count.folder } }}
        }
    }
    @if (payload.items.length > 1 && count.file && !count.folder) {
        @if (messageStripType === 'error') {
            {{ 'platformUploadCollection.messageRemoveFilesFailed' | fdTranslate: { filesCount: count.file } }}
        } @else {
            {{ 'platformUploadCollection.messageRemoveFilesSuccess' | fdTranslate: { filesCount: count.file } }}
        }
    }
    @if (payload.items.length === 1) {
        @if (messageStripType === 'error') {
            {{
                'platformUploadCollection.messageRemoveFileOrFolderFailed'
                    | fdTranslate: { name: payload.items[0].name }
            }}
        } @else {
            {{
                'platformUploadCollection.messageRemoveFileOrFolderSuccess'
                    | fdTranslate: { name: payload.items[0].name }
            }}
        }
    }
</ng-template>
<ng-template #messageMove let-payload="payload" let-messageStripType="messageStripType" let-count="count">
    @if (payload.items.length > 1 && count.folder && count.file) {
        @if (messageStripType === 'error') {
            {{
                (payload.to
                    ? 'platformUploadCollection.messageMoveFoldersAndFilesFailed'
                    : 'platformUploadCollection.messageMoveRootFoldersAndFilesFailed'
                ) | fdTranslate: { foldersCount: count.folder, filesCount: count.file, to: payload.to?.name }
            }}
        } @else {
            {{
                (payload.to
                    ? 'platformUploadCollection.messageMoveFoldersAndFilesSuccess'
                    : 'platformUploadCollection.messageMoveRootFoldersAndFilesSuccess'
                ) | fdTranslate: { foldersCount: count.folder, filesCount: count.file, to: payload.to?.name }
            }}
        }
    }
    @if (payload.items.length > 1 && count.folder && !count.file) {
        @if (messageStripType === 'error') {
            {{
                (payload.to
                    ? 'platformUploadCollection.messageMoveFoldersFailed'
                    : 'platformUploadCollection.messageMoveRootFoldersFailed'
                ) | fdTranslate: { foldersCount: count.folder, to: payload.to?.name }
            }}
        } @else {
            {{
                (payload.to
                    ? 'platformUploadCollection.messageMoveFoldersSuccess'
                    : 'platformUploadCollection.messageMoveRootFoldersSuccess'
                ) | fdTranslate: { foldersCount: count.folder, to: payload.to?.name }
            }}
        }
    }
    @if (payload.items.length > 1 && count.file && !count.folder) {
        @if (messageStripType === 'error') {
            {{
                (payload.to
                    ? 'platformUploadCollection.messageMoveFilesFailed'
                    : 'platformUploadCollection.messageMoveRootFilesFailed'
                ) | fdTranslate: { filesCount: count.file, to: payload.to?.name }
            }}
        } @else {
            {{
                (payload.to
                    ? 'platformUploadCollection.messageMoveFilesSuccess'
                    : 'platformUploadCollection.messageMoveRootFilesSuccess'
                ) | fdTranslate: { filesCount: count.file, to: payload.to?.name }
            }}
        }
    }
    @if (payload.items.length === 1) {
        @if (messageStripType === 'error') {
            {{
                (payload.to
                    ? 'platformUploadCollection.messageMoveFileOrFolderFailed'
                    : 'platformUploadCollection.messageMoveRootFileOrFolderFailed'
                ) | fdTranslate: { name: payload.items[0].name, to: payload.to?.name }
            }}
        } @else {
            {{
                (payload.to
                    ? 'platformUploadCollection.messageMoveFileOrFolderSuccess'
                    : 'platformUploadCollection.messageMoveRootFileOrFolderSuccess'
                ) | fdTranslate: { name: payload.items[0].name, to: payload.to?.name }
            }}
        }
    }
</ng-template>
<ng-template #messageTypeMismatch let-payload="payload" let-messageStripType="messageStripType" let-count="count">
    @if (payload.items.length > 1) {
        {{
            'platformUploadCollection.messageFileTypeMismatchPlural'
                | fdTranslate: { filesCount: payload.items.length, allowedTypes: _getAllowedTypes() }
        }}
    }
    @if (payload.items.length === 1) {
        {{
            'platformUploadCollection.messageFileTypeMismatchSingular'
                | fdTranslate: { fileName: payload.items[0].name, allowedTypes: _getAllowedTypes() }
        }}
    }
</ng-template>
<ng-template #messageFileSize let-payload="payload" let-messageStripType="messageStripType" let-count="count">
    @if (payload.items.length > 1) {
        {{
            'platformUploadCollection.messageFileSizeExceededPlural'
                | fdTranslate: { filesCount: payload.items.length, maxFileSize: maxFileSize || 0 }
        }}
    }
    @if (payload.items.length === 1) {
        {{
            'platformUploadCollection.messageFileSizeExceededSingular'
                | fdTranslate: { fileName: payload.items[0].name, maxFileSize: maxFileSize || 0 }
        }}
    }
</ng-template>
<ng-template #messageFilenameLength let-payload="payload" let-messageStripType="messageStripType" let-count="count">
    @if (payload.items.length > 1) {
        {{
            'platformUploadCollection.messageFileNameLengthExceededPlural'
                | fdTranslate: { filesCount: payload.items.length, maxFilenameLength: maxFilenameLength || 0 }
        }}
    }
    @if (payload.items.length === 1) {
        {{
            'platformUploadCollection.messageFileNameLengthExceededSingular'
                | fdTranslate: { fileName: payload.items[0].name, maxFilenameLength: maxFilenameLength || 0 }
        }}
    }
</ng-template>
