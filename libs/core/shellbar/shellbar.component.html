<fd-toolbar
    class="fd-shellbar"
    [class]="'fd-shellbar--' + _currentSize + _getSideNavClass()"
    [class.fd-shellbar--side-nav]="sideNav === true"
    #shellbar
    [shouldOverflow]="true"
    [showSeparator]="false"
>
    @if (!_hideAllComponents) {
        <div
            class="fd-shellbar__group"
            [class.fd-shellbar__group--shrink]="groupFlex?.product?.shrink"
            [class.fd-shellbar__group--basis-auto]="groupFlex?.product?.flexBasisAuto"
        >
            <span fd-toolbar-item>
                <ng-content select="[fd-shellbar-side-nav]"></ng-content>
            </span>
            <div class="fd-shellbar__branding" [class.fd-shellbar__branding--non-interactive]="!interactiveBranding">
                <span fd-toolbar-item fdOverflowPriority="never">
                    <ng-content select="fd-shellbar-logo"></ng-content>
                </span>
    
                @if (!_hideTitleComponents) {
                    <div class="fd-shellbar__product">
                        <span fd-toolbar-item>
                            <ng-content select="fd-shellbar-title"></ng-content>
                        </span>
                        <span td-toolbar-item>
                            <ng-content select="fd-product-menu"></ng-content>
                        </span>
                    </div>
                }
            </div>
        </div>
        <span fd-toolbar-item class="fd-shellbar__context-area-wrapper">
            <ng-content select="fd-shellbar-context-area"></ng-content>
        </span>
        <span hidden fd-toolbar-item>
            <ng-content></ng-content>
        </span>
        <span fd-toolbar-item>
            <ng-content select="fd-shellbar-actions"></ng-content>
        </span>
    }
    @if (productSwitchComponent) {
        <span class="fd-shellbar__action" fd-toolbar-item fdOverflowPriority="never">
            <ng-content select="fd-product-switch"></ng-content>
        </span>
    }
    @if (_actions?.userComponent || _actions?.userItem) {
        <span fd-toolbar-item fdOverflowPriority="never" style="order: 1">
            @if (!_actions?.userComponent && _actions && _actions?.user && _actions?.userMenu) {
                <fd-shellbar-user-menu
                    placement="bottom-end"
                    [user]="_actions.user"
                    [userMenu]="_actions.userMenu"
                    (itemClicked)="_actions._triggerItems()"
                ></fd-shellbar-user-menu>
            } @else {
                <ng-content select="fd-shellbar-user-menu"></ng-content>
            }
        </span>
    }
</fd-toolbar>
