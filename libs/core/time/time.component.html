<div
    class="fd-time"
    [class.is-compact]="_contentDensityObserver.isCompactSignal()"
    (keydown)="handleKeyDownEvent($event)"
    [class.fd-time--tablet]="tablet"
    [attr.aria-label]="'coreTime.componentAriaName' | fdTranslate"
>
    <fd-time-column
        [active]="isActive('hour')"
        [rows]="hourViewItems"
        [offset]="offset"
        [elementsAtOnce]="elementsAtOnce"
        [activeValue]="activeHourViewItem"
        columnTranslationsPreset="hours"
        [spinners]="spinnerButtons"
        [timeItemStopPropagationSourcing]="timeItemStopPropagationSourcing"
        (activeValueChange)="handleHourChange($event.value.value)"
        (activeStateChange)="changeActive('hour')"
    ></fd-time-column>
    @if (displayMinutes) {
        <fd-time-column
            [active]="isActive('minute')"
            [rows]="minuteViewItems"
            [offset]="offset"
            [elementsAtOnce]="elementsAtOnce"
            [activeValue]="activeMinuteViewItem"
            columnTranslationsPreset="minutes"
            [spinners]="spinnerButtons"
            [timeItemStopPropagationSourcing]="timeItemStopPropagationSourcing"
            (activeValueChange)="handleMinuteChange($event.value.value)"
            (activeStateChange)="changeActive('minute')"
        ></fd-time-column>
    }
    @if (displaySeconds) {
        <fd-time-column
            [active]="isActive('second')"
            [rows]="secondViewItems"
            [offset]="offset"
            [elementsAtOnce]="elementsAtOnce"
            [activeValue]="activeSecondViewItem"
            columnTranslationsPreset="seconds"
            [spinners]="spinnerButtons"
            [timeItemStopPropagationSourcing]="timeItemStopPropagationSourcing"
            (activeValueChange)="handleSecondChange($event.value.value)"
            (activeStateChange)="changeActive('second')"
        ></fd-time-column>
    }
    @if (meridian) {
        <fd-time-column
            [active]="isActive('meridian')"
            [rows]="meridianViewItems"
            [activeValue]="activeMeridianViewItem"
            [offset]="0"
            [elementsAtOnce]="elementsAtOnce"
            columnTranslationsPreset="period"
            [meridian]="true"
            [spinners]="spinnerButtons"
            [timeItemStopPropagationSourcing]="timeItemStopPropagationSourcing"
            (activeValueChange)="handleMeridianChange($event.value.value)"
            (activeStateChange)="changeActive('meridian')"
        ></fd-time-column>
    }
</div>
