<div class="fd-product-switch">
    <fd-popover
        [placement]="placement()"
        [closeOnEscapeKey]="closeOnEscapeKey()"
        [closeOnOutsideClick]="closeOnOutsideClick()"
        [(isOpen)]="isOpen"
        [disabled]="disabled()"
        [triggers]="triggers()"
        [focusTrapped]="focusTrapped()"
        [focusAutoCapture]="focusAutoCapture()"
        [noArrow]="noArrow()"
        [disableScrollbar]="disableScrollbar()"
    >
        <fd-popover-control>
            @if (!customProductSwitchButton()) {
                <button
                    fd-button
                    [attr.aria-label]="'coreProductSwitch.ariaLabel' | fdTranslate"
                    [attr.title]="'coreProductSwitch.ariaLabel' | fdTranslate"
                    class="fd-shellbar__button"
                    glyph="grid"
                    fdType="transparent"
                    [fdContentDensity]="_contentDensity"
                ></button>
            } @else {
                <ng-template [ngTemplateOutlet]="customProductSwitchButton()!.templateRef"></ng-template>
            }
        </fd-popover-control>
        <fd-popover-body>
            <ng-content></ng-content>
        </fd-popover-body>
    </fd-popover>
</div>
