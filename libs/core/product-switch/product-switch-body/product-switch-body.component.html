<div
    class="fd-product-switch__body"
    [class.fd-product-switch__body--col-3]="_isSmallMode() && !_isListMode()"
    [class.fd-product-switch__body--mobile]="_isListMode()"
>
    <ul
        fd-dnd-list
        class="fd-product-switch__list"
        [items]="products"
        [gridMode]="!_isListMode()"
        (itemDropped)="_productSwitchItemsChangeHandle($event)"
    >
        @for (product of products; track product) {
            <li
                fd-dnd-item
                tabindex="0"
                class="fd-product-switch__item"
                [class.selected]="product.selected"
                (keydown)="_keyDownHandle($event)"
                (click)="_itemClick(product, $event)"
                [draggable]="!product.disabledDragAndDrop && dragAndDropEnabled"
                [stickInPlace]="!!product.stickToPosition"
            >
                @if (product.avatar) {
                    <fd-avatar
                        size="s"
                        [glyph]="product.avatar.glyph ?? null"
                        [label]="product.avatar.label ?? null"
                        [circle]="!!product.avatar.circle"
                        [image]="product.avatar.image ?? null"
                        [contain]="!!product.avatar.contain"
                        [transparent]="!!product.avatar.transparent"
                        [placeholder]="!!product.avatar.placeholder"
                        [tile]="!!product.avatar.tile"
                        [colorAccent]="product.avatar.colorAccent"
                        [colorIndication]="product.avatar.colorIndication"
                        [border]="!!product.avatar.border"
                        [alterIcon]="product.avatar.alterIcon ?? null"
                        [backupImage]="product.avatar.backupImage ?? null"
                        [ariaLabel]="product.avatar.ariaLabel ?? null"
                    >
                    </fd-avatar>
                } @else {
                    <fd-icon
                        [font]="product.font || FD_DEFAULT_ICON_FONT_FAMILY"
                        role="presentation"
                        class="fd-product-switch__icon"
                        [glyph]="product.icon"
                    ></fd-icon>
                }

                <div class="fd-product-switch__text">
                    <div class="fd-product-switch__title">{{ product.title }}</div>
                    @if (product.subtitle) {
                        <div class="fd-product-switch__subtitle">{{ product.subtitle }}</div>
                    }
                </div>
            </li>
        }
    </ul>
</div>
