<input
    #inputElement
    type="checkbox"
    class="fd-checkbox"
    [id]="inputId"
    [name]="name"
    [disabled]="disabled || displayOnly || readonly"
    [readonly]="readonly"
    [indeterminate]="isIndeterminate"
    [checked]="isChecked"
    [attr.tabindex]="tabIndexValue"
    [attr.role]="role"
    [attr.aria-checked]="isChecked ? 'true' : isIndeterminate ? 'mixed' : 'false'"
    [attr.aria-label]="ariaLabel"
    [attr.aria-labelledby]="ariaLabelledBy"
    [attr.aria-describedby]="ariaDescribedBy"
    [attr.aria-disabled]="disabled"
    [attr.aria-readonly]="readonly"
    [attr.aria-required]="required"
    [ngClass]="[
        displayOnly ? 'is-display' : readonly ? 'is-readonly' : disabled ? 'is-disabled' : '',
        state ? 'is-' + state : ''
    ]"
    (click)="_onInputClick($event)"
    (blur)="_onBlur()"
    (focus)="_onFocus()"
    (keyup.enter)="_onLabelKeydown($event)"
    (keyup.space)="_onLabelKeydown($event)"
/>
<label
    class="fd-checkbox__label"
    #labelElement
    [for]="inputId"
    [class]="labelClass"
    [attr.title]="title"
    [class.fd-checkbox__label--required]="required"
    [class.fd-checkbox__label--wrap]="wrapLabel && valignLabel === 'middle'"
    [class.fd-checkbox__label--wrap-top-aligned]="wrapLabel && valignLabel === 'top'"
    (keyup.enter)="_onLabelKeydown($event)"
    (keyup.space)="_onLabelKeydown($event)"
    (click)="_onLabelClick($event)"
>
    <span class="fd-checkbox__checkmark" aria-hidden="true"></span>
    @if (label || _projectedContent) {
        <div class="fd-checkbox__label-container">
            @if (label) {
                <span class="fd-checkbox__text">
                    {{ label }}
                </span>
            } @else {
                <span class="fd-checkbox__text">
                    <ng-template cdkPortalOutlet></ng-template>
                </span>
            }
        </div>
    }
</label>
<span [attr.hidden]="!_projectedContent ? true : null" #domPortal>
    <ng-content></ng-content>
</span>
