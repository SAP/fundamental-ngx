<div class="fd-wizard__step-wrapper">
    @if (label || optionalText) {
        <a
            #progressBarLink
            class="fd-wizard__step-container"
            (click)="stepContainerKeypress()"
            (keypress)="stepContainerKeypress($event)"
            [style.cursor]="visited ? 'pointer' : 'auto'"
            [style.pointer-events]="
                ['completed', 'current'].includes(status) || (visited && _isValidated) ? 'auto' : 'none'
            "
            [attr.tabindex]="status === 'current' ? 0 : -1"
            role="navigation"
        >
            <ng-content select="fd-wizard-step-indicator"></ng-content>
            <div class="fd-wizard__label-container" [class.fd-wizard__label-container--optional]="optionalText">
                <div #wizardLabel>
                    <span class="fd-wizard__label">{{ label }}</span>
                    @if (optionalText) {
                        <span class="fd-wizard__optional-text">
                            {{ optionalText }}
                        </span>
                    }
                </div>
            </div>
        </a>
    }
    <ng-content></ng-content>
    @if (!_finalStep || branching) {
        <span
            class="fd-wizard__connector"
            [class.fd-wizard__connector--active]="completed"
            [class.fd-wizard__connector--branching]="branching"
        >
        </span>
    }
</div>
