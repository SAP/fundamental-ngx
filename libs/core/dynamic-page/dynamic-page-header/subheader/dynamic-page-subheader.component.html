<div class="fd-dynamic-page__collapsible-header-container">
    <div
        class="fd-dynamic-page__collapsible-header"
        [attr.aria-label]="headerAriaLabel"
        [attr.aria-hidden]="collapsed"
        [attr.id]="collapsibleHeaderId"
        role="region"
        #headerContent
    >
        <ng-content></ng-content>
    </div>
    <div class="fd-dynamic-page__collapsible-header-visibility-container" #pincollapseContainer>
        @if (collapsible) {
            <div class="fd-dynamic-page__collapsible-header-visibility-container--left-gradient"></div>
            <div role="toolbar" class="fd-dynamic-page__collapsible-header-visibility-container--button-group">
                <button
                    fd-button
                    class="fd-dynamic-page__collapse-button"
                    aria-haspopup="true"
                    [ariaLabel]="_toggleButtonAriaLabel"
                    [attr.title]="_toggleButtonAriaLabel"
                    [attr.aria-expanded]="!collapsed"
                    [attr.aria-controls]="id"
                    (click)="toggleCollapse()"
                >
                    <fd-icon [glyph]="collapsed ? 'slim-arrow-down' : 'slim-arrow-up'"></fd-icon>
                </button>
                @if (pinnable && !collapsed) {
                    <button
                        fd-button
                        class="fd-dynamic-page__pin-button"
                        [ariaLabel]="_pinButtonAriaLabel"
                        [attr.title]="_pinButtonAriaLabel"
                        [toggled]="_pinned"
                        (click)="togglePinned()"
                    >
                        <fd-icon glyph="pushpin-off"></fd-icon>
                    </button>
                }
            </div>
            <div class="fd-dynamic-page__collapsible-header-visibility-container--right-gradient"></div>
        }
    </div>
</div>
