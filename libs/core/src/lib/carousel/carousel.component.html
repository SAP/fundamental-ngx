<div
    class="fd-carousel"
    [class.fd-carousel--no-navigation]="!navigation"
    data-ride="carousel"
    tabindex="0"
    [style.height]="height"
    [style.width]="width"
    [attr.dir]="dir"
    role="region"
    #carouselContainer
    (click)="_focus()"
>
    @if (_showPageIndicatorContainer && pageIndicatorsOrientation === 'top') {
        <ng-container *ngTemplateOutlet="pageIndicatorContainer"></ng-container>
    }
    <div
        class="fd-carousel__content"
        [class.fd-carousel__content--horizontal]="!vertical"
        [ngClass]="'fd-carousel__content--' + contentBackground"
        [style.width]="_contentSizePx"
    >
        @if (_showNavigationButtonInContent) {
            <ng-container *ngTemplateOutlet="buttonLeft"></ng-container>
        }
        <div #slideContainer class="fd-carousel__slides">
            <ng-content></ng-content>
        </div>
        @if (_showNavigationButtonInContent) {
            <ng-container *ngTemplateOutlet="buttonRight"></ng-container>
        }
    </div>
    @if (_showPageIndicatorContainer && pageIndicatorsOrientation === 'bottom') {
        <ng-container *ngTemplateOutlet="pageIndicatorContainer"></ng-container>
    }
    <div [style.display]="'none'" role="region" [attr.id]="id + '-accessibility'" aria-live="polite" dir="ltr">
        {{ screenReaderLabel }}
    </div>
</div>
<ng-template #pageIndicatorContainer>
    <div
        class="fd-carousel__page-indicator-container"
        [class.fd-carousel__page-indicator-container--no-border]="noPaginationContainerBorder"
        [ngClass]="'fd-carousel__page-indicator-container--' + pageIndicatorBackground"
    >
        @if (_showNavigationButtonInPageIndicatorContainer) {
            <ng-container *ngTemplateOutlet="buttonLeft"></ng-container>
        }
        <ng-container *ngTemplateOutlet="pageIndicators"> </ng-container>
        @if (_showNavigationButtonInPageIndicatorContainer) {
            <ng-container *ngTemplateOutlet="buttonRight"></ng-container>
        }
    </div>
</ng-template>
<ng-template #pageIndicators>
    @if (numericIndicator) {
        <div class="fd-carousel__page-indicators">
            @if (pageIndicator) {
                <div class="fd-carousel__text" dir="ltr">
                    {{ getPageIndicatorLabel }}
                </div>
            }
        </div>
    }
    @if (!numericIndicator && _showNavigationButtonInPageIndicatorContainer) {
        <ol class="fd-carousel__page-indicators" [attr.dir]="dir">
            @if (pageIndicator) {
                @for (item of pageIndicatorsCountArray; track item; let i = $index) {
                    <li
                        [attr.data-slide-to]="i + 1"
                        class="fd-carousel__page-indicator"
                        [class.fd-carousel__page-indicator--active]="i === currentActiveSlidesStartIndex"
                    ></li>
                }
            }
        </ol>
    }
</ng-template>
<ng-template #buttonLeft>
    <button
        fd-button
        class="fd-carousel__button"
        [class.fd-carousel__button--left]="!vertical"
        [class.fd-carousel__button--up]="vertical"
        [style.z-index]="1"
        data-slide="previous"
        [attr.aria-label]="'coreCarousel.leftNavigationBtnLabel' | fdTranslate"
        (click)="previous(); $event.stopPropagation()"
        [disabled]="leftButtonDisabled"
        [attr.title]="'coreCarousel.leftNavigationBtnLabel' | fdTranslate"
        [glyph]="vertical ? 'slim-arrow-up' : 'slim-arrow-left'"
    ></button>
</ng-template>
<ng-template #buttonRight>
    <button
        fd-button
        class="fd-carousel__button"
        [class.fd-carousel__button--right]="!vertical"
        [class.fd-carousel__button--down]="vertical"
        [style.z-index]="1"
        data-slide="next"
        [attr.aria-label]="'coreCarousel.rightNavigationBtnLabel' | fdTranslate"
        (click)="next(); $event.stopPropagation()"
        [disabled]="rightButtonDisabled"
        [attr.title]="'coreCarousel.rightNavigationBtnLabel' | fdTranslate"
        [glyph]="vertical ? 'slim-arrow-down' : 'slim-arrow-right'"
    ></button>
</ng-template>
