<ng-container #viewContainer></ng-container>

<ng-template #menuRootTemplate>
    <nav class="fd-menu"
         [id]="id"
         [attr.aria-labelledby]="ariaLabelledby"
         [attr.aria-label]="ariaLabel"
         [ngClass]="{
            'fd-menu--compact': compact,
            'fd-menu--mobile': mobile
         }">
        <ul class="fd-menu__list"
            [class.fd-menu__list--no-shadow]="mobile">
            <ng-content></ng-content>
        </ul>
    </nav>
</ng-template>

<ng-template #menuWithPopover>
    <div #popoverContainer
         [triggers]="[]"
         [isOpen]="isOpen"
         [options]="options"
         [disabled]="disabled"
         [placement]="placement"
         [popoverTrigger]="trigger"
         [appendTo]="popoverContainer"
         [fdPopover]="menuRootTemplate"
         [noArrow]="noArrow"
         [fillControlMode]="fillControlMode"
         [closeOnEscapeKey]="closeOnEscapeKey"
         [closeOnOutsideClick]="closeOnOutsideClick"
         (loaded)="focusFirst()"
         (isOpenChange)="handlePopoverOpenChange($event)">
    </div>
</ng-template>
