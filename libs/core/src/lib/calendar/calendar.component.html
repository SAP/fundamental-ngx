<fd-calendar-header
    [currentlyDisplayed]="currentlyDisplayed"
    [activeView]="activeView"
    [id]="id"
    [calendarYearGrid]="yearGrid"
    [compact]="compact"
    [mobileLandscape]="mobileLandscape"
    (closeClicked)="closeClicked.emit()"
    (nextClicked)="handleNextArrowClick()"
    (previousClicked)="handlePreviousArrowClick()"
    (activeViewChange)="handleActiveViewChange($event)"
></fd-calendar-header>
<ng-container [ngSwitch]="activeView">
    <div
        class="fd-calendar__content"
        [ngClass]="{
            'fd-calendar__content--dates': activeView === 'day',
            'fd-calendar__content--months': activeView === 'month',
            'fd-calendar__content--years': activeView === 'year'
        }"
    >
        <fd-calendar-day-view
            *ngSwitchCase="'day'"
            [selectedDate]="selectedDate"
            [showWeekNumbers]="showWeekNumbers"
            [markWeekends]="markWeekends"
            (selectedDateChange)="selectedDateChanged($event)"
            [selectedRangeDate]="selectedRangeDate"
            (selectedRangeDateChange)="selectedRangeDateChanged($event)"
            [currentlyDisplayed]="currentlyDisplayed"
            [startingDayOfWeek]="getWeekStartDay()"
            [disableFunction]="disableFunction"
            [disableRangeEndFunction]="disableRangeEndFunction"
            [disableRangeStartFunction]="disableRangeStartFunction"
            [calType]="calType"
            [id]="id"
            [rangeHoverEffect]="rangeHoverEffect"
            [specialDaysRules]="specialDaysRules"
            [focusEscapeFunction]="escapeFocusFunction"
            (nextMonthSelect)="displayNextMonth()"
            (previousMonthSelect)="displayPreviousMonth()"
        ></fd-calendar-day-view>
        <fd-calendar-month-view
            *ngSwitchCase="'month'"
            [monthSelected]="currentlyDisplayed?.month"
            [year]="currentlyDisplayed.year"
            [id]="id"
            [focusEscapeFunction]="escapeFocusFunction"
            (monthClicked)="handleMonthViewChange($event)"
        ></fd-calendar-month-view>
        <fd-calendar-year-view
            *ngSwitchCase="'year'"
            [yearSelected]="currentlyDisplayed.year"
            [yearViewGrid]="yearGrid"
            [id]="id"
            [focusEscapeFunction]="escapeFocusFunction"
            (yearClicked)="selectedYear($event)"
        >
        </fd-calendar-year-view>
        <fd-calendar-aggregated-year-view
            *ngSwitchCase="'aggregatedYear'"
            (yearsClicked)="selectedYears($event)"
            [yearSelected]="currentlyDisplayed.year"
            [yearViewGrid]="yearGrid"
            [aggregatedYearsViewGrid]="aggregatedYearGrid"
            [id]="id"
            [focusEscapeFunction]="escapeFocusFunction"
        >
        </fd-calendar-aggregated-year-view>
    </div>
</ng-container>