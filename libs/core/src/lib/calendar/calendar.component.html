<fd-calendar-header
    [currentlyDisplayed]="_currentlyDisplayed"
    [activeView]="activeView"
    [id]="id"
    [calendarYearGrid]="yearGrid"
    (closeClicked)="closeClicked.emit()"
    (nextClicked)="handleNextArrowClick()"
    (previousClicked)="handlePreviousArrowClick()"
    [previousButtonDisabled]="previousButtonDisabled"
    [nextButtonDisabled]="nextButtonDisabled"
    (activeViewChange)="handleActiveViewChange($event)"
></fd-calendar-header>
@if (_currentlyDisplayed) {
    @switch (activeView) {
        @case ('day') {
            <fd-calendar-day-view
                [selectedDate]="selectedDate"
                [showWeekNumbers]="showWeekNumbers"
                [markWeekends]="markWeekends"
                (selectedDateChange)="selectedDateChanged($event)"
                [selectedRangeDate]="selectedRangeDate"
                (selectedRangeDateChange)="selectedRangeDateChanged($event)"
                [currentlyDisplayed]="_currentlyDisplayed"
                [startingDayOfWeek]="getWeekStartDay()"
                [disableFunction]="disableFunction"
                [disableRangeEndFunction]="disableRangeEndFunction"
                [disableRangeStartFunction]="disableRangeStartFunction"
                [calType]="calType"
                [id]="id"
                [rangeHoverEffect]="rangeHoverEffect"
                [specialDaysRules]="specialDaysRules"
                [focusEscapeFunction]="escapeFocusFunction"
                (nextMonthSelect)="displayNextMonth()"
                (previousMonthSelect)="displayPreviousMonth()"
            ></fd-calendar-day-view>
        }
        @case ('month') {
            <fd-calendar-month-view
                [monthSelected]="_currentlyDisplayed.month"
                [year]="_currentlyDisplayed.year"
                [id]="id"
                [focusEscapeFunction]="escapeFocusFunction"
                (monthClicked)="handleMonthViewChange($event)"
            ></fd-calendar-month-view>
        }
        @case ('year') {
            <fd-calendar-year-view
                [yearSelected]="_currentlyDisplayed.year"
                [yearViewGrid]="yearGrid"
                [id]="id"
                [focusEscapeFunction]="escapeFocusFunction"
                (yearClicked)="selectedYear($event)"
            >
            </fd-calendar-year-view>
        }
        @case ('aggregatedYear') {
            <fd-calendar-aggregated-year-view
                (yearsClicked)="selectedYears($event)"
                [yearSelected]="_currentlyDisplayed.year"
                [yearViewGrid]="yearGrid"
                [aggregatedYearsViewGrid]="aggregatedYearGrid"
                [id]="id"
                [focusEscapeFunction]="escapeFocusFunction"
            >
            </fd-calendar-aggregated-year-view>
        }
    }
}
