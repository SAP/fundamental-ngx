<div class="fd-datetime">
    <fd-popover [(isOpen)]="isOpen"
                (isOpenChange)="handleInputChange(dateTimePicker.value)"
                [closeOnOutsideClick]="false"
                [closeOnEscapeKey]="false"
                [triggers]="[]"
                [disabled]="disabled"
                [placement]="placement">
        <fd-popover-control>
            <fd-input-group [compact]="compact">
                <input type="text"
                       class="fd-input"
                       fd-input-group-input
                       #dateTimePicker
                       [attr.aria-label]="datetimeInputLabel"
                       [(ngModel)]="inputFieldDate"
                       [placeholder]="placeholder"
                       (keyup.enter)="handleInputChange(dateTimePicker.value)"
                       (click)="openPopover()"
                       [ngClass]="{ 'fd-input--compact': compact, 'is-invalid': isInvalidDateInput && useValidation }"
                       [disabled]="disabled">
                <span fd-input-group-addon [button]="true">
                    <button [disabled]="disabled" fd-button [glyph]="'date-time'"
                            [options]="'light'"
                            [compact]="compact"
                            (click)="togglePopover()" [attr.aria-label]="displayDatetimeToggleLabel"
                            [attr.aria-expanded]="isOpen">
                    </button>
                </span>
            </fd-input-group>
        </fd-popover-control>
        <fd-popover-body
            [attr.aria-expanded]="isOpen"
            [attr.aria-hidden]="!isOpen"
            [style.display]="'block'">
            <div class="fd-datetime__container">
                <fd-calendar calType="single"
                             [activeView]="activeView"
                             (activeViewChange)="handleCalendarActiveViewChange($event)"
                             [disableFunction]="disableFunction ? disableFunction : null"
                             [blockFunction]="blockFunction ? blockFunction : null"
                             [disableRangeStartFunction]="disableRangeStartFunction ? disableRangeStartFunction : null"
                             [disableRangeEndFunction]="disableRangeEndFunction ? disableRangeEndFunction : null"
                             [blockRangeStartFunction]="blockRangeStartFunction ? blockRangeStartFunction : null"
                             [blockRangeEndFunction]="blockRangeEndFunction ? blockRangeEndFunction : null"
                             [selectedDate]="selectedDate"
                             (selectedDateChange)="handleDateChange($event)"
                             (isValidDateChange)="isInvalidDateInputHandler($event)"
                             [escapeFocusFunction]="null"
                             [startingDayOfWeek]="startingDayOfWeek"></fd-calendar>
                <div class="fd-datetime__separator"></div>
                <fd-time [disabled]="disabled"
                         [meridian]="meridian"
                         [ngModel]="time"
                         (ngModelChange)="handleTimeChange($event)"
                         [spinners]="spinners"
                         [displaySeconds]="displaySeconds"
                         [displayMinutes]="displayMinutes"
                         [displayHours]="displayHours"
                         (focusArrowLeft)="focusArrowLeft()"></fd-time>
            </div>
        </fd-popover-body>
    </fd-popover>
</div>
