<div class="fd-slider">
    <div class="fd-slider__inner">
        <div class="fd-slider__track" (click)="onTrackClick($event)" #track>
            <ng-container *ngIf="!_isRange">
                <div *ngIf="!hideProgressBar" class="fd-slider__track-range" [style.width.%]="_progress"></div>
                <div class="fd-slider__handle"
                     tabindex="0"
                     role="slider"
                     aria-label="slider"
                     [attr.aria-valuemin]="min"
                     [attr.aria-valuemax]="max"
                     [attr.aria-valuenow]="_value"
                     [style.left.%]="_progress"
                     (mousedown)="onHandleClick($event); $event.stopPropagation()"
                     (keydown)="onKeyDown($event)"
                ></div>
            </ng-container>
            <ng-container *ngIf="_isRange">
                <div *ngIf="!hideProgressBar"
                     class="fd-slider__track-range"
                     [style.width.%]="_rangeProgress"
                     [style.left.%]="_handle1Position < _handle2Position ? _handle1Position : _handle2Position"
                ></div>
                <div #rangeHandle1
                     class="fd-slider__handle"
                     tabindex="0"
                     role="slider"
                     aria-label="slider"
                     [attr.aria-valuemin]="min"
                     [attr.aria-valuemax]="max"
                     [attr.aria-valuenow]="_value"
                     [style.left.%]="_handle1Position"
                     (mousedown)="onHandleClick($event); $event.stopPropagation()"
                     (keydown)="onKeyDown($event)"
                ></div>
                <div #rangeHandle2
                    class="fd-slider__handle"
                     tabindex="0"
                     role="slider"
                     aria-label="slider"
                     [attr.aria-valuemin]="min"
                     [attr.aria-valuemax]="max"
                     [attr.aria-valuenow]="_value"
                     [style.left.%]="_handle2Position"
                     (mousedown)="onHandleClick($event); $event.stopPropagation()"
                     (keydown)="onKeyDown($event)"
                ></div>
            </ng-container>
        </div>
        <div class="fd-slider__tick-wrapper">
            <div class="fd-slider__ticks" (click)="onTrackClick($event)">
                <ng-container *ngIf="showTicks">
                    <div
                        *ngFor="let tick of _tickMarks"
                        class="fd-slider__tick"
                        [attr.data-val]="tick.value"
                        [class.fd-slider__tick--in-range]="
                            !hideProgressBar &&
                            (_isRange ? (tick.value >= this.value[0] && tick.value <= this.value[1]) : tick.value <= value)
                        "
                    ></div>
                </ng-container>
            </div>
            <div class="fd-slider__labels" *ngIf="showTicks && showTicksLabels">
                <div
                    *ngFor="let tick of _tickMarks"
                    class="fd-slider__label"
                >{{ tick.value }}</div>
            </div>
        </div>
    </div>
</div>
