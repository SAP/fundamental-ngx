<fd-popover [(isOpen)]="isOpen"
            (isOpenChange)="handleInputChange(datePicker.value)"
            [triggers]="[]"
            [placement]="placement"
            [closeOnEscapeKey]="true"
            [disabled]="disabled">
    <fd-popover-control>
        <fd-input-group [compact]="compact" [state]="state">
            <input #datePicker
                   class="fd-input"
                   [state]="state"
                   fd-input-group-input
                   type="text"
                   [attr.aria-label]="dateInputLabel"
                   [value]="inputFieldDate"
                   [placeholder]="placeholder"
                   (keyup.enter)="handleInputChange(datePicker.value)"
                   (click)="openCalendar()"
                   [disabled]="disabled"
                   [compact]="compact"
                   [ngClass]="{ 'is-invalid': isInvalidDateInput && useValidation }">
            <span fd-input-group-addon [state]="state" [button]="true">
                <button [disabled]="disabled" fd-button [glyph]="'calendar'"
                        [options]="'light'"
                        [compact]="compact"
                        (click)="toggleCalendar()" [attr.aria-label]="displayCalendarToggleLabel"
                        [attr.aria-expanded]="isOpen">
                </button>
            </span>
        </fd-input-group>
    </fd-popover-control>
    <fd-popover-body
        [style.display]="'block'"
        [attr.aria-expanded]="isOpen"
        [attr.aria-hidden]="!isOpen">
        <fd-calendar (closeCalendar)="closeFromCalendar()"
                     [activeView]="activeView"
                     (activeViewChange)="handleCalendarActiveViewChange($event)"
                     [calType]="type"
                     [disableFunction]="disableFunction ? disableFunction : null"
                     [blockFunction]="blockFunction ? blockFunction : null"
                     [disableRangeStartFunction]="disableRangeStartFunction ? disableRangeStartFunction : null"
                     [disableRangeEndFunction]="disableRangeEndFunction ? disableRangeEndFunction : null"
                     [blockRangeStartFunction]="blockRangeStartFunction ? blockRangeStartFunction : null"
                     [blockRangeEndFunction]="blockRangeEndFunction ? blockRangeEndFunction : null"
                     [selectedDate]="selectedDate"
                     [selectedRangeDate]="selectedRangeDate"
                     (selectedRangeDateChange)="handleRangeDateChange($event)"
                     (selectedDateChange)="handleSingleDateChange($event)"
                     [startingDayOfWeek]="startingDayOfWeek"></fd-calendar>
    </fd-popover-body>
</fd-popover>
