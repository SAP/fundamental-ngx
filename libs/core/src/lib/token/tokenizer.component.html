<div
    class="fd-tokenizer fd-tokenizer--scrollable"
    tabindex="0"
    (focus)="tokenizerHasFocus = true"
    (blur)="tokenizerHasFocus = false"
    [ngClass]="{ 'is-focus': tokenizerHasFocus, 'fd-tokenizer--compact': compact }"
>
    <div class="fd-tokenizer__inner" #tokenizerInner>
        <ng-content select="fd-token"></ng-content>
        <span
            *ngIf="(moreTokensLeft.length > 0 || moreTokensRight.length > 0) || hiddenCozyTokenCount > 0"
            class="fd-tokenizer-more"
            #moreElement
        >
            <ng-container *ngIf="compact">{{ moreTokensLeft.length + moreTokensRight.length }} {{ moreTerm }}</ng-container>
            <ng-container *ngIf="!compact">{{ hiddenCozyTokenCount }} {{ moreTerm }}</ng-container>
        </span>
        <ng-content select="[fd-form-control]"></ng-content>
    </div>
    <span fd-input-group-addon *ngIf="glyph" #inputGroupAddOn [compact]="compact" [button]="true" [placement]="'after'">
        <button
            fd-button
            [class]="compact ? 'fd-tokenizer-addon--compact' : 'fd-tokenizer-addon'"
            [fdType]="'transparent'"
            [compact]="compact"
            [glyph]="glyph"
            type="button"
        ></button>
    </span>
</div>
