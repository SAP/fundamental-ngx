<div #toolbar [tabindex]="tabindex" [class.fd-toolbar--cozy]="_contentDensityObserver.isCozy$ | async">
    <ng-container *fdSkeletonTemplate="skeletonTemplate">
        <h4 *ngIf="title" class="fd-title fd-title--h4 fd-toolbar__title" fdSkeletonConsumer>{{ title }}</h4>

        <ng-content></ng-content>

        <ng-container *ngIf="shouldOverflow">
            <span #overflowSpacer class="fd-toolbar__spacer"></span>

            <span class="fd-toolbar__separator" *ngIf="overflowVisibility | async"></span>

            <fd-popover placement="bottom-end" [noArrow]="true" class="fd-popover">
                <fd-popover-control>
                    <button
                        *ngIf="overflowVisibility | async"
                        fd-button
                        title="More"
                        aria-label="More"
                        aria-haspopup="true"
                        fdType="transparent"
                        glyph="overflow"
                    ></button>
                </fd-popover-control>

                <fd-popover-body>
                    <div class="fd-toolbar__overflow" #overflowBody></div>
                </fd-popover-body>
            </fd-popover>
        </ng-container>
    </ng-container>

    <ng-template #skeletonTemplate>
        <h4 class="fd-title fd-title--h4 fd-toolbar__title">
            <fd-skeleton width="40%" height="1.25rem"></fd-skeleton>
        </h4>
    </ng-template>
</div>
