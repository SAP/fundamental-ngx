<div *ngIf="comboboxComponent" class="fd-shellbar__action fd-shellbar__action--desktop">
    <ng-content select="fd-combobox"></ng-content>
</div>

<!-- If portal outlet placed outside div, it will be added to the end of the root container. So this div actually keeps outlet in desired place. -->
<div class="fd-shellbar__action" cdkPortalOutlet></div>

<div class="fd-shellbar__action fd-shellbar__action--mobile">
    <fd-shellbar-actions-mobile
        [shellbarActions]="shellbarActions"
        [collapsedItemMenuLabel]="collapsedItemMenuLabel"
        [searchExists]="!!_searchPortal"
        (showSearch)="_toggleSearch()"
    ></fd-shellbar-actions-mobile>
</div>

<div class="fd-shellbar__action fd-shellbar__action--desktop">
    <ng-content></ng-content>
</div>

<fd-shellbar-action
    *ngIf="_addSearchIcon && !showSearch"
    glyph="search"
    [callback]="_toggleSearch"
></fd-shellbar-action>

<ng-content select="fd-shellbar-action"></ng-content>

<ng-container *ngIf="userItem">
    <ng-container *ngIf="!userComponent">
        <fd-shellbar-user-menu
            placement="bottom-end"
            [user]="user"
            [userMenu]="userMenu"
            (itemClicked)="_triggerItems()"
        ></fd-shellbar-user-menu>
    </ng-container>

    <ng-container *ngIf="userComponent">
        <ng-content select="fd-shellbar-user-menu"></ng-content>
    </ng-container>
</ng-container>

<div *ngIf="productSwitchComponent" class="fd-shellbar__action">
    <ng-content select="fd-product-switch"></ng-content>
</div>
