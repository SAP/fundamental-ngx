<ng-template [ngIf]="items?.length > 0" [ngIfElse]="subHeader">
    <fd-popover
        [disabled]="!items || items.length === 0 || disabled"
        [closeOnEscapeKey]="closeOnEscapeKey"
        [closeOnOutsideClick]="closeOnOutsideClick"
        [(isOpen)]="isOpen"
        (isOpenChange)="openChanged($event)"
        [isDropdown]="isDropdown"
        [triggers]="triggers"
        [focusTrapped]="false"
        [placement]="'bottom-end'"
    >
        <fd-popover-control>
            <button class="fd-button fd-button--transparent fd-button--menu fd-shellbar__button--menu">
                <span class="fd-shellbar__title">
                    {{ control }}
                </span>
            </button>
        </fd-popover-control>
        <fd-popover-body>
            <fd-menu *ngIf="!menuComponent">
                <li *ngFor="let item of items" (click)="itemClicked(item, $event)" fd-menu-item>
                    <a [attr.href]="item.link ? item.link : null" fd-menu-interactive>
                        <span fd-menu-title>{{ item.name }}</span>
                        <fd-icon *ngIf="item.glyph" fd-menu-addon position="after" [glyph]="item.glyph"></fd-icon>
                    </a>
                </li>
            </fd-menu>
            <ng-content select="fd-menu"></ng-content>
        </fd-popover-body>
    </fd-popover>
</ng-template>

<ng-template #subHeader>
    <span class="fd-shellbar__title fd-product-menu__title">
        {{ control }}
    </span>
</ng-template>
