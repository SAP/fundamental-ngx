<ng-content></ng-content>

<ng-container *ngIf="loading">
    <div
        #busyIndicator
        class="fd-busy-indicator"
        [class.fd-busy-indicator--l]="size === 'l'"
        [class.fd-busy-indicator--m]="size === 'm'"
        [class.fd-busy-indicator--s]="size === 's'"
        [class.fd-busy-indicator--absolute]="busyIndicator?.previousElementSibling"
    >
        <div class="fd-busy-indicator__circle"></div>
        <div class="fd-busy-indicator__circle"></div>
        <div class="fd-busy-indicator__circle"></div>
    </div>

    <span *ngIf="label" class="fd-busy-indicator-extended__label">{{ label }}</span>

    <div
        class="fd-busy-indicator__overlay"
        [class.fd-busy-indicator__overlay--transparent]="!busyIndicator?.previousElementSibling"
    ></div>

    <div #fakeFocusElement tabindex="0" aria-hidden="true" (focusin)="fakeElementFocusHandler($event)"></div>
</ng-container>
