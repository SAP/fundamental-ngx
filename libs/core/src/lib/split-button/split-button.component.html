<fd-popover
    [(isOpen)]="isOpen"
    [focusTrapped]="focusTrapped"
    [closeOnEscapeKey]="closeOnEscapeKey"
    [closeOnOutsideClick]="closeOnOutsideClick"
    [disabled]="disabled"
    [triggers]="triggers"
    [fillControlMode]="fillControlMode"
>
    <fd-popover-control [dir]="direction$ | async">
        <div class="fd-button-split">
            <button
                fd-button
                [fdType]="fdType"
                [options]="options"
                [compact]="compact"
                (click)="buttonClick($event)"
                [disabled]="disabled"
            >
                <ng-container *ngIf="titleTemplate">
                    <ng-container [fd-split-button-load-action-title]="titleTemplate"></ng-container>
                </ng-container>
                <ng-container *ngIf="!titleTemplate">
                    {{ mainActionTitle }}
                </ng-container>
            </button>
            <button
                fd-button
                [options]="options"
                [attr.aria-expanded]="disabled ? false : isOpen"
                [attr.aria-disabled]="disabled"
                aria-haspopup="true"
                [fdType]="fdType"
                [compact]="compact"
                [glyph]="glyph"
            ></button>
        </div>
    </fd-popover-control>
    <fd-popover-body>
        <ng-content select="[fd-split-button-menu]"></ng-content>
    </fd-popover-body>
</fd-popover>
