<div
    #layout
    cdkDropListGroup
    fdDndKeyboardGroup
    class="fd-fixed-card-layout__card-layout"
    [style.max-height]="_containerHeight + 'px'"
    [groups]="_columns"
    [attr.dir]="_dir"
>
    <div
        #cardWrapper
        *ngFor="let card of _cardsArray; let cardIndex = index"
        cdkDropList
        [cdkDropListDisabled]="disableDragDrop"
        [cdkDropListData]="cardIndex"
        (cdkDropListEntered)="_calculateContainerHeight()"
        (cdkDropListExited)="_calculateContainerHeight()"
    >
        <div
            cdkDrag
            fdDndKeyboardItem
            tabindex="0"
            class="fd-fixed-card-layout__card"
            cdkDragPreviewClass="fd-fixed-card-layout__card-preview"
            [cdkDragData]="card"
            [cdkDragStartDelay]="dragStartDelay"
            [dndKeyboardDisabled]="disableDragDrop"
            [itemIndex]="cardIndex"
            [groupIndex]="cardIndex"
            (cdkDragDropped)="_onDragDrop($event)"
        >
            <fd-fixed-card-layout-item>
                <ng-container *ngTemplateOutlet="card?.template"> </ng-container>
            </fd-fixed-card-layout-item>

            <div *cdkDragPlaceholder class="fd-fixed-card-layout__card-placeholder">
                <ng-container *ngTemplateOutlet="card?.template"></ng-container>
            </div>
        </div>
    </div>
</div>
