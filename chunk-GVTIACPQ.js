import{b as K,c as X,d as T}from"./chunk-KDH4FE2I.js";import{a as p,c as Y,d as y,e as q,i as z}from"./chunk-H3LZDFYJ.js";import{a as f}from"./chunk-ITVZFVC4.js";import{a as H,b as J}from"./chunk-YMO3PQTA.js";import{Cb as w,Db as B,Eb as O,Fb as L,Gb as $,Ib as W,Kb as j,T as I,U as _,Y as V,o as A,rg as U,sg as G}from"./chunk-SGTQD4DW.js";import{v as D}from"./chunk-XUL3DONQ.js";import{Ab as E,Dc as d,Oa as x,Sa as R,Zb as k,_ as g,ca as C,ha as F,na as S,sc as u,tc as r,va as M,zb as P}from"./chunk-BM3JXQH7.js";import{h as N,i as c}from"./chunk-66YHNWRR.js";function v(){return[K.call(this),X.call(this,{content:ee,initialFocus:this.initialFocusId})]}function ee(){return V(z,{id:`${this._id}-calendar`,primaryCalendarType:this._primaryCalendarType,secondaryCalendarType:this.secondaryCalendarType,formatPattern:this._formatPattern,selectionMode:this._calendarSelectionMode,minDate:this.minDate,maxDate:this.maxDate,calendarWeekNumbering:this.calendarWeekNumbering,onSelectionChange:this.onSelectedDatesChange,onShowMonthView:this.onHeaderShowMonthPress,onShowYearView:this.onHeaderShowYearPress,hideWeekNumbers:this.hideWeekNumbers,_currentPicker:this._calendarCurrentPicker,_pickersMode:this._calendarPickersMode,children:V(Y,{startValue:this.startValue,endValue:this.endValue})})}D("@ui5/webcomponents-theming","sap_horizon",()=>c(null,null,function*(){return U}));D("@ui5/webcomponents","sap_horizon",()=>c(null,null,function*(){return G}),"host");var Z=`:host(:not([hidden])){display:inline-block}:host{min-width:15rem;color:var(--sapField_TextColor);background-color:var(--sapField_Background)}:host .ui5-date-picker-input{width:100%;min-width:inherit;color:inherit;background-color:inherit}
`;var b=function(m,i,t,e){var a=arguments.length,s=a<3?i:e===null?e=Object.getOwnPropertyDescriptor(i,t):e,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(m,i,t,e);else for(var n=m.length-1;n>=0;n--)(l=m[n])&&(s=(a<3?l(s):a>3?l(i,t,s):l(i,t))||s);return a>3&&s&&Object.defineProperty(i,t,s),s},o,te="-",h=o=class Q extends T{get formValidityMessage(){let i=this.formValidity;return i.valueMissing?o.i18nBundle.getText(B,this.getFormat().oFormatOptions.pattern):i.patternMismatch?o.i18nBundle.getText(O,this.getFormat().oFormatOptions.pattern):i.rangeUnderflow?o.i18nBundle.getText($,this.minDate):i.rangeOverflow?o.i18nBundle.getText(L,this.maxDate):""}get formValidity(){return{valueMissing:this.required&&!this.value,patternMismatch:!!this.value&&!this.isValidValue(this.value),rangeUnderflow:!!this.value&&!this.isValidMin(this.value),rangeOverflow:!!this.value&&!this.isValidMax(this.value)}}get formFormattedValue(){let i=this._splitValueByDelimiter(this.value||"").filter(Boolean);if(i.length&&this.name){let t=new FormData;for(let e=0;e<i.length;e++)t.append(this.name,i[e]);return t}return this.value}constructor(){super(),this.delimiter="-",this._prevDelimiter=null}get dateValue(){return null}get dateValueUTC(){return null}get _startDateTimestamp(){return this._extractFirstTimestamp(this.value)}get _endDateTimestamp(){return this._extractLastTimestamp(this.value)}get _tempTimestamp(){return this._tempValue&&this.getValueFormat().parse(this._tempValue,!0).getTime()/1e3}get _calendarSelectionMode(){return"Range"}get _calendarTimestamp(){return this._tempTimestamp||this._startDateTimestamp||q(this._primaryCalendarType)}get _calendarSelectedDates(){return this._tempValue?[this._tempValue]:this.value&&this._checkValueValidity(this.value)?this._splitValueByDelimiter(this.value):[]}get startDateValue(){return p.fromTimestamp(this._startDateTimestamp*1e3).toLocalJSDate()}get endDateValue(){return p.fromTimestamp(this._endDateTimestamp*1e3).toLocalJSDate()}get startValue(){return this._calendarSelectedDates[0]||""}get endValue(){return this._calendarSelectedDates[1]||""}get _lastDateRangeForTheCurrentYear(){let i=f.getInstance().getFullYear(),t=f.getInstance(i,11,31,23,59,59),e=f.getInstance(i,11,24,23,59,59);return`${this.getFormat().format(e)} ${this._effectiveDelimiter} ${this.getFormat().format(t)}`}get _placeholder(){return this.placeholder?this.placeholder:`${o.i18nBundle.getText(W)} ${this._lastDateRangeForTheCurrentYear}`}get roleDescription(){return o.i18nBundle.getText(w)}get pickerAccessibleName(){return o.i18nBundle.getText(j,this.ariaLabelText)}onResponsivePopoverAfterClose(){this._tempValue="",super.onResponsivePopoverAfterClose()}isValid(i){let t=this._splitValueByDelimiter(i).filter(e=>e.trim()!=="");return t.length<=2&&t.every(e=>super.isValid(e))}isValidValue(i){let t=this._splitValueByDelimiter(i).filter(e=>e.trim()!=="");return t.length<=2&&t.every(e=>super.isValidValue(e))}isValidDisplayValue(i){let t=this._splitValueByDelimiter(i).filter(e=>e.trim()!=="");return t.length<=2&&t.every(e=>super.isValidDisplayValue(e))}isInValidRange(i){let t=this._splitValueByDelimiter(i).filter(e=>e.trim()!=="");return t.length<=2&&t.every(e=>super.isInValidRange(e))}isValidMin(i){let t=this._splitValueByDelimiter(i).filter(e=>e.trim()!=="");return t.length<=2&&t.every(e=>super.isValidMin(e))}isValidMax(i){let t=this._splitValueByDelimiter(i).filter(e=>e.trim()!=="");return t.length<=2&&t.every(e=>super.isValidMax(e))}normalizeValue(i){let t=this._extractFirstTimestamp(i),e=this._extractLastTimestamp(i);return t&&e&&t>e?this._buildValue(e,t):this._buildValue(t,e)}normalizeDisplayValue(i){let t=this._splitValueByDelimiter(i),e=this._exctractDisplayTimestamp(t[0]),a=this._exctractDisplayTimestamp(t[1]);return!e||!a?i:e&&a&&e>a?this._buildDisplayValue(a,e):this._buildDisplayValue(e,a)}getValueFromDisplayValue(i){let t=this._splitValueByDelimiter(i),e="",a="";return e=this._getValueStringFromTimestamp(this._exctractDisplayTimestamp(t[0])*1e3),a=this._getValueStringFromTimestamp(this._exctractDisplayTimestamp(t[1])*1e3),!e||!a?i:`${e} ${this._effectiveDelimiter} ${a}`}onSelectedDatesChange(i){i.preventDefault();let t=i.detail.selectedValues;if(t.length===0)return;if(t.length===1){this._tempValue=t[0];return}let e=this._buildValue(i.detail.selectedDates[0],i.detail.selectedDates[1]);this._updateValueAndFireEvents(e,!0,["change","value-changed"]),this._togglePicker()}_modifyDateValue(i,t,e){return c(this,null,function*(){if(!this._endDateTimestamp)return N(Q.prototype,this,"_modifyDateValue").call(this,i,t,e);let a=this._dateTimeInput.getCaretPosition(),s;if(a<=this.value.indexOf(this._effectiveDelimiter)){let n=y(p.fromTimestamp(this._startDateTimestamp*1e3),i,t,e,this._minDate,this._maxDate).valueOf()/1e3;n>this._endDateTimestamp&&(a+=Math.ceil(this.value.length/2)),s=this._buildValue(n,this._endDateTimestamp)}else{let n=y(p.fromTimestamp(this._endDateTimestamp*1e3),i,t,e,this._minDate,this._maxDate).valueOf()/1e3;s=this._buildValue(this._startDateTimestamp,n),n<this._startDateTimestamp&&(a-=Math.ceil(this.value.length/2))}this._updateValueAndFireEvents(s,!0,["change","value-changed"]),yield A(),this._dateTimeInput.setCaretPosition(a)})}get _effectiveDelimiter(){return this.delimiter||te}_splitValueByDelimiter(i){let t=[],e=i.split(this._prevDelimiter||this._effectiveDelimiter);return this.getValueFormat().parse(i)?(t[0]=e.join(this._effectiveDelimiter),t[1]=""):(t[0]=e.slice(0,e.length/2).join(this._effectiveDelimiter),t[1]=e.slice(e.length/2).join(this._effectiveDelimiter)),t}normalizeFormattedValue(i){if(i==="")return i;let t="",e="";return t=this._getValueStringFromTimestamp(this._extractFirstTimestamp(i)*1e3),e=this._getValueStringFromTimestamp(this._extractLastTimestamp(i)*1e3),!t&&!e?i:`${t} ${this._effectiveDelimiter} ${e}`}_extractFirstTimestamp(i){if(!i||!this._checkValueValidity(i))return;let t=this._splitValueByDelimiter(i);return this.getValueFormat().parse(t[0],!0).getTime()/1e3}_extractLastTimestamp(i){if(!i||!this._checkValueValidity(i))return;let t=this._splitValueByDelimiter(i);if(t=t.filter(e=>e!==" "),t[1])return this.getValueFormat().parse(t[1],!0).getTime()/1e3}_exctractDisplayTimestamp(i){if(!(!i||!this._checkDisplayValueValidity(i))&&i)return this.getDisplayFormat().parse(i,!0).getTime()/1e3}_buildValue(i,t){if(this._prevDelimiter=this._effectiveDelimiter,i){let e=this._getValueStringFromTimestamp(i*1e3);if(!t)return e;let a=this._getValueStringFromTimestamp(t*1e3);return`${e} ${this._effectiveDelimiter} ${a}`}return""}_buildDisplayValue(i,t){if(this._prevDelimiter=this._effectiveDelimiter,i){let e=this._getDisplayStringFromTimestamp(i*1e3);if(!t)return e;let a=this._getDisplayStringFromTimestamp(t*1e3);return`${e} ${this._effectiveDelimiter} ${a}`}return""}getDisplayValueFromValue(i){if(this.isLiveUpdate)return i;let t="",e="";return t=this._getDisplayStringFromTimestamp(this._extractFirstTimestamp(i)*1e3),e=this._getDisplayStringFromTimestamp(this._extractLastTimestamp(i)*1e3),!t||!e?i:`${t} ${this._effectiveDelimiter} ${e}`}get displayValue(){return this.value?this.getDisplayValueFromValue(this.value):""}};b([_()],h.prototype,"delimiter",void 0);b([_()],h.prototype,"_tempValue",void 0);h=o=b([I({tag:"ui5-daterange-picker",styles:[T.styles,Z],template:v})],h);h.define();var ie=["*"],Ie=(()=>{class m{constructor(){this.delimiter=r("-"),this.value=r(""),this.valueState=r("None"),this.required=r(!1,{transform:d}),this.disabled=r(!1,{transform:d}),this.readonly=r(!1,{transform:d}),this.placeholder=r(),this.name=r(),this.hideWeekNumbers=r(!1,{transform:d}),this.open=r(!1,{transform:d}),this.accessibleName=r(),this.accessibleNameRef=r(),this.accessibleDescription=r(),this.accessibleDescriptionRef=r(),this.primaryCalendarType=r(),this.secondaryCalendarType=r(),this.formatPattern=r(),this.displayFormat=r(),this.valueFormat=r(),this.minDate=r(""),this.maxDate=r(""),this.calendarWeekNumbering=r("Default"),this.ui5Change=u(),this.ui5Input=u(),this.ui5ValueStateChange=u(),this.ui5Open=u(),this.ui5Close=u(),this.slots=[{name:"valueStateMessage",description:"Defines the value state message that will be displayed as pop up under the component.\n\n**Note:** If not specified, a default text (in the respective language) will be displayed.\n\n**Note:** The `valueStateMessage` would be displayed,\nwhen the component is in `Information`, `Critical` or `Negative` value state.",since:"1.0.0-rc.7"}],this.elementRef=g(M),this.injector=g(F)}get dateValue(){return this.element?.dateValue??null}get dateValueUTC(){return this.element?.dateValueUTC??null}get startDateValue(){return this.element?.startDateValue??null}get endDateValue(){return this.element?.endDateValue??null}get dateValueAsync(){return this.element?.dateValueAsync??Promise}get element(){return this.elementRef.nativeElement}ngAfterViewInit(){let t=this.element,e=["delimiter","value","valueState","required","disabled","readonly","placeholder","name","hideWeekNumbers","open","accessibleName","accessibleNameRef","accessibleDescription","accessibleDescriptionRef","primaryCalendarType","secondaryCalendarType","formatPattern","displayFormat","valueFormat","minDate","maxDate","calendarWeekNumbering"];for(let s of e){let l=s.replace(/-./g,n=>n[1].toUpperCase());this[l]&&typeof this[l]=="function"&&C(this.injector,()=>{S(()=>{let n=this[l]();t&&(t[s]=n)})})}let a=["ui5Change","ui5Input","ui5ValueStateChange","ui5Open","ui5Close"];for(let s of a){let l=s.replace("ui5","").replace(/([A-Z])/g,"-$1").toLowerCase().substring(1);this[s]&&typeof this[s].emit=="function"&&t.addEventListener&&t.addEventListener(l,n=>{this[s].emit(n)})}}static{this.\u0275fac=function(e){return new(e||m)}}static{this.\u0275cmp=x({type:m,selectors:[["ui5-daterange-picker"],["","ui5-daterange-picker",""]],inputs:{delimiter:[1,"delimiter"],value:[1,"value"],valueState:[1,"valueState"],required:[1,"required"],disabled:[1,"disabled"],readonly:[1,"readonly"],placeholder:[1,"placeholder"],name:[1,"name"],hideWeekNumbers:[1,"hideWeekNumbers"],open:[1,"open"],accessibleName:[1,"accessibleName"],accessibleNameRef:[1,"accessibleNameRef"],accessibleDescription:[1,"accessibleDescription"],accessibleDescriptionRef:[1,"accessibleDescriptionRef"],primaryCalendarType:[1,"primaryCalendarType"],secondaryCalendarType:[1,"secondaryCalendarType"],formatPattern:[1,"formatPattern"],displayFormat:[1,"displayFormat"],valueFormat:[1,"valueFormat"],minDate:[1,"minDate"],maxDate:[1,"maxDate"],calendarWeekNumbering:[1,"calendarWeekNumbering"]},outputs:{ui5Change:"ui5Change",ui5Input:"ui5Input",ui5ValueStateChange:"ui5ValueStateChange",ui5Open:"ui5Open",ui5Close:"ui5Close"},exportAs:["ui5DateRangePicker"],features:[k([{provide:H,useValue:{property:"value",events:["change","input"],transformValue:t=>t||""}}]),R([J])],ngContentSelectors:ie,decls:1,vars:0,template:function(e,a){e&1&&(P(),E(0))},encapsulation:2,changeDetection:0})}}return m})();export{Ie as a};
